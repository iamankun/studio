"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6888],{6888:(e,s,a)=>{a.d(s,{K:()=>b});var n=a(5155),l=a(2115),t=a(7168),r=a(9852),c=a(9474),i=a(5784),d=a(4964),o=a(8482),m=a(8145),x=a(6891),h=a(1684),u=a(3904),j=a(2525),p=a(7434),g=a(4213),v=a(1284),f=a(8533),N=a(3398);function b(){let[e,s]=(0,l.useState)("echo 'Xin ch\xe0o AKs Studio!'"),[a,b]=(0,l.useState)([]),[w,y]=(0,l.useState)(!1),[C,S]=(0,l.useState)([]),[T,L]=(0,l.useState)(0),[k,A]=(0,l.useState)([]),[E,D]=(0,l.useState)("all"),[R,$]=(0,l.useState)("all-components"),[Z,B]=(0,l.useState)(""),[W,K]=(0,l.useState)("disconnected"),[V,_]=(0,l.useState)("");(0,l.useEffect)(()=>{z(),U()},[]),(0,l.useEffect)(()=>{A(N.v.getLogs().filter(e=>("all"===E||e.level===E)&&(!R||"all-components"===R||e.component===R)&&(!Z||!!e.message.toLowerCase().includes(Z.toLowerCase()))))},[E,R,Z]);let X=async()=>{if(e.trim()){y(!0),b(s=>[...s,"$ ".concat(e)]);try{let s;N.v.info("Terminal command executed: ".concat(e),{command:e},{component:"Terminal"}),s=e.includes("echo")?e.split("echo ")[1].replace(/^['"](.*)['"]$/,"$1"):e.includes("ls")||e.includes("dir")?"app/\ncomponents/\nlib/\ntypes/\nnode_modules/\npublic/\nREADME.md\npackage.json":e.includes("whoami")?"ankunstudio":e.includes("date")?new Date().toString():e.includes("npm")?"Simulating npm command...\nDone!":"Command not recognized: ".concat(e),await new Promise(e=>setTimeout(e,500)),b(e=>[...e,s])}catch(e){N.v.error("Terminal command failed",e,{component:"Terminal"}),b(s=>[...s,"Error: ".concat(e instanceof Error?e.message:String(e))])}finally{y(!1)}}},z=()=>{let e=N.v.getLogs();A(e),N.v.info("Logs refreshed",{count:e.length},{component:"LogViewer"})},F=()=>{N.v.debug("This is a debug message",{source:"TestTerminalLogs"},{component:"LogTest"}),N.v.info("This is an info message",{source:"TestTerminalLogs"},{component:"LogTest"}),N.v.warn("This is a warning message",{source:"TestTerminalLogs"},{component:"LogTest"});try{throw Error("Test error")}catch(e){N.v.error("This is an error message",e,{component:"LogTest"})}z()},U=async()=>{_("Đang kiểm tra kết nối database...");try{let e=await fetch("/api/database-status"),s=await e.json();K(s.success?"connected":"disconnected"),_(s.message||(s.success?"Đ\xe3 kết nối":"Đ\xe3 ngắt kết nối"))}catch(e){K("error"),_("Error: ".concat(e instanceof Error?e.message:String(e)))}};return(0,n.jsxs)("div",{className:"container py-6 space-y-6",children:[(0,n.jsxs)(o.Zp,{children:[(0,n.jsxs)(o.aR,{children:[(0,n.jsxs)(o.ZB,{className:"flex items-center",children:[(0,n.jsx)(h.A,{className:"mr-2 h-5 w-5"}),"Debug Console"]}),(0,n.jsx)(o.BT,{children:"Kiểm tra terminal, logs v\xe0 trạng th\xe1i hệ thống"})]}),(0,n.jsx)(o.Wu,{className:"p-0",children:(0,n.jsxs)(d.tU,{defaultValue:"terminal",className:"w-full",children:[(0,n.jsxs)(d.j7,{className:"w-full rounded-none border-b bg-transparent p-0",children:[(0,n.jsx)(d.Xi,{value:"terminal",className:"rounded-none border-b-2 border-transparent px-4 py-2 data-[state=active]:border-primary",children:"Terminal"}),(0,n.jsx)(d.Xi,{value:"logs",className:"rounded-none border-b-2 border-transparent px-4 py-2 data-[state=active]:border-primary",children:"Logs"}),(0,n.jsx)(d.Xi,{value:"status",className:"rounded-none border-b-2 border-transparent px-4 py-2 data-[state=active]:border-primary",children:"Status"})]}),(0,n.jsxs)(d.av,{value:"terminal",className:"p-4",children:[" ",(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(r.p,{value:e,onChange:e=>s(e.target.value),placeholder:"Enter terminal command...",onKeyDown:e=>"Enter"===e.key&&X()}),(0,n.jsx)(t.$,{onClick:X,disabled:w,children:w?(0,n.jsx)(u.A,{className:"h-4 w-4 animate-spin"}):"Run"}),(0,n.jsx)(t.$,{variant:"outline",onClick:()=>{b([]),N.v.info("Terminal cleared",null,{component:"Terminal"})},children:(0,n.jsx)(j.A,{className:"h-4 w-4"})})]}),(0,n.jsxs)("div",{className:"bg-black text-white font-mono text-sm p-4 rounded-md h-80 overflow-auto",children:[a.map((e,s)=>(0,n.jsx)("div",{className:e.startsWith("$")?"text-green-400":"text-gray-300",children:e},s)),w&&(0,n.jsx)("div",{className:"text-yellow-300 animate-pulse",children:"Running command..."})]}),(0,n.jsxs)("div",{className:"text-xs text-muted-foreground space-y-1",children:[(0,n.jsx)("p",{children:(0,n.jsx)("strong",{children:"Common commands:"})}),(0,n.jsx)("p",{children:"echo 'Hello World' - Display text"}),(0,n.jsx)("p",{children:"ls - List files"}),(0,n.jsx)("p",{children:"date - Show current date"}),(0,n.jsx)("p",{children:"whoami - Show current user"})]})]})]}),(0,n.jsxs)(d.av,{value:"logs",className:"p-4",children:[" ",(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex flex-wrap gap-2 items-end",children:[(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)("label",{className:"text-xs font-medium",children:"Level"}),(0,n.jsxs)(i.l6,{value:E,onValueChange:e=>D(e),children:[(0,n.jsx)(i.bq,{className:"w-32",children:(0,n.jsx)(i.yv,{})}),(0,n.jsxs)(i.gC,{children:[(0,n.jsx)(i.eb,{value:"all",children:"All Levels"}),(0,n.jsx)(i.eb,{value:"debug",children:"Debug"}),(0,n.jsx)(i.eb,{value:"info",children:"Info"}),(0,n.jsx)(i.eb,{value:"warn",children:"Warning"}),(0,n.jsx)(i.eb,{value:"error",children:"Error"})]})]})]}),(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)("label",{className:"text-xs font-medium",children:"Component"}),(0,n.jsxs)(i.l6,{value:R,onValueChange:$,children:[(0,n.jsx)(i.bq,{className:"w-36",children:(0,n.jsx)(i.yv,{placeholder:"All Components"})}),(0,n.jsxs)(i.gC,{children:[(0,n.jsx)(i.eb,{value:"all-components",children:"All Components"}),Array.from(new Set(k.map(e=>e.component).filter(Boolean))).map(e=>(0,n.jsx)(i.eb,{value:e,children:e},e))]})]})]}),(0,n.jsxs)("div",{className:"space-y-1 flex-1",children:[(0,n.jsx)("label",{className:"text-xs font-medium",children:"Search"}),(0,n.jsx)(r.p,{placeholder:"Search logs...",value:Z,onChange:e=>B(e.target.value)})]}),(0,n.jsxs)(t.$,{onClick:z,children:[(0,n.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Refresh"]}),(0,n.jsx)(t.$,{variant:"outline",onClick:F,children:"Generate Test Logs"})]}),(0,n.jsx)("div",{className:"border rounded-md h-80",children:(0,n.jsx)(x.F,{className:"h-80 w-full",children:0===k.length?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center h-80 text-muted-foreground",children:[(0,n.jsx)(p.A,{className:"h-12 w-12 mb-2 opacity-50"}),(0,n.jsx)("p",{children:"No logs found"})]}):(0,n.jsx)("div",{className:"p-4 space-y-2",children:k.map((e,s)=>(0,n.jsxs)("div",{className:"p-3 bg-secondary/50 border border-border rounded-md",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(m.E,{className:(e=>{switch(e){case"debug":default:return"bg-gray-500";case"info":return"bg-blue-500";case"warn":return"bg-amber-500";case"error":return"bg-red-500"}})(e.level),children:e.level.toUpperCase()}),e.component&&(0,n.jsx)(m.E,{variant:"outline",children:e.component})]}),(0,n.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleString()})]}),(0,n.jsx)("p",{className:"mt-2 text-sm",children:e.message}),e.data&&(0,n.jsxs)("details",{className:"mt-1",children:[(0,n.jsx)("summary",{className:"text-xs text-muted-foreground cursor-pointer",children:"Data"}),(0,n.jsx)("pre",{className:"mt-1 text-xs p-2 bg-muted/50 border border-border rounded overflow-auto",children:JSON.stringify(e.data,null,2)})]})]},s))})})})]})]}),(0,n.jsxs)(d.av,{value:"status",className:"p-4",children:[" ",(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)(o.Zp,{children:[(0,n.jsx)(o.aR,{className:"pb-2",children:(0,n.jsxs)(o.ZB,{className:"text-base flex items-center",children:[(0,n.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Database Status"]})}),(0,n.jsxs)(o.Wu,{children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("connected"===W?"bg-green-500":"disconnected"===W?"bg-amber-500":"bg-red-500")}),(0,n.jsx)("span",{className:"font-medium",children:"connected"===W?"Connected":"disconnected"===W?"Disconnected":"Error"})]}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:V})]}),(0,n.jsx)(o.wL,{children:(0,n.jsxs)(t.$,{size:"sm",onClick:U,children:[(0,n.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Check Again"]})})]}),(0,n.jsxs)(o.Zp,{children:[(0,n.jsx)(o.aR,{className:"pb-2",children:(0,n.jsxs)(o.ZB,{className:"text-base flex items-center",children:[(0,n.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"System Info"]})}),(0,n.jsx)(o.Wu,{children:(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-sm text-muted-foreground",children:"Version:"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"v2.0.0"})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-sm text-muted-foreground",children:"Environment:"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"production"})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-sm text-muted-foreground",children:"Log entries:"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:N.v.getLogs().length})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-sm text-muted-foreground",children:"Client:"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"Browser"})]})]})}),(0,n.jsx)(o.wL,{children:(0,n.jsxs)(t.$,{size:"sm",variant:"outline",onClick:()=>{N.v.clearLogs(),z()},children:[(0,n.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Clear Logs"]})})]})]}),(0,n.jsxs)(o.Zp,{children:[(0,n.jsx)(o.aR,{className:"pb-2",children:(0,n.jsxs)(o.ZB,{className:"text-base flex items-center",children:[(0,n.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Run Diagnostics"]})}),(0,n.jsx)(o.Wu,{children:(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(t.$,{className:"w-full",onClick:()=>{N.v.info("Running full system diagnostics",null,{component:"Diagnostics"}),U(),F(),b(e=>[...e,"$ Running system diagnostics...","Checking components...","All systems operational"])},children:"Run Full Diagnostics"}),(0,n.jsx)(c.T,{placeholder:"Add diagnostic notes here...",className:"h-20"})]})})]})]})]})]})})]}),(0,n.jsx)("div",{className:"text-center text-xs text-muted-foreground",children:(0,n.jsxs)("p",{children:["AKs Studio Terminal & Logs Utility \xa9 ",new Date().getFullYear()]})})]})}}}]);