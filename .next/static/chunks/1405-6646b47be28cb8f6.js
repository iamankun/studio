(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1405],{70:(e,t,r)=>{"use strict";async function a(e){try{let t=await fetch("/api/activity-log",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,details:{...e.details,url:window.location.href,userAgent:navigator.userAgent}})});if(!t.ok){let e="API Error: ".concat(t.status," ").concat(t.statusText),r=await t.text();try{e=JSON.parse(r).error||e}catch(t){e=r||e}throw Error(e)}return await t.json()}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown client-side error"}}}function s(e,t,r){return a({action:"login_attempt",entityType:"auth",status:t,description:"User '".concat(r.username,"' login attempt via ").concat(e," was ").concat(t,"."),details:r})}function o(e,t,r){return a({action:"registration_attempt",entityType:"auth",status:t,description:"User '".concat(r.username,"' registration attempt via ").concat(e," was ").concat(t,"."),details:r})}function i(e,t,r){return a({action:"ui_interaction",entityType:"ui_element",entityId:t,description:"User interacted with ".concat(e," '").concat(t,"'."),details:r})}function n(e,t,r,s){return a({action:"".concat(t,"_submission"),entityType:"submission",entityId:e,status:r,description:"Submission '".concat(e,"' activity: ").concat(t," ").concat(r,"."),details:s})}r.d(t,{Pv:()=>i,cV:()=>o,kF:()=>n,u1:()=>s})},135:(e,t,r)=>{"use strict";r.d(t,{DynamicBackground:()=>l});var a=r(5155),s=r(2115);let o={type:"video",videoUrl:"",videoList:[],randomVideo:!1,enableSound:!1,opacity:.5},i="backgroundSettings",n=e=>{let{enableSound:t,onSoundToggle:r}=e;return(0,a.jsx)("button",{style:{position:"fixed",bottom:20,right:20,zIndex:50,background:"rgba(0,0,0,0.5)",color:"white",border:"none",borderRadius:"50%",width:40,height:40,cursor:"pointer"},onClick:()=>r(!t),"aria-label":t?"Mute background":"Unmute background",children:t?"\uD83D\uDD0A":"\uD83D\uDD07"})};function l(){let[e,t]=(0,s.useState)(null),[r,l]=(0,s.useState)(!1),[d,c]=(0,s.useState)(0),[u,m]=(0,s.useState)(!1);(0,s.useEffect)(()=>{try{let e=localStorage.getItem(i);if(e){let r=JSON.parse(e);r&&"object"==typeof r?t({...o,...r}):(console.warn("Invalid background settings format, using defaults"),t(o))}else t(o)}catch(e){console.error("Failed to load or parse background settings:",e),t(o)}let e=e=>t(e.detail);return window.addEventListener("backgroundUpdate",e),()=>window.removeEventListener("backgroundUpdate",e)},[]);let g=(0,s.useMemo)(()=>{if(!e)return null;let t=null;if(e.randomVideo&&e.videoList&&e.videoList.length>0){var r;t=(r=e.videoList)[Math.floor(Math.random()*r.length)]}else e.videoUrl&&""!==e.videoUrl.trim()?t=function(e){let t=e.match(/(?:youtu\.be\/|youtube\.com\/(?:watch\?v=|embed\/|v\/))([\w-]{11})/);return t?t[1]:null}(e.videoUrl):e.videoList&&e.videoList.length>0&&(t=e.videoList[0]);return t||(t="dQw4w9WgXcQ"),t},[null==e?void 0:e.randomVideo,null==e?void 0:e.videoUrl,null==e?void 0:e.videoList]),h=()=>{l(!0),m(!1),setTimeout(()=>c(e=>e+1),300)};return((0,s.useEffect)(()=>{if(r)return;let e=["click","touchstart","keydown","mousedown","scroll"];return e.forEach(e=>{document.addEventListener(e,h,{once:!0,passive:!0})}),()=>{e.forEach(e=>{document.removeEventListener(e,h)})}},[r]),(0,s.useEffect)(()=>{if(!r&&g){let e=setTimeout(h,2e3);return()=>clearTimeout(e)}},[r,g]),e)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"fixed inset-0 z-0",children:["video"===e.type&&g?u?(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-red-900 to-purple-900 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-white text-center",children:[(0,a.jsx)("p",{className:"text-lg",children:"Video loading failed"}),(0,a.jsx)("p",{className:"text-sm opacity-75",children:"Retrying..."})]})}):(0,a.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(g,"?autoplay=1&mute=1&controls=0&loop=1&playlist=").concat(g,"&showinfo=0&rel=0&iv_load_policy=3&modestbranding=1&playsinline=1&enablejsapi=1&origin=").concat(window.location.origin),allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",className:"absolute inset-0 w-full h-full object-cover pointer-events-none select-none",style:{opacity:e.opacity},onLoad:e=>{let t=e.currentTarget;if(null==t?void 0:t.contentWindow)try{t.contentWindow.postMessage('{"event":"command","func":"mute","args":""}',"https://www.youtube.com")}catch(e){console.warn("Could not mute video:",e)}},onError:()=>{console.warn("YouTube iframe failed to load, trying `fallback..."),m(!0),setTimeout(()=>{c(e=>e+1),m(!1)},2e3)}},d):(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500 to-purple-600"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black ".concat((e=>{let t=Math.max(.1,Math.min(.9,1-e));return t<=.1?"opacity-10":t<=.2?"opacity-20":t<=.3?"opacity-30":t<=.4?"opacity-40":t<=.5?"opacity-50":t<=.6?"opacity-60":t<=.7?"opacity-70":t<=.8?"opacity-80":"opacity-90"})(e.opacity))})]}),"video"===e.type&&g&&(0,a.jsx)(n,{enableSound:e.enableSound,onSoundToggle:r=>{if(e){let a={...e,enableSound:r};t(a),localStorage.setItem(i,JSON.stringify(a));let s=document.querySelector('iframe[title="YouTube Background Video"]');if(null==s?void 0:s.contentWindow)try{s.contentWindow.postMessage('{"event":"command","func":"mute","args":""}',"https://www.youtube.com")}catch(e){console.warn("Could not update video sound:",e)}window.dispatchEvent(new CustomEvent("backgroundUpdate",{detail:a}))}}})]}):(0,a.jsx)("div",{className:"fixed inset-0 -z-10 bg-gradient-to-br from-indigo-500 to-purple-600"})}},2714:(e,t,r)=>{"use strict";r.d(t,{J:()=>d});var a=r(5155),s=r(2115),o=r(968),i=r(2085),n=r(3999);let l=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(o.b,{ref:t,className:(0,n.cn)(l(),r),...s})});d.displayName=o.b.displayName},3119:(e,t,r)=>{"use strict";r.d(t,{a:()=>s});var a=r(2115);function s(){let[e,t]=a.useState(null);return a.useEffect(()=>{let e=()=>{t(window.innerWidth<768)};e(),window.addEventListener("resize",e);let r=window.matchMedia("(max-width: ".concat(767,"px)"));return r.addEventListener("change",e),()=>{window.removeEventListener("resize",e),r.removeEventListener("change",e)}},[]),null!==e&&e}},5158:()=>{},6841:(e,t,r)=>{"use strict";r.d(t,{O:()=>T,A:()=>J});var a=r(5155),s=r(2115),o=r(7168),i=r(9852),n=r(2714),l=r(8482),d=r(1007),c=r(2919),u=r(7624),m=r(6766),g=r(70);r(5158);var h=r(9509);function p(e){let{onLogin:t,onSwitchToRegister:r,onSwitchToForgot:p}=e,[x,b]=(0,s.useState)(""),[v,f]=(0,s.useState)(""),[y,w]=(0,s.useState)(!1),[j,N]=(0,s.useState)(""),[k,S]=(0,s.useState)("Xin ch\xe0o"),[C,L]=(0,s.useState)(0),[U,E]=(0,s.useState)(""),[P,A]=(0,s.useState)(""),[T,J]=(0,s.useState)(""),[M]=(0,s.useState)({appName:h.env.COMPANY_NAME,logoUrl:h.env.COMPANY_LOGO}),F=(0,s.useMemo)(()=>["Xin ch\xe0o","こんにちは","Hola","Bonjour","Hello","Hajimemashite","Guten Tag","Ciao","Namaste","Zdravstvuyte","안녕하세요","你好","مرحبا","Salam"],[]),z=(0,s.useCallback)(e=>{if(e.length>=3){let t=e.substring(0,3).toLowerCase();return"ank"===t||"kun"===t?"An Kun":"adm"===t?"Người quản l\xfd":"ngh"===t||"art"===t?"Nghệ sĩ":"Nghệ sĩ mới"}return""},[]),_=async e=>{e.preventDefault();let r=O(x),a=V(v);if(!r||!a)return void N("Vui l\xf2ng sửa c\xe1c lỗi được hiển thị.");w(!0),N("");try{(0,g.Pv)("form","login-form",{username:x,attempt:"started"});let e=await t(x,v);if(console.log("[Copilot Debug] API login result:",e),e.success)(0,g.u1)("password","success",{username:x,role:U||"user"});else{var s;N(null!=(s=e.message)?s:"Đăng nhập thất bại"),(0,g.u1)("password","failed",{username:x,error:e.message||"Unknown error"})}}catch(e){console.error("[Copilot Debug] Login error:",e),N("Đ\xe3 xảy ra lỗi kh\xf4ng mong muốn"),(0,g.u1)("password","error",{username:x,error:e instanceof Error?e.message:"Unknown error"})}finally{w(!1)}};(0,s.useEffect)(()=>{let e=setInterval(()=>{L(e=>(e+1)%F.length)},3e3);return()=>clearInterval(e)},[F.length]),(0,s.useEffect)(()=>{let e=document.querySelector(".greeting-text");e?(e.classList.add("opacity-0"),setTimeout(()=>{S(F[C]),e.classList.remove("opacity-0")},200)):S(F[C])},[C,F]),(0,s.useEffect)(()=>{E(z(x))},[x,z]);let O=e=>e.length<3?(A("Username must be at least 3 characters"),!1):e.length>20?(A("Username must be less than 20 characters"),!1):(A(""),!0),V=e=>e.length<6?(J("Password must be at least 6 characters"),!1):(J(""),!0),I="transition-all duration-300 bg-transparent border-gray-600 hover:border-gray-400 focus:border-primary focus:ring-primary/20";return(0,a.jsx)("div",{className:"flex min-h-[100dvh] flex-col items-center justify-center p-4 pt-24 relative overflow-hidden",children:(0,a.jsxs)(l.Zp,{className:"w-full max-w-md relative z-40 border border-white/10 shadow-2xl bg-background/5 backdrop-blur-2xl hover:bg-background/10 transition-all duration-500 before:absolute before:inset-0 before:bg-gradient-to-b before:from-white/5 before:to-white/0 before:rounded-xl",children:[(0,a.jsxs)(l.aR,{className:"text-center relative z-10",children:[(0,a.jsxs)("div",{className:"relative w-20 h-20 mx-auto mb-2",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 to-purple-600/20 rounded-full blur-lg"}),(0,a.jsx)(m.default,{src:h.env.COMPANY_LOGO||"/logo.png",alt:h.env.COMPANY_NAME||"Digital Music Distribution",fill:!0,className:"object-cover rounded-full p-1 bg-background/10 backdrop-blur-xl border border-white/20 hover:border-white/40 transition-all duration-300 hover:scale-105",priority:!0})]}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm animate-fade-in",children:U||"Welcome back to ".concat(h.env.COMPANY_NAME)}),(0,a.jsx)("h2",{className:"text-2xl font-bold bg-clip-text text-transparent  bg-gradient-to-r from-indigo-500 to-pink-500 select-none",children:k})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("form",{onSubmit:_,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2 group/username",children:[(0,a.jsx)(n.J,{htmlFor:"username",className:"text-sm font-medium inline-block transition-transform duration-300 group-focus-within/username:translate-x-2",children:"Username"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.p,{id:"username",type:"text",value:x,onChange:e=>{b(e.target.value),O(e.target.value)},className:"pl-10 bg-background/30 border-white/10 focus:border-primary/50\n                    placeholder:text-muted-foreground/50 ".concat(I,"\n                    focus:bg-background/40 focus:ring-2 focus:ring-offset-0\n                    ").concat(P?"border-destructive/50 focus:border-destructive":""),placeholder:"Enter your username","aria-invalid":!!P,"aria-describedby":P?"username-error":void 0,disabled:y}),(0,a.jsx)(d.A,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground/50 transition-transform duration-300 group-focus-within/username:scale-110 group-focus-within/username:text-primary/70"})]}),P&&(0,a.jsxs)("div",{id:"username-error",className:"text-xs text-destructive mt-1 ml-1 animate-fade-in flex items-center gap-1",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-circle"}),P]})]}),(0,a.jsxs)("div",{className:"space-y-2 group/password",children:[(0,a.jsx)(n.J,{htmlFor:"password",className:"text-sm font-medium inline-block transition-transform duration-300 group-focus-within/password:translate-x-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.p,{id:"password",type:"password",value:v,onChange:e=>{f(e.target.value),V(e.target.value)},className:"pl-10 bg-background/30 border-white/10 focus:border-primary/50\n                    placeholder:text-muted-foreground/50 ".concat(I,"\n                    focus:bg-background/40 focus:ring-2 focus:ring-offset-0\n                    ").concat(T?"border-destructive/50 focus:border-destructive":""),placeholder:"Enter your password","aria-invalid":!!T,"aria-describedby":T?"password-error":void 0,autoComplete:"current-password",disabled:y}),(0,a.jsx)(c.A,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground/50 transition-transform duration-300 group-focus-within/password:scale-110 group-focus-within/password:text-primary/70"})]}),T&&(0,a.jsxs)("div",{id:"password-error",className:"text-xs text-destructive mt-1 ml-1 animate-fade-in flex items-center gap-1",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-circle"}),T]})]}),j&&(0,a.jsxs)("div",{className:"p-3 rounded-lg bg-destructive/10 border border-destructive/20 text-destructive text-sm animate-fade-in flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle"}),(0,a.jsx)("span",{className:"flex-1",children:j}),(0,a.jsx)("button",{type:"button",onClick:()=>N(""),className:"text-destructive/70 hover:text-destructive transition-colors","aria-label":"Dismiss error",children:(0,a.jsx)("i",{className:"fas fa-times"})})]}),(0,a.jsx)(o.$,{type:"submit",className:"w-full relative overflow-hidden group login-button ".concat("transition-all duration-500 bg-gradient-to-r from-primary via-purple-600 to-primary hover:scale-[1.02] hover:shadow-xl hover:shadow-primary/20 active:scale-[0.98]"),disabled:y,variant:"default",children:y?(0,a.jsx)(u.A,{className:"h-5 w-5 animate-spin"}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("span",{className:"relative z-10",children:"Login"})})}),(0,a.jsxs)("div",{className:"flex flex-col space-y-3 text-center text-sm",children:[(0,a.jsxs)(o.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{(0,g.Pv)("button","forgot-password",{source:"login-view"}),p()},className:"h-9 text-muted-foreground hover:text-primary hover:bg-primary/10  transition-all duration-300 border border-transparent hover:border-primary/20 backdrop-blur-sm group relative overflow-hidden",children:[(0,a.jsxs)("span",{className:"relative z-10 flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fas fa-key text-xs"}),"Forgot password?"]}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/0 via-primary/5 to-primary/0  translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-500"})]}),(0,a.jsxs)(o.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{(0,g.Pv)("button","switch-to-register",{source:"login-view"}),r()},className:"h-10 bg-gradient-to-r from-primary/10 to-purple-600/10  border-primary/30 hover:border-primary/50 text-foreground hover:text-primary hover:bg-gradient-to-r hover:from-primary/20 hover:to-purple-600/20 transition-all duration-300 backdrop-blur-sm group relative overflow-hidden hover:shadow-lg hover:shadow-primary/20",children:[(0,a.jsxs)("span",{className:"relative z-10 flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fas fa-user-plus text-xs"}),"Don't have an account? ",(0,a.jsx)("strong",{children:"Register"})]}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/0 via-primary/10 to-primary/0  translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"})]})]})]})})]})})}var x=r(1264),b=r(5525);function v(e){let{onRegister:t,onSwitchToLogin:r}=e,[h,p]=(0,s.useState)(""),[v,f]=(0,s.useState)(""),[y,w]=(0,s.useState)(""),[j,N]=(0,s.useState)(""),[k,S]=(0,s.useState)(!1),[C,L]=(0,s.useState)(""),[U,E]=(0,s.useState)(""),[P,A]=(0,s.useState)(!1),[T,J]=(0,s.useState)({username:"",email:"",password:"",confirmPassword:""}),M=(0,s.useCallback)(()=>{let e={username:"",email:"",password:"",confirmPassword:""},t=!0;return h.length<3&&(e.username="Username phải c\xf3 \xedt nhất 3 k\xfd tự",t=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v)||(e.email="Email kh\xf4ng hợp lệ",t=!1),y.length<6&&(e.password="Password phải c\xf3 \xedt nhất 6 k\xfd tự",t=!1),y!==j&&(e.confirmPassword="Mật khẩu kh\xf4ng khớp",t=!1),J(e),t},[h,v,y,j]),F=async e=>{if(e.preventDefault(),L(""),E(""),M()){if(!P)return void L("Bạn phải đồng \xfd với điều khoản sử dụng");S(!0),(0,g.Pv)("form","register-form",{username:h,email_domain:v.split("@")[1]});try{let e=await t(h,v,y);console.log("[Copilot Debug] API register result:",e),e.success?((0,g.cV)("email","success",{username:h,email_domain:v.split("@")[1]}),E("Đăng k\xfd th\xe0nh c\xf4ng! Bạn c\xf3 thể đăng nhập ngay b\xe2y giờ."),p(""),f(""),w(""),N(""),A(!1)):((0,g.cV)("email","failed",{username:h,email_domain:v.split("@")[1],error:e.message}),L(e.message||"Đăng k\xfd thất bại, vui l\xf2ng thử lại"))}catch(e){console.error("[Copilot Debug] Register error:",e),(0,g.cV)("email","error",{username:h,email_domain:v.split("@")[1],error:e instanceof Error?e.message:String(e)}),L("Đ\xe3 xảy ra lỗi khi đăng k\xfd. Vui l\xf2ng thử lại sau.")}finally{S(!1)}}};return(0,a.jsx)("div",{className:"flex min-h-[100dvh] flex-col items-center justify-center p-4 relative overflow-hidden",children:(0,a.jsxs)(l.Zp,{className:"w-full max-w-md relative z-10 border-0 shadow-2xl  bg-background/60 backdrop-blur-xl hover:bg-background/70 transition-all duration-300 before:absolute before:inset-0 before:bg-gradient-to-b before:from-white/10 before:to-white/5 before:rounded-xl",children:[(0,a.jsxs)(l.aR,{className:"text-center space-y-2",children:[(0,a.jsx)("div",{className:"relative w-20 h-20 mx-auto mb-2",children:(0,a.jsx)(m.default,{src:"/face.png",alt:"Logo",fill:!0,className:"object-cover rounded-full p-1 bg-background/40 backdrop-blur-sm",priority:!0})}),(0,a.jsx)("h2",{className:"text-2xl font-bold bg-clip-text text-transparent  bg-gradient-to-r from-indigo-500 to-pink-500",children:"Tạo t\xe0i khoản mới"}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"Tham gia cộng đồng AKs Studio"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"username",className:"text-sm font-medium",children:"Username"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.p,{id:"username",type:"text",value:h,onChange:e=>p(e.target.value),className:"pl-10 bg-background/40 border-muted-foreground/20 focus:border-primary/50",placeholder:"Choose a username",disabled:k}),(0,a.jsx)(d.A,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground/70"})]}),T.username&&(0,a.jsx)("p",{className:"text-destructive text-sm mt-1",children:T.username})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.p,{id:"email",type:"email",value:v,onChange:e=>f(e.target.value),className:"pl-10 bg-background/40 border-muted-foreground/20 focus:border-primary/50",placeholder:"Enter your email",disabled:k}),(0,a.jsx)(x.A,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground/70"})]}),T.email&&(0,a.jsx)("p",{className:"text-destructive text-sm mt-1",children:T.email})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.p,{id:"password",type:"password",value:y,onChange:e=>w(e.target.value),className:"pl-10 bg-background/40 border-muted-foreground/20 focus:border-primary/50",placeholder:"Choose a password",disabled:k}),(0,a.jsx)(c.A,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground/70"})]}),T.password&&(0,a.jsx)("p",{className:"text-destructive text-sm mt-1",children:T.password})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"confirmPassword",className:"text-sm font-medium",children:"Confirm Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.p,{id:"confirmPassword",type:"password",value:j,onChange:e=>N(e.target.value),className:"pl-10 bg-background/40 border-muted-foreground/20 focus:border-primary/50",placeholder:"Confirm your password",disabled:k}),(0,a.jsx)(b.A,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground/70"})]}),T.confirmPassword&&(0,a.jsx)("p",{className:"text-destructive text-sm mt-1",children:T.confirmPassword})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:P,onChange:e=>A(e.target.checked),className:"rounded border-muted-foreground/20"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"T\xf4i đồng \xfd với c\xe1c điều khoản sử dụng"})]}),C&&(0,a.jsx)("div",{className:"p-3 rounded-lg bg-destructive/10 border border-destructive/20 text-destructive text-sm",children:C}),U&&(0,a.jsx)("div",{className:"p-3 rounded-lg bg-green-500/10 border border-green-500/20 text-green-500 text-sm",children:U}),(0,a.jsx)(o.$,{type:"submit",className:"w-full relative overflow-hidden group",disabled:k,children:k?(0,a.jsx)(u.A,{className:"h-5 w-5 animate-spin"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"relative z-10",children:"Register"}),(0,a.jsx)("span",{className:"absolute inset-0 bg-gradient-to-r from-primary/0 via-primary/20 to-primary/0  translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"})]})}),(0,a.jsxs)(o.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{(0,g.Pv)("button","switch-to-login",{from:"register"}),r()},className:"h-10 bg-gradient-to-r from-blue-500/10 to-indigo-600/10  border-blue-500/30 hover:border-blue-500/50 text-foreground hover:text-blue-500 hover:bg-gradient-to-r hover:from-blue-500/20 hover:to-indigo-600/20 transition-all duration-300 backdrop-blur-sm group relative overflow-hidden hover:shadow-lg hover:shadow-blue-500/20",children:[(0,a.jsxs)("span",{className:"relative z-10 flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fas fa-sign-in-alt text-xs"}),"Already have an account? ",(0,a.jsx)("strong",{children:"Login"})]}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/0 via-blue-500/10 to-blue-500/0  translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"})]})]})})]})})}let f=["dQw4w9WgXcQ","kJQP7kiw5Fk","fJ9rUzIMcZQ","9bZkp7q19f0","hTWKbfoikeg","YQHsXMglC9A","CevxZvSJLk8","JGwWNGJdvx8","RgKAFK5djSk","OPf0YbXqDm0"];function y(){let[e,t]=(0,s.useState)({type:"gradient",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",videoUrl:"",imageUrl:"",opacity:.3,randomVideo:!0,videoList:f}),[r,o]=(0,s.useState)(""),[i,n]=(0,s.useState)(!1),[l,d]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[m,g]=(0,s.useState)(null),[h,p]=(0,s.useState)(!1),[x,b]=(0,s.useState)(null),[v,y]=(0,s.useState)({gradient:"",animation:"",font:""}),[w,j]=(0,s.useState)({gradient:"",animation:"",font:""});(0,s.useEffect)(()=>{let e=localStorage.getItem("backgroundSettings_v2");e&&t(JSON.parse(e));let r=e=>{t(e.detail)};return window.addEventListener("backgroundUpdate",r),()=>{window.removeEventListener("backgroundUpdate",r)}},[]),(0,s.useEffect)(()=>{if("video"===e.type&&e.randomVideo){let t=Math.floor(Math.random()*e.videoList.length);o(e.videoList[t])}else"video"===e.type&&e.videoUrl&&o(N(e.videoUrl)||"")},[e]);let N=e=>{let t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return t&&11===t[7].length?t[7]:null};return(0,a.jsxs)("div",{className:"fixed inset-0 -z-10",children:["video"===e.type&&r&&(0,a.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(r,"?autoplay=1&mute=1&controls=0&loop=1&playlist=").concat(r,"&showinfo=0&rel=0&iv_load_policy=3&modestbranding=1&playsinline=1&enablejsapi=1&origin=").concat(window.location.origin),allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",className:"absolute inset-0 w-full h-full object-cover pointer-events-none select-none",style:{opacity:e.opacity}}),"gradient"===e.type&&(0,a.jsx)("div",{className:"absolute inset-0 transition-opacity duration-1000",style:{background:e.gradient,opacity:e.opacity}}),"image"===e.type&&e.imageUrl&&(0,a.jsx)("div",{className:"absolute inset-0 bg-center bg-cover transition-opacity duration-1000",style:{backgroundImage:"url(".concat(e.imageUrl,")"),opacity:e.opacity}}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-transparent to-black/40"})]})}var w=r(4229);let j="backgroundSettings_v2",N={type:"gradient",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",videoUrl:"",imageUrl:"",opacity:.3,randomVideo:!0,videoList:["dQw4w9WgXcQ","kJQP7kiw5Fk","fJ9rUzIMcZQ","9bZkp7q19f0","hTWKbfoikeg","YQHsXMglC9A","CevxZvSJLk8","JGwWNGJdvx8","RgKAFK5djSk","OPf0YbXqDm0"],enableSound:!1},k=["dQw4w9WgXcQ","kJQP7kiw5Fk","fJ9rUzIMcZQ","9bZkp7q19f0","hTWKbfoikeg","YQHsXMglC9A","CevxZvSJLk8","JGwWNGJdvx8","RgKAFK5djSk","OPf0YbXqDm0"];function S(){let{onClose:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,r]=(0,s.useState)(N),[i,n]=(0,s.useState)(!1),[l,d]=(0,s.useState)(""),[c,u]=(0,s.useState)("0.5"),[g,h]=(0,s.useState)(t.imageUrl||"");return(0,s.useEffect)(()=>{let e=localStorage.getItem(j);if(e){var t,a,s;let o=JSON.parse(e),i={...N,...o};r(i),d(null!=(a=i.videoUrl)?a:""),u(null!=(s=null==(t=i.opacity)?void 0:t.toString())?s:"0.5"),h(i.imageUrl||"")}},[]),(0,a.jsx)("div",{className:"fixed top-16 right-4 z-50",children:(0,a.jsxs)("div",{className:"bg-gray-900/95 backdrop-blur-md border border-gray-700 rounded-lg p-6 w-80 max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"T\xf9y chỉnh nền"}),(0,a.jsx)("button",{className:"text-gray-400 hover:text-white transition-colors",onClick:()=>n(!i),children:i?"Đơn giản":"N\xe2ng cao"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{htmlFor:"opacity",className:"block text-sm font-medium text-gray-200",children:["Độ mờ nền",(0,a.jsxs)("span",{className:"text-xs text-gray-400 ml-2",children:["\xa0(",Math.round(100*Number(c)),"%)"]})]}),(0,a.jsx)("input",{id:"opacity",type:"range",min:"0",max:"1",step:"0.1",value:c,onChange:e=>{let t=e.target.value;u(t),r(e=>({...e,opacity:parseFloat(t)}))},className:"w-full"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"backgroundType",className:"block text-sm font-medium text-gray-200",children:"Loại nền"}),(0,a.jsxs)("select",{id:"backgroundType",value:t.type,onChange:e=>{let t=e.target.value;r(e=>({...e,type:t}))},className:"w-full p-2 bg-gray-800 border border-gray-600 rounded text-gray-200 text-sm",children:[(0,a.jsx)("option",{value:"gradient",children:"Nền gradient"}),(0,a.jsx)("option",{value:"video",children:"Video nền"}),(0,a.jsx)("option",{value:"image",children:"Ảnh nền"})]})]}),"gradient"===t.type&&(0,a.jsxs)("div",{className:"space-y-4 bg-black/30 backdrop-blur-xl rounded-2xl border border-white/10 shadow-2xl p-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"gradient",className:"block text-sm font-medium text-gray-200",children:"Chọn gradient"}),(0,a.jsxs)("select",{id:"gradient",value:t.gradient,onChange:e=>{r(t=>({...t,gradient:e.target.value}))},className:"w-full p-2 bg-gray-800 border border-gray-600 rounded text-gray-200 text-sm",children:[(0,a.jsx)("option",{value:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",children:"T\xedm - Xanh"}),(0,a.jsx)("option",{value:"linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%)",children:"Hồng - Cam"}),(0,a.jsx)("option",{value:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",children:"Xanh - Hồng nhạt"}),(0,a.jsx)("option",{value:"linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%)",children:"Xanh l\xe1 - Xanh dương"}),(0,a.jsx)("option",{value:"linear-gradient(135deg, #f6d365 0%, #fda085 100%)",children:"V\xe0ng - Cam"}),(0,a.jsx)("option",{value:"linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%)",children:"Xanh l\xe1 nhạt"}),(0,a.jsx)("option",{value:"linear-gradient(135deg, #5ee7df 0%, #b490ca 100%)",children:"Xanh ngọc - T\xedm"}),(0,a.jsx)("option",{value:"linear-gradient(135deg, #c471f5 0%, #fa71cd 100%)",children:"T\xedm - Hồng"}),(0,a.jsx)("option",{value:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",children:"Xanh dương - Xanh ngọc"})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-200 mb-2",children:"Xem trước:"}),(0,a.jsx)("div",{className:"w-full h-32 rounded-lg border border-gray-700",style:{background:t.gradient}})]})]}),"video"===t.type&&(0,a.jsxs)("div",{className:"space-y-4 bg-black/30 backdrop-blur-xl rounded-2xl border border-white/10 shadow-2xl p-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{id:"randomVideo",type:"checkbox",checked:t.randomVideo,onChange:e=>{var t;return t=e.target.checked,void r(e=>({...e,randomVideo:t,videoList:t?k:[]}))},className:"rounded border-gray-600"}),(0,a.jsx)("label",{htmlFor:"randomVideo",className:"text-sm text-gray-300",children:"Video ngẫu nhi\xean"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{id:"enableSound",type:"checkbox",checked:t.enableSound,onChange:e=>{var t;return t=e.target.checked,void r(e=>({...e,enableSound:t}))},className:"rounded border-gray-600"}),(0,a.jsx)("label",{htmlFor:"enableSound",className:"text-sm text-gray-300",children:"Bật \xe2m thanh"})]})]}),i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"youtubeUrl",className:"block text-sm font-medium text-gray-200",children:"YouTube Video ID hoặc URL"}),(0,a.jsx)("input",{id:"youtubeUrl",type:"text",value:l,onChange:e=>d(e.target.value),placeholder:"V\xed dụ: dQw4w9WgXcQ",className:"w-full p-2 bg-gray-800 border border-gray-600 rounded text-gray-200 text-sm"}),(0,a.jsx)(o.$,{onClick:()=>(e=>{let t=/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/.exec(e),a=t?t[1]:e;a&&(d(a),r(e=>({...e,type:"video",videoUrl:a,randomVideo:!1})))})(l),className:"w-full mt-2",size:"sm",children:"\xc1p dụng video"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"videoList",className:"block text-sm font-medium text-gray-200",children:"Danh s\xe1ch video ngẫu nhi\xean"}),(0,a.jsx)("div",{className:"max-h-32 overflow-y-auto space-y-1",children:t.videoList.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsxs)("span",{className:"text-gray-400",children:[t+1,"."]}),(0,a.jsx)("code",{className:"text-xs bg-gray-800 px-1.5 py-0.5 rounded flex-1",children:e}),(0,a.jsx)("button",{onClick:()=>{r(t=>({...t,videoList:t.videoList.filter(t=>t!==e)}))},className:"text-red-400 hover:text-red-300 p-1",title:"X\xf3a video n\xe0y",children:"\xd7"})]},e))})]})]})]}),"image"===t.type&&(0,a.jsxs)("div",{className:"space-y-4 bg-black/30 backdrop-blur-xl rounded-2xl border border-white/10 shadow-2xl p-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-200",children:"URL ảnh nền"}),(0,a.jsx)("input",{id:"imageUrl",type:"text",value:t.imageUrl,onChange:e=>{let t=e.target.value;r(e=>({...e,imageUrl:t})),h(t)},placeholder:"https://example.com/image.jpg",className:"w-full p-2 bg-gray-800 border border-gray-600 rounded text-gray-200 text-sm"}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Nhập URL của ảnh nền. Ảnh sẽ được căn giữa v\xe0 tự động co d\xe3n để phủ to\xe0n m\xe0n h\xecnh."})]}),t.imageUrl&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-200 mb-2",children:"Xem trước:"}),(0,a.jsx)("div",{className:"relative w-full h-32",children:(0,a.jsx)(m.default,{src:g||'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24"><path fill="%23666" d="M21 5v6.59l-3-3.01-4 4.01-4-4-4 4-3-3.01V5h18zm-3 6.42l3 3.01V19H3v-5.58l3 2.99 4-4 4 4 4-4 3 3.01z"/></svg>',alt:"Background preview",className:"rounded-lg border border-gray-700",fill:!0,style:{objectFit:"cover"},onError:()=>{h('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24"><path fill="%23666" d="M21 5v6.59l-3-3.01-4 4.01-4-4-4 4-3-3.01V5h18zm-3 6.42l3 3.01V19H3v-5.58l3 2.99 4-4 4 4 4-4 3 3.01z"/></svg>')}})})]})]}),(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsxs)(o.$,{onClick:()=>{try{let e={...t,opacity:parseFloat(c),videoUrl:l||t.videoUrl};localStorage.setItem(j,JSON.stringify(e)),r(e),window.dispatchEvent(new CustomEvent("backgroundUpdate",{detail:e}))}catch(e){console.error("Failed to save background settings:",e)}},className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[(0,a.jsx)(w.A,{className:"w-4 h-4 mr-2"}),"Lưu c\xe0i đặt"]})})]})]})})}var C=r(381),L=r(760),U=r(8274);let E=e=>{let{children:t,showLogin:r,showSettings:s,setShowSettings:i}=e;return(0,a.jsxs)("div",{className:"relative min-h-screen w-full flex flex-col items-center overflow-hidden",children:[(0,a.jsx)(y,{}),(0,a.jsxs)("div",{className:"w-full h-16 flex items-center justify-between px-6 backdrop-blur-2xl bg-black/10 border-b border-white/10 z-50 sticky top-0 transition-all duration-300 hover:bg-black/20",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-white/20 shadow-lg hover:border-white/40 transition-all duration-300  hover:shadow-primary/20 group relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-purple-600/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,a.jsx)(m.default,{src:"/face.png",alt:"Logo",width:32,height:32,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",priority:!0})]}),(0,a.jsx)("span",{className:"font-semibold text-foreground/90 bg-gradient-to-r from-white to-white/80 bg-clip-text hover:text-transparent transition-all duration-300",children:"An Kun Studio"})]}),(0,a.jsxs)(o.$,{variant:"ghost",size:"sm",className:"text-foreground/70 hover:text-foreground transition-all duration-300 gap-2 group bg-white/5 hover:bg-white/10 hover:shadow-lg hover:shadow-primary/10",onClick:()=>i(!s),children:[(0,a.jsxs)("span",{className:"text-sm relative",children:["Background",(0,a.jsx)("span",{className:"absolute inset-0 bg-gradient-to-r from-primary/0 via-primary/30 to-primary/0  opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),(0,a.jsx)(C.A,{className:"h-4 w-4 group-hover:rotate-90 group-hover:text-primary transition-all duration-300"})]})]}),(0,a.jsx)(L.N,{children:s&&(0,a.jsx)(U.P.div,{initial:{opacity:0,height:0,y:-10},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:-10},transition:{type:"spring",stiffness:300,damping:30,mass:.8},className:"absolute top-16 right-0 z-50 w-full max-w-sm overflow-hidden origin-top",children:(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)(S,{onClose:()=>i(!1)})})})}),(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center w-full px-4 py-8",children:(0,a.jsxs)("div",{className:"relative w-full max-w-md",children:[(0,a.jsx)("div",{className:"absolute -top-24 left-1/2 transform -translate-x-1/2 w-20 h-20",children:(0,a.jsx)("div",{className:"w-full h-full rounded-full backdrop-blur-sm border border-white/20 shadow-[0_8px_32px_rgba(0,0,0,0.2)] transition-all duration-300",children:(0,a.jsx)(m.default,{src:"/public/media.webp",alt:"An Kun Studio Logo Media",width:100,height:100,className:"w-full h-full object-cover rounded-full",priority:!0})})}),(0,a.jsx)(U.P.div,{className:"w-full backdrop-blur-md rounded-2xl shadow-[0_8px_32px_rgba(0,0,0,0.2)] p-8 border border-white/20",layout:!0,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:(0,a.jsx)(L.N,{mode:"wait",children:(0,a.jsx)(U.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:t},r?"login":"register")})})]})})]})};function P(e){let{onLoginSuccess:t,onLoginCancel:r,onRegisterSuccess:o,showLogin:i,showRegister:n,onSwitchToRegister:l,onSwitchToLogin:d}=e,[c,u]=(0,s.useState)(!1),m=async(e,r)=>{try{var a;let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:r})}),o=await s.json();if(s.ok&&o.success&&o.data)return t(o.data),{success:!0};return{success:!1,message:null!=(a=o.message)?a:"Đăng nhập thất bại"}}catch(e){return console.error("Login error:",e),{success:!1,message:"Đ\xe3 xảy ra lỗi kh\xf4ng mong muốn"}}},g=async(e,t,r)=>{try{var a;let s=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:t,password:r})}),i=await s.json();if(s.ok&&i.success&&i.data)return o(i.data),{success:!0};return{success:!1,message:null!=(a=i.message)?a:"Đăng k\xfd thất bại"}}catch(e){return console.error("Register error:",e),{success:!1,message:"Đ\xe3 xảy ra lỗi kh\xf4ng mong muốn"}}};return i?(0,a.jsx)(E,{showLogin:i,showSettings:c,setShowSettings:u,children:(0,a.jsx)(p,{onLogin:m,onSwitchToRegister:l,onSwitchToForgot:r})}):n?(0,a.jsx)(E,{showLogin:i,showSettings:c,setShowSettings:u,children:(0,a.jsx)(v,{onRegister:g,onSwitchToLogin:d})}):null}let A=(0,s.createContext)(void 0);function T(e){let{children:t}=e,[r,o]=(0,s.useState)(null),[i,n]=(0,s.useState)(!0),[l,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{try{n(!0);let e=localStorage.getItem("currentUser");if(e)try{let t=JSON.parse(e);o(t)}catch(e){console.error("❌ AuthProvider: Error parsing stored user:",e),localStorage.removeItem("currentUser"),d(!0)}else d(!0)}catch(e){console.error("❌ AuthProvider: Error checking auth:",e),d(!0)}finally{n(!1)}})()},[]);let m=(0,s.useCallback)(async(e,t)=>{try{n(!0);let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),a=await r.json();if(console.log("DEBUG [AuthProvider]: API Response Data:",a),r.ok&&a.data)return o(a.data),localStorage.setItem("currentUser",JSON.stringify(a.user)),d(!1),!0;return!1}catch(e){return console.error("❌ AuthProvider: Login error:",e),!1}finally{n(!1)}},[]),g=(0,s.useCallback)(()=>{o(null),localStorage.removeItem("currentUser"),d(!0)},[]),h=(0,s.useCallback)(()=>{d(!0),u(!1)},[]),p=(0,s.useCallback)(()=>{u(!0),d(!1)},[]),x=(0,s.useMemo)(()=>({user:r,login:m,logout:g,loading:i,showLoginModal:h,showRegisterModal:p}),[r,m,g,i,h,p]);return i?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-gray-900/95 to-black/95 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-white/30 border-t-white rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("div",{className:"text-white text-xl font-medium",children:"Đang x\xe1c thực..."}),(0,a.jsx)("div",{className:"text-white/70 text-sm mt-2",children:"AKs Studio Digital Music"})]})}):(0,a.jsx)(A.Provider,{value:x,children:!r&&(l||c)?(0,a.jsx)(P,{onLoginSuccess:e=>{o(e),d(!1),u(!1)},onLoginCancel:()=>d(!1),onRegisterSuccess:e=>{o(e),u(!1)},onRegisterCancel:()=>u(!1),showLogin:l,showRegister:c,onSwitchToRegister:()=>{d(!1),u(!0)},onSwitchToLogin:()=>{u(!1),d(!0)}}):t})}function J(){let e=(0,s.useContext)(A);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}}]);