(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8356],{135:(e,t,o)=>{"use strict";o.d(t,{DynamicBackground:()=>l});var n=o(5155),r=o(2115);let i={type:"video",videoUrl:"",videoList:[],randomVideo:!1,enableSound:!1,opacity:.5},a="backgroundSettings",s=e=>{let{enableSound:t,onSoundToggle:o}=e;return(0,n.jsx)("button",{style:{position:"fixed",bottom:20,right:20,zIndex:50,background:"rgba(0,0,0,0.5)",color:"white",border:"none",borderRadius:"50%",width:40,height:40,cursor:"pointer"},onClick:()=>o(!t),"aria-label":t?"Mute background":"Unmute background",children:t?"\uD83D\uDD0A":"\uD83D\uDD07"})};function l(){let[e,t]=(0,r.useState)(null),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(0),[u,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{try{let e=localStorage.getItem(a);if(e){let o=JSON.parse(e);o&&"object"==typeof o?t({...i,...o}):(console.warn("Invalid background settings format, using defaults"),t(i))}else t(i)}catch(e){console.error("Failed to load or parse background settings:",e),t(i)}let e=e=>t(e.detail);return window.addEventListener("backgroundUpdate",e),()=>window.removeEventListener("backgroundUpdate",e)},[]);let g=(0,r.useMemo)(()=>{if(!e)return null;let t=null;if(e.randomVideo&&e.videoList&&e.videoList.length>0){var o;t=(o=e.videoList)[Math.floor(Math.random()*o.length)]}else e.videoUrl&&""!==e.videoUrl.trim()?t=function(e){let t=e.match(/(?:youtu\.be\/|youtube\.com\/(?:watch\?v=|embed\/|v\/))([\w-]{11})/);return t?t[1]:null}(e.videoUrl):e.videoList&&e.videoList.length>0&&(t=e.videoList[0]);return t||(t="dQw4w9WgXcQ"),t},[null==e?void 0:e.randomVideo,null==e?void 0:e.videoUrl,null==e?void 0:e.videoList]),p=()=>{l(!0),m(!1),setTimeout(()=>d(e=>e+1),300)};return((0,r.useEffect)(()=>{if(o)return;let e=["click","touchstart","keydown","mousedown","scroll"];return e.forEach(e=>{document.addEventListener(e,p,{once:!0,passive:!0})}),()=>{e.forEach(e=>{document.removeEventListener(e,p)})}},[o]),(0,r.useEffect)(()=>{if(!o&&g){let e=setTimeout(p,2e3);return()=>clearTimeout(e)}},[o,g]),e)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"fixed inset-0 z-0",children:["video"===e.type&&g?u?(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-red-900 to-purple-900 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-white text-center",children:[(0,n.jsx)("p",{className:"text-lg",children:"Video loading failed"}),(0,n.jsx)("p",{className:"text-sm opacity-75",children:"Retrying..."})]})}):(0,n.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(g,"?autoplay=1&mute=1&controls=0&loop=1&playlist=").concat(g,"&showinfo=0&rel=0&iv_load_policy=3&modestbranding=1&playsinline=1&enablejsapi=1&origin=").concat(window.location.origin),allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",className:"absolute inset-0 w-full h-full object-cover pointer-events-none select-none",style:{opacity:e.opacity},onLoad:e=>{let t=e.currentTarget;if(null==t?void 0:t.contentWindow)try{t.contentWindow.postMessage('{"event":"command","func":"mute","args":""}',"https://www.youtube.com")}catch(e){console.warn("Could not mute video:",e)}},onError:()=>{console.warn("YouTube iframe failed to load, trying `fallback..."),m(!0),setTimeout(()=>{d(e=>e+1),m(!1)},2e3)}},c):(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500 to-purple-600"}),(0,n.jsx)("div",{className:"absolute inset-0 bg-black ".concat((e=>{let t=Math.max(.1,Math.min(.9,1-e));return t<=.1?"opacity-10":t<=.2?"opacity-20":t<=.3?"opacity-30":t<=.4?"opacity-40":t<=.5?"opacity-50":t<=.6?"opacity-60":t<=.7?"opacity-70":t<=.8?"opacity-80":"opacity-90"})(e.opacity))})]}),"video"===e.type&&g&&(0,n.jsx)(s,{enableSound:e.enableSound,onSoundToggle:o=>{if(e){let n={...e,enableSound:o};t(n),localStorage.setItem(a,JSON.stringify(n));let r=document.querySelector('iframe[title="YouTube Background Video"]');if(null==r?void 0:r.contentWindow)try{r.contentWindow.postMessage('{"event":"command","func":"mute","args":""}',"https://www.youtube.com")}catch(e){console.warn("Could not update video sound:",e)}window.dispatchEvent(new CustomEvent("backgroundUpdate",{detail:n}))}}})]}):(0,n.jsx)("div",{className:"fixed inset-0 -z-10 bg-gradient-to-br from-indigo-500 to-purple-600"})}},3672:(e,t,o)=>{Promise.resolve().then(o.bind(o,7057))},7057:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>i});var n=o(5155),r=o(135);function i(){return(0,n.jsxs)("div",{className:"min-h-screen relative flex items-center justify-center p-4",children:[(0,n.jsx)(r.DynamicBackground,{}),(0,n.jsxs)("div",{className:"relative z-10 text-center text-white backdrop-blur-sm bg-black/20 p-8 rounded-lg",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Test Error Page"}),(0,n.jsx)("p",{className:"mb-8",children:"Click button below to test 505 error page"}),(0,n.jsx)("button",{onClick:()=>{throw Error("Test error for 505 page")},className:"px-6 py-3 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:"Trigger Error (Test 505)"}),(0,n.jsx)("div",{className:"mt-6",children:(0,n.jsx)("a",{href:"/",className:"inline-flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg transition-colors text-sm",children:"← Về trang chủ"})})]})]})}}},e=>{e.O(0,[8441,5964,7358],()=>e(e.s=3672)),_N_E=e.O()}]);