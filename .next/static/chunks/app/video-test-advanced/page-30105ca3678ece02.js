(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5234],{135:(e,t,o)=>{"use strict";o.d(t,{DynamicBackground:()=>r});var n=o(5155),i=o(2115);let a={type:"video",videoUrl:"",videoList:[],randomVideo:!1,enableSound:!1,opacity:.5},l="backgroundSettings",s=e=>{let{enableSound:t,onSoundToggle:o}=e;return(0,n.jsx)("button",{style:{position:"fixed",bottom:20,right:20,zIndex:50,background:"rgba(0,0,0,0.5)",color:"white",border:"none",borderRadius:"50%",width:40,height:40,cursor:"pointer"},onClick:()=>o(!t),"aria-label":t?"Mute background":"Unmute background",children:t?"\uD83D\uDD0A":"\uD83D\uDD07"})};function r(){let[e,t]=(0,i.useState)(null),[o,r]=(0,i.useState)(!1),[d,c]=(0,i.useState)(0),[u,m]=(0,i.useState)(!1);(0,i.useEffect)(()=>{try{let e=localStorage.getItem(l);if(e){let o=JSON.parse(e);o&&"object"==typeof o?t({...a,...o}):(console.warn("Invalid background settings format, using defaults"),t(a))}else t(a)}catch(e){console.error("Failed to load or parse background settings:",e),t(a)}let e=e=>t(e.detail);return window.addEventListener("backgroundUpdate",e),()=>window.removeEventListener("backgroundUpdate",e)},[]);let p=(0,i.useMemo)(()=>{if(!e)return null;let t=null;if(e.randomVideo&&e.videoList&&e.videoList.length>0){var o;t=(o=e.videoList)[Math.floor(Math.random()*o.length)]}else e.videoUrl&&""!==e.videoUrl.trim()?t=function(e){let t=e.match(/(?:youtu\.be\/|youtube\.com\/(?:watch\?v=|embed\/|v\/))([\w-]{11})/);return t?t[1]:null}(e.videoUrl):e.videoList&&e.videoList.length>0&&(t=e.videoList[0]);return t||(t="dQw4w9WgXcQ"),t},[null==e?void 0:e.randomVideo,null==e?void 0:e.videoUrl,null==e?void 0:e.videoList]),b=()=>{r(!0),m(!1),setTimeout(()=>c(e=>e+1),300)};return((0,i.useEffect)(()=>{if(o)return;let e=["click","touchstart","keydown","mousedown","scroll"];return e.forEach(e=>{document.addEventListener(e,b,{once:!0,passive:!0})}),()=>{e.forEach(e=>{document.removeEventListener(e,b)})}},[o]),(0,i.useEffect)(()=>{if(!o&&p){let e=setTimeout(b,2e3);return()=>clearTimeout(e)}},[o,p]),e)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"fixed inset-0 z-0",children:["video"===e.type&&p?u?(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-red-900 to-purple-900 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-white text-center",children:[(0,n.jsx)("p",{className:"text-lg",children:"Video loading failed"}),(0,n.jsx)("p",{className:"text-sm opacity-75",children:"Retrying..."})]})}):(0,n.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(p,"?autoplay=1&mute=1&controls=0&loop=1&playlist=").concat(p,"&showinfo=0&rel=0&iv_load_policy=3&modestbranding=1&playsinline=1&enablejsapi=1&origin=").concat(window.location.origin),allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",className:"absolute inset-0 w-full h-full object-cover pointer-events-none select-none",style:{opacity:e.opacity},onLoad:e=>{let t=e.currentTarget;if(null==t?void 0:t.contentWindow)try{t.contentWindow.postMessage('{"event":"command","func":"mute","args":""}',"https://www.youtube.com")}catch(e){console.warn("Could not mute video:",e)}},onError:()=>{console.warn("YouTube iframe failed to load, trying `fallback..."),m(!0),setTimeout(()=>{c(e=>e+1),m(!1)},2e3)}},d):(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500 to-purple-600"}),(0,n.jsx)("div",{className:"absolute inset-0 bg-black ".concat((e=>{let t=Math.max(.1,Math.min(.9,1-e));return t<=.1?"opacity-10":t<=.2?"opacity-20":t<=.3?"opacity-30":t<=.4?"opacity-40":t<=.5?"opacity-50":t<=.6?"opacity-60":t<=.7?"opacity-70":t<=.8?"opacity-80":"opacity-90"})(e.opacity))})]}),"video"===e.type&&p&&(0,n.jsx)(s,{enableSound:e.enableSound,onSoundToggle:o=>{if(e){let n={...e,enableSound:o};t(n),localStorage.setItem(l,JSON.stringify(n));let i=document.querySelector('iframe[title="YouTube Background Video"]');if(null==i?void 0:i.contentWindow)try{i.contentWindow.postMessage('{"event":"command","func":"mute","args":""}',"https://www.youtube.com")}catch(e){console.warn("Could not update video sound:",e)}window.dispatchEvent(new CustomEvent("backgroundUpdate",{detail:n}))}}})]}):(0,n.jsx)("div",{className:"fixed inset-0 -z-10 bg-gradient-to-br from-indigo-500 to-purple-600"})}},673:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>l});var n=o(5155),i=o(2115),a=o(135);function l(){let[e,t]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),s=e=>{t(t=>[...t,"".concat(new Date().toLocaleTimeString(),": ").concat(e)])};return(0,i.useEffect)(()=>{let e=setTimeout(()=>{let e=document.querySelector('iframe[title="YouTube Background Video"]');if(e){s("✅ YouTube iframe detected");let t=e.getAttribute("src");t&&t.includes("autoplay=1")?s("✅ Autoplay parameter enabled"):s("❌ Autoplay parameter missing");let o=e.getAttribute("allow");o&&o.includes("autoplay")?s("✅ Autoplay permission granted"):s("❌ Autoplay permission missing")}else s("❌ YouTube iframe not found");l(!1)},2e3),t=setTimeout(()=>{document.querySelector('[data-testid="sound-control"]')?s("✅ Sound control component loaded"):s("⚠️ Sound control not detected (may be hidden)")},3e3),o=setTimeout(()=>{s("\uD83E\uDD16 Simulating user click for autoplay..."),document.body.click()},1e3);return()=>{clearTimeout(e),clearTimeout(t),clearTimeout(o)}},[]),(0,n.jsxs)("div",{className:"min-h-screen relative",children:[(0,n.jsx)(a.DynamicBackground,{}),(0,n.jsx)("div",{className:"relative z-10 p-8",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold text-white mb-8 text-center",children:"Video Background Auto-Play Test"}),(0,n.jsxs)("div",{className:"bg-black/80 backdrop-blur-sm rounded-lg p-6 mb-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Test Controls"}),(0,n.jsxs)("div",{className:"flex gap-4 flex-wrap",children:[(0,n.jsx)("button",{onClick:()=>{let e=new CustomEvent("backgroundUpdate",{detail:{type:"video",videoUrl:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",randomVideo:!1,enableSound:!1,opacity:.5,videoList:[]}});window.dispatchEvent(e),s("\uD83D\uDD04 Video changed to test video")},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Change Video"}),(0,n.jsx)("button",{onClick:()=>{let e=new CustomEvent("backgroundUpdate",{detail:{type:"video",videoUrl:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",randomVideo:!1,enableSound:!0,opacity:.5,videoList:[]}});window.dispatchEvent(e),s("\uD83D\uDD0A Sound enabled for testing")},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:"Enable Sound"}),(0,n.jsx)("button",{onClick:()=>t([]),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Clear Results"})]})]}),(0,n.jsxs)("div",{className:"bg-black/80 backdrop-blur-sm rounded-lg p-6",children:[(0,n.jsxs)("h2",{className:"text-2xl font-semibold text-white mb-4",children:["Test Results ",o&&"(Running...)"]}),(0,n.jsx)("div",{className:"space-y-2",children:0===e.length?(0,n.jsx)("p",{className:"text-gray-400",children:"No test results yet..."}):e.map(e=>(0,n.jsx)("div",{className:"text-sm font-mono text-white bg-gray-900/50 p-2 rounded",children:e},e))})]}),(0,n.jsxs)("div",{className:"mt-6 bg-black/80 backdrop-blur-sm rounded-lg p-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Notes"}),(0,n.jsxs)("ul",{className:"text-white space-y-2 text-sm",children:[(0,n.jsx)("li",{children:"• Video should auto-play after 2 seconds or user interaction"}),(0,n.jsx)("li",{children:"• YouTube controls should be completely hidden"}),(0,n.jsx)("li",{children:"• Sound control should appear when video is playing"}),(0,n.jsx)("li",{children:"• Video should loop seamlessly"}),(0,n.jsx)("li",{children:"• Background should be responsive and maintain aspect ratio"})]})]})]})})]})}},7232:(e,t,o)=>{Promise.resolve().then(o.bind(o,673))}},e=>{e.O(0,[8441,5964,7358],()=>e(e.s=7232)),_N_E=e.O()}]);