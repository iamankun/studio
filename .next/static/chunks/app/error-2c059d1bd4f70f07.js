(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8039],{135:(e,t,o)=>{"use strict";o.d(t,{DynamicBackground:()=>l});var r=o(5155),n=o(2115);let s={type:"video",videoUrl:"",videoList:[],randomVideo:!1,enableSound:!1,opacity:.5},a="backgroundSettings",i=e=>{let{enableSound:t,onSoundToggle:o}=e;return(0,r.jsx)("button",{style:{position:"fixed",bottom:20,right:20,zIndex:50,background:"rgba(0,0,0,0.5)",color:"white",border:"none",borderRadius:"50%",width:40,height:40,cursor:"pointer"},onClick:()=>o(!t),"aria-label":t?"Mute background":"Unmute background",children:t?"\uD83D\uDD0A":"\uD83D\uDD07"})};function l(){let[e,t]=(0,n.useState)(null),[o,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(0),[u,g]=(0,n.useState)(!1);(0,n.useEffect)(()=>{try{let e=localStorage.getItem(a);if(e){let o=JSON.parse(e);o&&"object"==typeof o?t({...s,...o}):(console.warn("Invalid background settings format, using defaults"),t(s))}else t(s)}catch(e){console.error("Failed to load or parse background settings:",e),t(s)}let e=e=>t(e.detail);return window.addEventListener("backgroundUpdate",e),()=>window.removeEventListener("backgroundUpdate",e)},[]);let h=(0,n.useMemo)(()=>{if(!e)return null;let t=null;if(e.randomVideo&&e.videoList&&e.videoList.length>0){var o;t=(o=e.videoList)[Math.floor(Math.random()*o.length)]}else e.videoUrl&&""!==e.videoUrl.trim()?t=function(e){let t=e.match(/(?:youtu\.be\/|youtube\.com\/(?:watch\?v=|embed\/|v\/))([\w-]{11})/);return t?t[1]:null}(e.videoUrl):e.videoList&&e.videoList.length>0&&(t=e.videoList[0]);return t||(t="dQw4w9WgXcQ"),t},[null==e?void 0:e.randomVideo,null==e?void 0:e.videoUrl,null==e?void 0:e.videoList]),p=()=>{l(!0),g(!1),setTimeout(()=>d(e=>e+1),300)};return((0,n.useEffect)(()=>{if(o)return;let e=["click","touchstart","keydown","mousedown","scroll"];return e.forEach(e=>{document.addEventListener(e,p,{once:!0,passive:!0})}),()=>{e.forEach(e=>{document.removeEventListener(e,p)})}},[o]),(0,n.useEffect)(()=>{if(!o&&h){let e=setTimeout(p,2e3);return()=>clearTimeout(e)}},[o,h]),e)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"fixed inset-0 z-0",children:["video"===e.type&&h?u?(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-red-900 to-purple-900 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-white text-center",children:[(0,r.jsx)("p",{className:"text-lg",children:"Video loading failed"}),(0,r.jsx)("p",{className:"text-sm opacity-75",children:"Retrying..."})]})}):(0,r.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(h,"?autoplay=1&mute=1&controls=0&loop=1&playlist=").concat(h,"&showinfo=0&rel=0&iv_load_policy=3&modestbranding=1&playsinline=1&enablejsapi=1&origin=").concat(window.location.origin),allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",className:"absolute inset-0 w-full h-full object-cover pointer-events-none select-none",style:{opacity:e.opacity},onLoad:e=>{let t=e.currentTarget;if(null==t?void 0:t.contentWindow)try{t.contentWindow.postMessage('{"event":"command","func":"mute","args":""}',"https://www.youtube.com")}catch(e){console.warn("Could not mute video:",e)}},onError:()=>{console.warn("YouTube iframe failed to load, trying `fallback..."),g(!0),setTimeout(()=>{d(e=>e+1),g(!1)},2e3)}},c):(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500 to-purple-600"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black ".concat((e=>{let t=Math.max(.1,Math.min(.9,1-e));return t<=.1?"opacity-10":t<=.2?"opacity-20":t<=.3?"opacity-30":t<=.4?"opacity-40":t<=.5?"opacity-50":t<=.6?"opacity-60":t<=.7?"opacity-70":t<=.8?"opacity-80":"opacity-90"})(e.opacity))})]}),"video"===e.type&&h&&(0,r.jsx)(i,{enableSound:e.enableSound,onSoundToggle:o=>{if(e){let r={...e,enableSound:o};t(r),localStorage.setItem(a,JSON.stringify(r));let n=document.querySelector('iframe[title="YouTube Background Video"]');if(null==n?void 0:n.contentWindow)try{n.contentWindow.postMessage('{"event":"command","func":"mute","args":""}',"https://www.youtube.com")}catch(e){console.warn("Could not update video sound:",e)}window.dispatchEvent(new CustomEvent("backgroundUpdate",{detail:r}))}}})]}):(0,r.jsx)("div",{className:"fixed inset-0 -z-10 bg-gradient-to-br from-indigo-500 to-purple-600"})}},264:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>g});var r=o(5155),n=o(135),s=o(7168),a=o(809),i=o(3904),l=o(8199);let c=(0,o(2895).A)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);var d=o(2115),u=o(3398);function g(e){let{error:t,reset:o}=e;return(0,d.useEffect)(()=>{u.v.error("Application Error",t,{component:"ErrorPage",digest:t.digest});{let e={message:t.message,stack:t.stack,digest:t.digest,timestamp:new Date().toISOString()};try{let t=JSON.parse(localStorage.getItem("aks_errors")||"[]");t.unshift(e),t.length>10&&t.splice(10),localStorage.setItem("aks_errors",JSON.stringify(t))}catch(e){u.v.error("Failed to store error log",e,{component:"ErrorPage"})}}},[t]),(0,r.jsxs)("div",{className:"min-h-screen relative flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-950 to-purple-950",children:[(0,r.jsx)(n.DynamicBackground,{}),(0,r.jsxs)("div",{className:"relative z-10 text-center text-white max-w-md mx-auto p-6",children:[(0,r.jsx)("div",{className:"flex justify-center mb-6",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(a.A,{className:"h-20 w-20 text-red-500 animate-pulse"}),(0,r.jsx)("div",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs px-2 py-1 rounded-full",children:"505"})]})}),(0,r.jsx)("h1",{className:"text-4xl font-bold text-red-400 mb-4",children:"Server Error"}),(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Oops! Something went wrong"}),(0,r.jsxs)("div",{className:"bg-gray-800/80 backdrop-blur-md rounded-lg p-4 mb-6 text-left",children:[(0,r.jsx)("p",{className:"text-sm text-gray-300 mb-2",children:"Error Details:"}),(0,r.jsx)("p",{className:"text-xs text-red-300 font-mono break-words",children:t.message||"Unknown error occurred"}),t.digest&&(0,r.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:["Digest: ",t.digest]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)(s.$,{onClick:o,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 rounded-lg transition-colors",children:[(0,r.jsx)(i.A,{className:"mr-2 h-5 w-5"}),"Try Again"]}),(0,r.jsxs)(s.$,{onClick:()=>window.location.href="/",variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700 py-3 rounded-lg transition-colors",children:[(0,r.jsx)(l.A,{className:"mr-2 h-5 w-5"}),"Go to Homepage"]}),(0,r.jsxs)(s.$,{onClick:()=>window.location.href="/log-console",variant:"link",className:"w-full text-gray-400 hover:text-gray-300 py-2",children:[(0,r.jsx)(c,{className:"mr-2 h-4 w-4"}),"View System Logs"]})]}),(0,r.jsxs)("div",{className:"mt-6 text-xs text-gray-500",children:[(0,r.jsx)("p",{children:"If this problem persists, please contact support."}),(0,r.jsxs)("p",{className:"mt-1",children:["AKs Studio v2.0.0 – ",new Date().toLocaleDateString()]})]})]})]})}},809:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});let r=(0,o(2895).A)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3398:(e,t,o)=>{"use strict";o.d(t,{v:()=>n});class r{createEntry(e,t,o,r){return{id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,11)),timestamp:new Date().toISOString(),level:e,message:t,data:o,userId:null==r?void 0:r.userId,component:null==r?void 0:r.component,action:null==r?void 0:r.action}}debug(e,t,o){let r=this.createEntry("debug",e,t,o);this.addLog(r)}info(e,t,o){let r=this.createEntry("info",e,t,o);this.addLog(r),console.info("[INFO] ".concat(e),t)}warn(e,t,o){let r=this.createEntry("warn",e,t,o);this.addLog(r),console.warn("[WARN] ".concat(e),t)}error(e,t,o){let r=this.createEntry("error",e,t,o);this.addLog(r),console.error("[ERROR] ".concat(e),t)}addLog(e){this.logs.unshift(e),this.logs.length>this.maxLogs&&(this.logs=this.logs.slice(0,this.maxLogs));try{let t=JSON.parse(localStorage.getItem("aks_logs")||"[]");t.unshift(e),t.length>this.maxLogs&&t.splice(this.maxLogs),localStorage.setItem("aks_logs",JSON.stringify(t))}catch(e){console.error("Failed to store logs:",e)}}getLogs(){try{let e=localStorage.getItem("aks_logs");if(e)return JSON.parse(e)}catch(e){console.error("Failed to load logs:",e)}return this.logs}clearLogs(){this.logs=[],localStorage.removeItem("aks_logs")}exportLogs(){return JSON.stringify(this.getLogs(),null,2)}filterLogs(e,t,o){return this.getLogs().filter(r=>(!e||r.level===e)&&(!t||r.component===t)&&(!o||!!r.message.toLowerCase().includes(o.toLowerCase())))}debugToConsole(){return console.log("%c AKs Studio Logs","background: #7e57c2; color: white; padding: 2px 6px; border-radius: 2px;"),this.getLogs().forEach(e=>{var t;let o=this.getConsoleStyle(e.level);console.groupCollapsed("%c".concat(e.level.toUpperCase(),"%c ").concat(new Date(e.timestamp).toLocaleString()," - ").concat(e.message),o,"color: inherit"),console.log("Component:",e.component||"Not specified"),console.log("Action:",e.action||"Not specified"),console.log("User ID:",e.userId||"Not specified"),console.log("Data:",null!=(t=e.data)?t:"None"),console.groupEnd()}),"Displayed ".concat(this.getLogs().length," logs in console")}getConsoleStyle(e){switch(e){case"debug":return"background: #607d8b; color: white; padding: 2px 6px; border-radius: 2px;";case"info":return"background: #2196f3; color: white; padding: 2px 6px; border-radius: 2px;";case"warn":return"background: #ff9800; color: black; padding: 2px 6px; border-radius: 2px;";case"error":return"background: #f44336; color: white; padding: 2px 6px; border-radius: 2px;";default:return"color: inherit"}}constructor(){this.logs=[],this.maxLogs=1e3}}let n=new r},3904:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});let r=(0,o(2895).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},3999:(e,t,o)=>{"use strict";o.d(t,{Wl:()=>c,XN:()=>a,cn:()=>s,qY:()=>l,ww:()=>i});var r=o(2596),n=o(9688);function s(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,n.QP)((0,r.$)(t))}function a(e){let t=[];return"audio/wav"!==e.type&&t.push("Chỉ chấp nhận file WAV 24-bit, 2 k\xeanh, 192kHz"),e.size>0x6400000&&t.push("File qu\xe1 lớn (tối đa 100MB)"),{valid:0===t.length,errors:t}}function i(){let e=new Date;return e.setDate(e.getDate()+7),e.toISOString().split("T")[0]}function l(e){switch(e.toLowerCase()){case"pending":case"đ\xe3 nhận, đang chờ duyệt":return"bg-yellow-500";case"approved":case"đ\xe3 duyệt, đang chờ ph\xe1t h\xe0nh!":return"bg-green-500";case"rejected":case"đ\xe3 duyệt, từ chối ph\xe1t h\xe0nh":return"bg-red-500";case"processing":case"đang xử l\xfd":return"bg-blue-500";case"published":case"đ\xe3 ph\xe1t h\xe0nh, đang chờ ra mắt":case"ho\xe0n th\xe0nh ph\xe1t h\xe0nh!":return"bg-purple-500";case"draft":return"bg-gray-500";default:return"bg-gray-400"}}async function c(e){let t=[];return"image/jpeg"!==e.type&&"image/jpg"!==e.type&&t.push("Chỉ chấp nhận file ảnh JPG"),e.size>0xa00000&&t.push("File qu\xe1 lớn (tối đa 10MB)"),new Promise(o=>{let r=URL.createObjectURL(e),n=new Image,s=e=>{URL.revokeObjectURL(r),o(e)};n.onload=()=>{(4e3!==n.width||4e3!==n.height)&&t.push("K\xedch thước phải l\xe0 4000x4000px"),s({valid:0===t.length,errors:t})},n.onerror=()=>{t.push("File ảnh kh\xf4ng hợp lệ"),s({valid:!1,errors:t})},n.src=r})}},5584:(e,t,o)=>{Promise.resolve().then(o.bind(o,264))},7168:(e,t,o)=>{"use strict";o.d(t,{$:()=>c});var r=o(5155),n=o(2115),s=o(9708),a=o(2085),i=o(3999);let l=(0,a.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:o,variant:n,size:a,asChild:c=!1,...d}=e,u=c?s.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(l({variant:n,size:a,className:o})),ref:t,...d})});c.displayName="Button"},8199:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});let r=(0,o(2895).A)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])}},e=>{e.O(0,[3322,8441,5964,7358],()=>e(e.s=5584)),_N_E=e.O()}]);