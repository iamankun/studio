{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///F:/studio.ankun/components/views/dashboard-view.tsx"],"sourcesContent":["// T√¥i l√† An Kun \n// H·ªó tr·ª£ d·ª± √°n, Copilot, Gemini\n// T√°c gi·∫£ ki√™m xu·∫•t b·∫£n b·ªüi An Kun Studio Digital Music\n\n\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Music, Upload, FileText, Users } from \"lucide-react\"\nimport { QuickDebug } from \"@/components/quick-debug\"\nimport { APIDebugger } from \"@/components/api-debugger\"\n\ninterface DashboardStats {\n    totalSubmissions: number\n    totalTracks: number\n    totalArtists: number\n}\n\nexport function DashboardView({ onViewChange }: { readonly onViewChange?: (view: string) => void }) {\n    const [stats, setStats] = useState<DashboardStats>({\n        totalSubmissions: 0,\n        totalTracks: 0,\n        totalArtists: 0\n    })\n    const [loading, setLoading] = useState(true)\n\n    useEffect(() => {\n        const fetchStats = async () => {\n            try {\n                setLoading(true)\n\n                // Fetch submissions with error handling\n                let submissionsData = { success: false, count: 0 }\n                try {\n                    const submissionsResponse = await fetch('/api/submissions')\n                    if (submissionsResponse.ok) {\n                        submissionsData = await submissionsResponse.json()\n                    } else {\n                        console.warn('Submissions API returned:', submissionsResponse.status)\n                    }\n                } catch (submissionsError) {\n                    console.error('Failed to fetch submissions:', submissionsError)\n                }\n\n                // Fetch artists with error handling\n                let artistsData = { success: false, count: 0 }\n                try {\n                    const artistsResponse = await fetch('/api/artists')\n                    if (artistsResponse.ok) {\n                        artistsData = await artistsResponse.json()\n                    } else {\n                        console.warn('Artists API returned:', artistsResponse.status)\n                    }\n                } catch (artistsError) {\n                    console.error('Failed to fetch artists:', artistsError)\n                }\n\n                // Update stats even if some fetches failed\n                const newStats = {\n                    totalSubmissions: submissionsData.success ? (submissionsData.count ?? 0) : 0,\n                    totalTracks: submissionsData.success ? (submissionsData.count ?? 0) : 0,\n                    totalArtists: artistsData.success ? (artistsData.count ?? 0) : 0\n                }\n\n                setStats(newStats)\n\n            } catch (error) {\n                console.error('Failed to fetch dashboard stats:', error)\n                // Set default values on error\n                setStats({\n                    totalSubmissions: 0,\n                    totalTracks: 0,\n                    totalArtists: 0\n                })\n            } finally {\n                setLoading(false)\n            }\n        }\n\n        fetchStats()\n    }, [])\n    return (\n        <div className=\"pt-4 p-6 pb-20 bg-background transition-all duration-300\">\n            {/* API Debug Tool */}\n            <QuickDebug />\n\n            {/* Welcome Header - Simplified */}\n            <div className=\"mb-8 bg-card rounded-lg shadow-sm p-6 border\">\n                <div className=\"text-center\">\n                    <h1 className=\"text-3xl font-bold text-foreground mb-2\">\n                        Dashboard - N·ªÅn t·∫£ng ph√¢n ph·ªëi nh·∫°c s·ªë\n                    </h1>\n                    <p className=\"text-muted-foreground\">\n                        Qu·∫£n l√Ω v√† theo d√µi c√°c b·∫£n ph√°t h√†nh √¢m nh·∫°c c·ªßa b·∫°n\n                    </p>\n                </div>\n            </div>\n\n            {/* Statistics Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n                <Card className=\"bg-gradient-to-br from-purple-500 to-pink-500 text-white border-0 shadow-lg hover:shadow-xl transition-shadow\">\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                        <CardTitle className=\"text-sm font-medium opacity-90\">T·ªïng Submissions</CardTitle>\n                        <FileText className=\"h-5 w-5 opacity-80\" />\n                    </CardHeader>\n                    <CardContent>\n                        <div className=\"text-3xl font-bold\">{loading ? \"...\" : stats.totalSubmissions}</div>\n                        <p className=\"text-xs opacity-80 mt-1\">\n                            {stats.totalSubmissions === 0 ? \"Ch∆∞a c√≥ submission n√†o\" : `${stats.totalSubmissions} submissions`}\n                        </p>\n                    </CardContent>\n                </Card>\n\n                <Card className=\"bg-gradient-to-br from-blue-500 to-cyan-500 text-white border-0 shadow-lg hover:shadow-xl transition-shadow\">\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                        <CardTitle className=\"text-sm font-medium opacity-90\">Tracks ƒê√£ Ph√°t H√†nh</CardTitle>\n                        <Music className=\"h-5 w-5 opacity-80\" />\n                    </CardHeader>\n                    <CardContent>\n                        <div className=\"text-3xl font-bold\">{loading ? \"...\" : stats.totalTracks}</div>\n                        <p className=\"text-xs opacity-80 mt-1\">\n                            {stats.totalTracks === 0 ? \"Ch∆∞a c√≥ track n√†o\" : \"S·∫µn s√†ng ph√°t h√†nh\"}\n                        </p>\n                    </CardContent>\n                </Card>\n\n                <Card className=\"bg-gradient-to-br from-green-500 to-emerald-500 text-white border-0 shadow-lg hover:shadow-xl transition-shadow\">\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                        <CardTitle className=\"text-sm font-medium opacity-90\">Upload Nhanh</CardTitle>\n                        <Upload className=\"h-5 w-5 opacity-80\" />\n                    </CardHeader>\n                    <CardContent>\n                        <div className=\"text-3xl font-bold\">S·∫µn S√†ng</div>\n                        <p className=\"text-xs opacity-80 mt-1\">T·∫£i nh·∫°c l√™n ngay</p>\n                    </CardContent>\n                </Card>\n\n                <Card className=\"bg-gradient-to-br from-orange-500 to-red-500 text-white border-0 shadow-lg hover:shadow-xl transition-shadow\">\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                        <CardTitle className=\"text-sm font-medium opacity-90\">Ngh·ªá Sƒ©</CardTitle>\n                        <Users className=\"h-5 w-5 opacity-80\" />\n                    </CardHeader>\n                    <CardContent>\n                        <div className=\"text-3xl font-bold\">{loading ? \"...\" : stats.totalArtists}</div>\n                        <p className=\"text-xs opacity-80 mt-1\">Ngh·ªá sƒ© ƒëang ho·∫°t ƒë·ªông</p>\n                    </CardContent>\n                </Card>\n            </div>\n\n            {/* Main Content Cards */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                <Card className=\"shadow-sm border\">\n                    <CardHeader className=\"border-b\">\n                        <CardTitle className=\"text-foreground flex items-center space-x-2\">\n                            <FileText className=\"h-5 w-5 text-primary\" />\n                            <span>Ho·∫°t ƒê·ªông G·∫ßn ƒê√¢y</span>\n                        </CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"p-6\">\n                        <div className=\"text-center py-12 text-muted-foreground\">\n                            <div className=\"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4\">\n                                <FileText className=\"h-8 w-8 text-muted-foreground\" />\n                            </div>\n                            <h3 className=\"font-medium text-foreground mb-2\">Ch∆∞a c√≥ ho·∫°t ƒë·ªông n√†o</h3>\n                            <p className=\"text-sm text-muted-foreground mb-4\">\n                                T·∫£i l√™n track ƒë·∫ßu ti√™n ƒë·ªÉ b·∫Øt ƒë·∫ßu!\n                            </p>\n                            <button\n                                className=\"px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm hover:bg-primary/90 transition-colors\"\n                                onClick={() => onViewChange?.(\"upload\")}\n                            >\n                                B·∫Øt ƒê·∫ßu Upload\n                            </button>\n                        </div>\n                    </CardContent>\n                </Card>\n\n                <Card className=\"shadow-sm border\">\n                    <CardHeader className=\"border-b\">\n                        <CardTitle className=\"text-foreground flex items-center space-x-2\">\n                            <div className=\"w-3 h-3 bg-green-500 rounded-full\"></div>\n                            <span>Tr·∫°ng Th√°i H·ªá Th·ªëng</span>\n                        </CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"p-6\">\n                        <div className=\"space-y-4\">\n                            <div className=\"flex items-center justify-between p-3 bg-green-500/10 rounded-lg\">\n                                <div className=\"flex items-center space-x-3\">\n                                    <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n                                    <span className=\"font-medium text-foreground\">N·ªÅn T·∫£ng</span>\n                                </div>\n                                <span className=\"text-sm text-green-600 font-medium\">Tr·ª±c Tuy·∫øn</span>\n                            </div>\n\n                            <div className=\"flex items-center justify-between p-3 bg-green-500/10 rounded-lg\">\n                                <div className=\"flex items-center space-x-3\">\n                                    <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n                                    <span className=\"font-medium text-foreground\">D·ªãch V·ª• Upload</span>\n                                </div>\n                                <span className=\"text-sm text-green-600 font-medium\">S·∫µn S√†ng</span>\n                            </div>\n\n                            <div className=\"flex items-center justify-between p-3 bg-yellow-500/10 rounded-lg\">\n                                <div className=\"flex items-center space-x-3\">\n                                    <div className=\"w-2 h-2 bg-yellow-500 rounded-full\"></div>\n                                    <span className=\"font-medium text-foreground\">Ph√¢n Ph·ªëi</span>\n                                </div>\n                                <span className=\"text-sm text-yellow-600 font-medium\">Ch·∫ø ƒê·ªô Demo</span>\n                            </div>\n                        </div>\n                    </CardContent>\n                </Card>\n            </div>\n\n            {/* API Debugger - Temporary */}\n            <div className=\"mt-8\">\n                <Card>\n                    <CardHeader>\n                        <CardTitle>üîß API Debug Tool</CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                        <APIDebugger />\n                    </CardContent>\n                </Card>\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 716, "column": 0}, "map": {"version":3,"sources":["file:///F:/studio.ankun/components/views/upload-form-view.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\nimport { useState, useEffect, useRef } from \"react\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Card, CardContent } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { Checkbox } from \"@/components/ui/checkbox\"\r\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\"\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\r\nimport { ThemeToggle } from \"@/components/theme-toggle\"\r\nimport { logUIInteraction, logSubmissionActivity } from \"@/lib/client-activity-log\"\r\nimport type { User } from \"@/types/user\"\r\nimport type {\r\n  Submission,\r\n  TrackInfo,\r\n  AdditionalArtist,\r\n  MainCategory,\r\n  SubCategory,\r\n  ReleaseType,\r\n  CopyrightOwnershipStatus,\r\n  ReleaseHistoryStatus,\r\n  LyricsStatus,\r\n  Platform,\r\n  ArtistPrimaryRole,\r\n  AdditionalArtistRole,\r\n  PrismaSubmission,\r\n  PrismaTrack,\r\n  PrismaReleaseType,\r\n  PrismaSubmissionStatus,\r\n  convertLegacySubmissionToPrisma\r\n} from \"@/types/submission\"\r\nimport {\r\n  Rocket,\r\n  UserIcon,\r\n  Disc3,\r\n  UploadIcon,\r\n  Play,\r\n  Pause,\r\n  Plus,\r\n  Trash2,\r\n  X,\r\n} from \"lucide-react\"\r\nimport { useAuth } from \"@/components/auth-provider\"\r\nimport { validateImageFile, validateAudioFile, getMinimumReleaseDate } from \"@/lib/utils\"\r\nimport { multiDB } from \"@/lib/database-api-service\"\r\n\r\ninterface AudioTrack {\r\n  file: File\r\n  info: TrackInfo\r\n  id: string\r\n}\r\n\r\ninterface UploadFormViewProps {\r\n  onSubmissionAdded: (submission: Submission) => void\r\n  showModal: (title: string, messages: string[], type?: \"error\" | \"success\") => void\r\n}\r\n\r\nexport default function UploadFormView({ onSubmissionAdded, showModal }: Readonly<UploadFormViewProps>) {\r\n  const { user: currentUser } = useAuth();\r\n\r\n  // Form state - initialize with safe defaults\r\n  const [fullName, setFullName] = useState(\"\")\r\n  const [artistName, setArtistName] = useState(\"\")\r\n  const [artistRole, setArtistRole] = useState<ArtistPrimaryRole>(\"singer\")\r\n  const [songTitle, setSongTitle] = useState(\"\")\r\n  const [albumName, setAlbumName] = useState(\"\")\r\n  const [userEmail, setUserEmail] = useState(\"\")\r\n  const [mainCategory, setMainCategory] = useState<MainCategory>(\"pop\")\r\n  const [subCategory, setSubCategory] = useState<SubCategory>(\"official\")\r\n  const [releaseType, setReleaseType] = useState<ReleaseType>(\"single\")\r\n  const [isCopyrightOwner, setIsCopyrightOwner] = useState<CopyrightOwnershipStatus>(\"yes\")\r\n  const [hasBeenReleased, setHasBeenReleased] = useState<ReleaseHistoryStatus>(\"no\")\r\n  const [platforms, setPlatforms] = useState<Platform[]>([])\r\n  const [hasLyrics, setHasLyrics] = useState<LyricsStatus>(\"no\")\r\n  const [lyrics, setLyrics] = useState(\"\")\r\n  const [releaseDate, setReleaseDate] = useState(\"\")\r\n  const [isUploading, setIsUploading] = useState(false)\r\n  const [lastISRCCounter, setLastISRCCounter] = useState(1000)\r\n\r\n  // File states\r\n  const [imageFile, setImageFile] = useState<File | null>(null)\r\n  const [imagePreviewUrl, setImagePreviewUrl] = useState<string>(\"\")\r\n  const [audioTracks, setAudioTracks] = useState<AudioTrack[]>([])\r\n\r\n  // Audio player state\r\n  const [currentlyPlaying, setCurrentlyPlaying] = useState<string | null>(null)\r\n  const audioRefs = useRef<{ [key: string]: HTMLAudioElement }>({})\r\n\r\n  // Set minimum release date and user data on component mount\r\n  useEffect(() => {\r\n    setReleaseDate(getMinimumReleaseDate())\r\n    if (currentUser) {\r\n      setFullName(currentUser.fullName ?? \"\")\r\n      setArtistName(currentUser.role === \"Artist\" ? currentUser.username : \"\")\r\n      setUserEmail(currentUser.email ?? \"\")\r\n    }\r\n  }, [currentUser])\r\n\r\n  if (!currentUser) {\r\n    return (\r\n      <div className=\"p-6 min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-xl font-semibold text-gray-700 mb-2\">ƒêang t·∫£i th√¥ng tin</h2>\r\n          <p className=\"text-gray-500\">Vui l√≤ng ch·ªù trong gi√¢y l√°t...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Additional artist management functions\r\n  const addAdditionalArtist = (trackId: string) => {\r\n    setAudioTracks(prev =>\r\n      prev.map((track) => {\r\n        if (track.id === trackId) {\r\n          return {\r\n            ...track,\r\n            info: {\r\n              ...track.info,\r\n              additionalArtists: [\r\n                ...track.info.additionalArtists,\r\n                {\r\n                  name: \"\",\r\n                  fullName: \"\",\r\n                  role: \"featuring\" as AdditionalArtistRole,\r\n                  percentage: 0\r\n                }\r\n              ]\r\n            }\r\n          }\r\n        }\r\n        return track\r\n      })\r\n    )\r\n  }\r\n\r\n  const removeAdditionalArtist = (trackId: string, artistIndex: number) => {\r\n    setAudioTracks(prev =>\r\n      prev.map((track) => {\r\n        if (track.id === trackId) {\r\n          return {\r\n            ...track,\r\n            info: {\r\n              ...track.info,\r\n              additionalArtists: track.info.additionalArtists.filter((_, index) => index !== artistIndex)\r\n            }\r\n          }\r\n        }\r\n        return track\r\n      })\r\n    )\r\n  }\r\n\r\n  const updateAdditionalArtist = (trackId: string, artistIndex: number, field: keyof AdditionalArtist, value: string | number) => {\r\n    setAudioTracks(prev =>\r\n      prev.map((track) => {\r\n        if (track.id === trackId) {\r\n          return {\r\n            ...track,\r\n            info: {\r\n              ...track.info,\r\n              additionalArtists: track.info.additionalArtists.map((artist, index) => {\r\n                if (index === artistIndex) {\r\n                  return { ...artist, [field]: value }\r\n                }\r\n                return artist\r\n              })\r\n            }\r\n          }\r\n        }\r\n        return track\r\n      })\r\n    )\r\n  }\r\n\r\n  // Audio playback functions\r\n  const toggleAudioPlayback = (trackId: string, audioUrl: string) => {\r\n    if (currentlyPlaying === trackId) {\r\n      // Pause current track\r\n      audioRefs.current[trackId]?.pause()\r\n      setCurrentlyPlaying(null)\r\n    } else {\r\n      // Stop any currently playing track\r\n      if (currentlyPlaying) {\r\n        audioRefs.current[currentlyPlaying]?.pause()\r\n      }\r\n\r\n      // Play new track\r\n      if (!audioRefs.current[trackId]) {\r\n        audioRefs.current[trackId] = new Audio(audioUrl)\r\n        audioRefs.current[trackId].addEventListener('ended', () => {\r\n          setCurrentlyPlaying(null)\r\n        })\r\n      }\r\n\r\n      audioRefs.current[trackId].play()\r\n      setCurrentlyPlaying(trackId)\r\n    }\r\n  }\r\n\r\n  // Platform selection handlers\r\n  const handlePlatformChange = (platform: Platform, checked: boolean) => {\r\n    if (checked) {\r\n      setPlatforms(prev => [...prev, platform])\r\n    } else {\r\n      setPlatforms(prev => prev.filter(p => p !== platform))\r\n      }\r\n  }    // File upload handlers\r\n  const handleImageUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0]\r\n    if (!file) return\r\n\r\n    try {\r\n      const validation = await validateImageFile(file)\r\n      if (!validation.valid) {\r\n        showModal(\"L·ªói\", validation.errors, \"error\")\r\n        return\r\n        }\r\n\r\n      setImageFile(file)\r\n      setImagePreviewUrl(URL.createObjectURL(file))\r\n    } catch (error) {\r\n      showModal(\"L·ªói\", [\"C√≥ l·ªói x·∫£y ra khi t·∫£i ·∫£nh\"], \"error\")\r\n    }\r\n  }\r\n\r\n  const handleAudioUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = event.target.files\r\n    if (!files || files.length === 0) return\r\n\r\n    Array.from(files).forEach(async (file) => {\r\n      try {\r\n        const validation = validateAudioFile(file)\r\n        if (!validation.valid) {\r\n          showModal(\"L·ªói\", [`${file.name}: ${validation.errors.join(\", \")}`], \"error\")\r\n          return\r\n        } const { isrc, newCounter } = generateISRC(currentUser, lastISRCCounter)\r\n        setLastISRCCounter(newCounter)\r\n\r\n        const newTrack: AudioTrack = {\r\n          file,\r\n          id: isrc,\r\n          info: {\r\n            fileName: file.name,\r\n            title: file.name.replace(/\\.[^/.]+$/, \"\"), // Default to filename without extension\r\n            isrc: isrc,\r\n            songTitle: file.name.replace(/\\.[^/.]+$/, \"\"), // Default to filename without extension\r\n            artistName: artistName,\r\n            artistFullName: fullName,\r\n            additionalArtists: []\r\n          }\r\n        }\r\n\r\n        setAudioTracks(prev => [...prev, newTrack])\r\n      } catch (error) {\r\n        showModal(\"L·ªói\", [`C√≥ l·ªói x·∫£y ra khi t·∫£i file ${file.name}`], \"error\")\r\n      }\r\n    })\r\n    }\r\n\r\n  const removeAudioTrack = (trackId: string) => {\r\n    setAudioTracks(prev => prev.filter(track => track.id !== trackId))\r\n    if (currentlyPlaying === trackId) {\r\n      audioRefs.current[trackId]?.pause()\r\n      setCurrentlyPlaying(null)\r\n    }\r\n    if (audioRefs.current[trackId]) {\r\n      URL.revokeObjectURL(audioRefs.current[trackId].src)\r\n      delete audioRefs.current[trackId]\r\n    }\r\n  }\r\n\r\n  // ISRC function - generates proper formatted ISRC code\r\n  const generateISRC = (user: User, lastCounter: number) => {\r\n  // Format: VNA2P2500001 where:\r\n  // VN - Country code for Vietnam\r\n  // A2P - Issuer code for An Kun Studio\r\n  // 25 - Year (2025)\r\n  // 00001 - Sequential 5-digit number\r\n\r\n    const newCounter = lastCounter + 1\r\n    const year = new Date().getFullYear().toString().slice(2) // Get last 2 digits of year\r\n    const isrc = `VNA2P${year}${String(newCounter).padStart(5, \"0\")}`\r\n\r\n    return {\r\n      isrc,\r\n      newCounter,\r\n    }\r\n  }\r\n\r\n  // Form submission handler\r\n  const handleSubmit = async () => {\r\n    // Validation\r\n    const validationErrors = [];\r\n\r\n    // Check required fields\r\n    if (!songTitle.trim()) validationErrors.push(\"Vui l√≤ng nh·∫≠p t√™n b√†i h√°t\");\r\n    if (!artistName.trim()) validationErrors.push(\"Vui l√≤ng nh·∫≠p t√™n ngh·ªá sƒ©\");\r\n    if (!fullName.trim()) validationErrors.push(\"Vui l√≤ng nh·∫≠p h·ªç t√™n ƒë·∫ßy ƒë·ªß\");\r\n    if (!userEmail.trim()) validationErrors.push(\"Vui l√≤ng nh·∫≠p email\");\r\n    if (!userEmail.includes('@')) validationErrors.push(\"Email kh√¥ng h·ª£p l·ªá\");\r\n    if (audioTracks.length === 0) validationErrors.push(\"Vui l√≤ng upload √≠t nh·∫•t m·ªôt file nh·∫°c\");\r\n    if (!imageFile) validationErrors.push(\"Vui l√≤ng upload ·∫£nh b√¨a\");\r\n    if (!releaseDate) validationErrors.push(\"Vui l√≤ng ch·ªçn ng√†y ph√°t h√†nh\");\r\n\r\n    // Check for empty required fields in audio tracks\r\n    const invalidTracks = audioTracks.filter(track => !track.info.songTitle.trim());\r\n    if (invalidTracks.length > 0) {\r\n      validationErrors.push(`${invalidTracks.length} track ch∆∞a c√≥ t√™n b√†i h√°t`);\r\n    }\r\n\r\n    // Special validation for additional artists if present\r\n    audioTracks.forEach(track => {\r\n      track.info.additionalArtists.forEach((artist, index) => {\r\n        if (!artist.name.trim()) {\r\n          validationErrors.push(`Track \"${track.info.songTitle}\": Ngh·ªá sƒ© ph·ªëi h·ª£p #${index + 1} ch∆∞a c√≥ t√™n`);\r\n        }\r\n      });\r\n    });\r\n\r\n    if (validationErrors.length > 0) {\r\n      showModal(\"L·ªói\", validationErrors, \"error\");\r\n      return;\r\n    }\r\n\r\n    setIsUploading(true);\r\n\r\n    try {\r\n      // Log the start of submission process\r\n      logUIInteraction('form', 'upload-submission-form', {\r\n        trackCount: audioTracks.length,\r\n        hasImage: !!imageFile,\r\n        mainCategory,\r\n        subCategory,\r\n        releaseType\r\n      });\r\n\r\n      const { isrc, newCounter } = generateISRC(currentUser, lastISRCCounter);\r\n      setLastISRCCounter(newCounter);\r\n\r\n      // Upload ·∫£nh b√¨a\r\n      const imageFormData = new FormData();\r\n      if (imageFile) {\r\n        imageFormData.append(\"file\", imageFile);\r\n      }\r\n      imageFormData.append(\"type\", \"image\");\r\n      imageFormData.append(\"userId\", currentUser.id);\r\n      imageFormData.append(\"artistName\", artistName);\r\n      imageFormData.append(\"songTitle\", songTitle);\r\n      imageFormData.append(\"isrc\", isrc);\r\n\r\n      const imageResponse = await fetch(\"/api/upload\", {\r\n        method: \"POST\",\r\n        body: imageFormData,\r\n      });\r\n\r\n      const imageResult = await imageResponse.json();\r\n      if (!imageResult.success) {\r\n        throw new Error(`L·ªói upload ·∫£nh: ${imageResult.message}`);\r\n      }\r\n\r\n      // Upload c√°c file √¢m thanh v√† t·∫°o track data\r\n      const tracksData: Omit<PrismaTrack, 'id' | 'createdAt' | 'updatedAt' | 'submissionId'>[] = [];\r\n      \r\n      for (const track of audioTracks) {\r\n        const audioFormData = new FormData();\r\n        audioFormData.append(\"file\", track.file);\r\n        audioFormData.append(\"type\", \"audio\");\r\n        audioFormData.append(\"userId\", currentUser.id);\r\n        audioFormData.append(\"artistName\", artistName);\r\n        audioFormData.append(\"songTitle\", track.info.songTitle);\r\n        audioFormData.append(\"isrc\", track.id);\r\n\r\n        const audioResponse = await fetch(\"/api/upload\", {\r\n          method: \"POST\",\r\n          body: audioFormData,\r\n        });\r\n\r\n        const audioResult = await audioResponse.json();\r\n        if (!audioResult.success) {\r\n          throw new Error(`L·ªói upload √¢m thanh ${track.file.name}: ${audioResult.message}`);\r\n        }\r\n\r\n        // Create track data for Prisma structure\r\n        tracksData.push({\r\n          title: track.info.songTitle,\r\n          artist: track.info.artistName,\r\n          filePath: audioResult.url,\r\n          duration: track.info.duration || 0,\r\n          isrc: track.id,\r\n          fileName: track.file.name,\r\n          artistFullName: track.info.artistFullName,\r\n          fileSize: track.file.size,\r\n          format: track.file.type,\r\n          bitrate: null, // Will be populated by audio processing\r\n          sampleRate: null // Will be populated by audio processing\r\n        });\r\n      }\r\n\r\n      // Convert release type to Prisma enum\r\n      const prismaReleaseType: PrismaReleaseType = \r\n        releaseType === 'single' ? PrismaReleaseType.SINGLE :\r\n        releaseType === 'ep' ? PrismaReleaseType.EP :\r\n        releaseType === 'album' ? PrismaReleaseType.ALBUM :\r\n        releaseType === 'lp' ? PrismaReleaseType.ALBUM :\r\n        PrismaReleaseType.SINGLE;\r\n\r\n      // Create submission data for Prisma structure\r\n      const submissionData: Omit<PrismaSubmission, 'id' | 'createdAt' | 'updatedAt'> = {\r\n        title: songTitle,\r\n        artist: artistName,\r\n        upc: null, // Will be generated later\r\n        type: prismaReleaseType,\r\n        coverImagePath: imageResult.url,\r\n        releaseDate: new Date(releaseDate),\r\n        status: PrismaSubmissionStatus.PENDING,\r\n        metadataLocked: false,\r\n        published: false,\r\n        albumName: albumName || null,\r\n        mainCategory: mainCategory,\r\n        subCategory: subCategory || null,\r\n        platforms: hasBeenReleased === \"yes\" ? { platforms } : null,\r\n        distributionLink: null,\r\n        distributionPlatforms: null,\r\n        statusVietnamese: \"ƒê√£ nh·∫≠n, ƒëang ch·ªù duy·ªát\",\r\n        rejectionReason: null,\r\n        notes: hasLyrics === \"yes\" ? lyrics : null,\r\n        userId: currentUser.id,\r\n        labelId: currentUser.labelId || '' // Use user's label or default\r\n      };\r\n\r\n      // Use the new relational database service method\r\n      const result = await multiDB.createSubmissionWithTracks(submissionData, tracksData);\r\n\r\n      if (!result.success) {\r\n        throw new Error(result.message || \"Kh√¥ng th·ªÉ t·∫°o submission\");\r\n      }\r\n\r\n      // Convert back to legacy format for backward compatibility\r\n      const legacySubmission: Submission = {\r\n        id: result.data!.submission.id,\r\n        userId: currentUser.id,\r\n        isrc: tracksData[0]?.isrc || \"\",\r\n        uploaderUsername: currentUser.username,\r\n        artistName,\r\n        songTitle,\r\n        albumName,\r\n        userEmail,\r\n        imageFile: imageFile?.name ?? \"\",\r\n        imageUrl: imageResult.url,\r\n        audioUrl: tracksData.length === 1 ? tracksData[0].filePath : undefined,\r\n        audioUrls: tracksData.map(track => track.filePath),\r\n        audioFilesCount: tracksData.length,\r\n        status: \"ƒê√£ nh·∫≠n, ƒëang ch·ªù duy·ªát\",\r\n        submissionDate: new Date().toISOString(),\r\n        mainCategory,\r\n        subCategory,\r\n        releaseType,\r\n        isCopyrightOwner,\r\n        hasBeenReleased,\r\n        platforms: hasBeenReleased === \"yes\" ? platforms : [],\r\n        hasLyrics,\r\n        lyrics: hasLyrics === \"yes\" ? lyrics : \"\",\r\n        releaseDate,\r\n        artistRole,\r\n        fullName,\r\n        additionalArtists: [],\r\n        trackInfos: audioTracks.map(track => track.info),\r\n      };\r\n\r\n      onSubmissionAdded(legacySubmission);\r\n\r\n      // Log the successful submission\r\n      logSubmissionActivity(result.data!.submission.id, 'create', 'success', {\r\n        artistName,\r\n        songTitle,\r\n        trackCount: tracksData.length,\r\n        mainCategory,\r\n        subCategory,\r\n        releaseType,\r\n        releaseDate\r\n      });\r\n\r\n      // Reset form\r\n      resetForm();\r\n\r\n      showModal(\"Th√†nh c√¥ng\", [\"ƒê√£ g·ª≠i b√†i h√°t ƒë·ªÉ ch·ªù duy·ªát!\"], \"success\");\r\n    } catch (error: unknown) {\r\n      const errorMessage = error instanceof Error ? error.message : \"C√≥ l·ªói x·∫£y ra khi g·ª≠i b√†i h√°t\";\r\n\r\n      // Log the submission error\r\n      logSubmissionActivity('unknown', 'create', 'error', {\r\n        artistName,\r\n        songTitle,\r\n        error: errorMessage,\r\n        trackCount: audioTracks.length\r\n      });\r\n\r\n      showModal(\"L·ªói\", [errorMessage], \"error\");\r\n    } finally {\r\n      setIsUploading(false);\r\n    }\r\n  }\r\n\r\n  const resetForm = () => {\r\n    setArtistName(currentUser.role === \"Artist\" ? currentUser.username : \"\")\r\n    setSongTitle(\"\")\r\n    setAlbumName(\"\")\r\n    setUserEmail(currentUser.email ?? \"\")\r\n    setMainCategory(\"pop\")\r\n    setSubCategory(\"official\")\r\n    setReleaseType(\"single\")\r\n    setIsCopyrightOwner(\"yes\")\r\n    setHasBeenReleased(\"no\")\r\n    setPlatforms([])\r\n    setHasLyrics(\"no\")\r\n    setLyrics(\"\")\r\n    setImageFile(null)\r\n    setImagePreviewUrl(\"\")\r\n    setAudioTracks([])\r\n    setReleaseDate(getMinimumReleaseDate())\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 dark:from-gray-900 dark:to-blue-950 p-4\">\r\n      <div className=\"max-w-4xl mx-auto p-6 space-y-8\">\r\n        <div className=\"flex justify-between items-center mb-8\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold mb-2\">üéµ Upload Nh·∫°c ƒê·ªÉ Ph√°t H√†nh To√†n C·∫ßu</h1>\r\n            <p className=\"text-muted-foreground\">T·∫£i l√™n nh·∫°c c·ªßa b·∫°n v√† chia s·∫ª v·ªõi th·∫ø gi·ªõi</p>\r\n          </div>\r\n          <div className=\"flex items-center\">\r\n            <ThemeToggle />\r\n          </div>\r\n        </div>\r\n\r\n        <Tabs\r\n          defaultValue=\"basic\"\r\n          className=\"w-full\"\r\n                                        onValueChange={(value) => {\r\n            logUIInteraction('tab', value as any, {\r\n              formStep: value\r\n            });\r\n          }}\r\n        >\r\n          <TabsList className=\"grid w-full grid-cols-4\">\r\n            <TabsTrigger value=\"basic\" className=\"flex items-center gap-2\">\r\n              <UserIcon className=\"h-4 w-4\" />\r\n              Th√¥ng tin c∆° b·∫£n\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"media\" className=\"flex items-center gap-2\">\r\n              <UploadIcon className=\"h-4 w-4\" />\r\n              Media Files\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"metadata\" className=\"flex items-center gap-2\">\r\n              <Disc3 className=\"h-4 w-4\" />\r\n              Metadata\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"release\" className=\"flex items-center gap-2\">\r\n              <Rocket className=\"h-4 w-4\" />\r\n              Ph√°t h√†nh\r\n            </TabsTrigger>\r\n          </TabsList>\r\n\r\n          <TabsContent value=\"basic\" className=\"space-y-6\">\r\n            <Card>\r\n              <CardContent className=\"p-6 space-y-4\">\r\n                <h3 className=\"text-xl font-semibold mb-4\">Th√¥ng tin ngh·ªá sƒ©</h3>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <Label htmlFor=\"fullName\">H·ªç v√† t√™n ƒë·∫ßy ƒë·ªß *</Label>\r\n                    <Input\r\n                      id=\"fullName\"\r\n                      value={fullName}\r\n                      onChange={(e) => setFullName(e.target.value)}\r\n                      placeholder=\"V√≠ d·ª•: Nguy·ªÖn VƒÉn A\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <Label htmlFor=\"artistName\">T√™n ngh·ªá sƒ© *</Label>\r\n                    <Input\r\n                      id=\"artistName\"\r\n                      value={artistName}\r\n                      onChange={(e) => setArtistName(e.target.value)}\r\n                      placeholder=\"V√≠ d·ª•: AnKun\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <Label htmlFor=\"userEmail\">Email *</Label>\r\n                    <Input\r\n                      id=\"userEmail\"\r\n                      type=\"email\"\r\n                      value={userEmail}\r\n                      onChange={(e) => setUserEmail(e.target.value)}\r\n                      placeholder=\"email@example.com\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <Label htmlFor=\"artistRole\">Vai tr√≤ ch√≠nh *</Label>\r\n                    <Select value={artistRole} onValueChange={(value: ArtistPrimaryRole) => setArtistRole(value)}>\r\n                      <SelectTrigger>\r\n                        <SelectValue />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"singer\">Ca sƒ©</SelectItem>\r\n                        <SelectItem value=\"singer-songwriter\">Singer-Songwriter</SelectItem>\r\n                        <SelectItem value=\"rapper\">Rapper</SelectItem>\r\n                        <SelectItem value=\"producer\">Producer</SelectItem>\r\n                        <SelectItem value=\"composer\">Composer</SelectItem>\r\n                        <SelectItem value=\"songwriter\">Songwriter</SelectItem>\r\n                        <SelectItem value=\"instrumental\">Instrumental</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <Label htmlFor=\"songTitle\">T√™n b√†i h√°t *</Label>\r\n                    <Input\r\n                      id=\"songTitle\"\r\n                      value={songTitle}\r\n                      onChange={(e) => setSongTitle(e.target.value)}\r\n                      placeholder=\"T√™n b√†i h√°t c·ªßa b·∫°n\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <Label htmlFor=\"albumName\">T√™n album (t√πy ch·ªçn)</Label>\r\n                    <Input\r\n                      id=\"albumName\"\r\n                      value={albumName}\r\n                      onChange={(e) => setAlbumName(e.target.value)}\r\n                      placeholder=\"T√™n album (n·∫øu c√≥)\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"media\" className=\"space-y-6\">\r\n            <Card>\r\n              <CardContent className=\"p-6 space-y-6\">\r\n                <h3 className=\"text-xl font-semibold mb-4\">T·∫£i l√™n Media Files</h3>\r\n\r\n                {/* Image Upload */}\r\n                <div>\r\n                  <Label htmlFor=\"imageUpload\">·∫¢nh b√¨a b√†i h√°t (JPG, 4000x4000px, t·ªëi ƒëa 10MB) *</Label>\r\n                  <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center\">\r\n                    <input\r\n                      id=\"imageUpload\"\r\n                      type=\"file\"\r\n                      accept=\"image/jpeg,image/jpg\"\r\n                      onChange={handleImageUpload}\r\n                      className=\"hidden\"\r\n                    />\r\n                    <Button\r\n                      type=\"button\"\r\n                      variant=\"outline\"\r\n                      onClick={() => document.getElementById('imageUpload')?.click()}\r\n                      className=\"mb-4\"\r\n                    >\r\n                      <UploadIcon className=\"mr-2 h-4 w-4\" />\r\n                      Ch·ªçn ·∫£nh b√¨a\r\n                    </Button>\r\n                    {imagePreviewUrl && (\r\n                      <div className=\"mt-4\">\r\n                        <img\r\n                          src={imagePreviewUrl}\r\n                          alt=\"Preview\"\r\n                          className=\"mx-auto max-w-xs rounded-lg\"\r\n                        />\r\n                        <Button\r\n                          type=\"button\"\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          onClick={() => {\r\n                            setImageFile(null)\r\n                            setImagePreviewUrl(\"\")\r\n                          }}\r\n                          className=\"mt-2\"\r\n                        >\r\n                          <X className=\"h-4 w-4 mr-2\" />\r\n                          X√≥a ·∫£nh\r\n                        </Button>\r\n                      </div>)}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Audio Upload */}\r\n                <div>\r\n                  <Label htmlFor=\"audioUpload\">File nh·∫°c (WAV 24-bit, 2 k√™nh, 192kHz, t·ªëi ƒëa 100MB m·ªói file) *</Label>\r\n                  <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center\">\r\n                    <input\r\n                      id=\"audioUpload\"\r\n                      type=\"file\"\r\n                      accept=\"audio/wav\"\r\n                      multiple\r\n                      onChange={handleAudioUpload}\r\n                      className=\"hidden\"\r\n                    />\r\n                    <Button\r\n                      type=\"button\"\r\n                      variant=\"outline\"\r\n                      onClick={() => document.getElementById('audioUpload')?.click()}\r\n                      className=\"mb-4\"\r\n                    >\r\n                      <UploadIcon className=\"mr-2 h-4 w-4\" />\r\n                      Ch·ªçn file nh·∫°c\r\n                    </Button>\r\n\r\n                    {audioTracks.length > 0 && (\r\n                      <div className=\"mt-4 space-y-4\">\r\n                        {audioTracks.map((track, index) => (<div key={track.id} className=\"border rounded-lg p-4\">\r\n                          <div className=\"flex items-center justify-between mb-2\">\r\n                            <span className=\"font-medium\">{track.file.name}</span>\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <Button\r\n                                type=\"button\"\r\n                                variant=\"ghost\"\r\n                                size=\"sm\"\r\n                                onClick={() => toggleAudioPlayback(track.id, URL.createObjectURL(track.file))}\r\n                              >\r\n                                {currentlyPlaying === track.id ? (\r\n                                  <Pause className=\"h-4 w-4\" />\r\n                                ) : (\r\n                                  <Play className=\"h-4 w-4\" />\r\n                                )}\r\n                              </Button>\r\n                              <Button\r\n                                type=\"button\"\r\n                                variant=\"ghost\"\r\n                                size=\"sm\"\r\n                                onClick={() => removeAudioTrack(track.id)}\r\n                              >\r\n                                <Trash2 className=\"h-4 w-4\" />\r\n                              </Button>\r\n                            </div>\r\n                          </div>\r\n\r\n                          {/* Track title input field */}\r\n                          <div className=\"mb-4\">\r\n                            <Label htmlFor={`track-title-${track.id}`}>T√™n b√†i h√°t</Label>\r\n                            <Input\r\n                              id={`track-title-${track.id}`}\r\n                              value={track.info.songTitle}\r\n                              onChange={(e) => {\r\n                                setAudioTracks(prev =>\r\n                                  prev.map(t => {\r\n                                    if (t.id === track.id) {\r\n                                      return {\r\n                                        ...t,\r\n                                        info: {\r\n                                          ...t.info,\r\n                                          songTitle: e.target.value\r\n                                        }\r\n                                      };\r\n                                    }\r\n                                    return t;\r\n                                  })\r\n                                );\r\n                              }}\r\n                              placeholder=\"Nh·∫≠p t√™n b√†i h√°t\"\r\n                              className=\"mt-1\"\r\n                            />\r\n                          </div>\r\n\r\n                          {/* Additional Artists for this track */}\r\n                          <div className=\"mt-4\">\r\n                            <div className=\"flex items-center justify-between mb-2\">\r\n                              <Label>Ngh·ªá sƒ© ph·ªëi h·ª£p (t√πy ch·ªçn)</Label>\r\n                              <Button\r\n                                type=\"button\"\r\n                                variant=\"outline\"\r\n                                size=\"sm\"\r\n                                onClick={() => addAdditionalArtist(track.id)}\r\n                              >\r\n                                <Plus className=\"h-4 w-4 mr-2\" />\r\n                                Th√™m ngh·ªá sƒ©\r\n                              </Button>\r\n                            </div>\r\n\r\n                            {track.info.additionalArtists.map((artist, artistIndex) => (\r\n                              <div key={artistIndex} className=\"grid grid-cols-1 md:grid-cols-4 gap-2 mb-2 p-2 bg-gray-50 rounded\">\r\n                                <Input\r\n                                  placeholder=\"T√™n ngh·ªá sƒ©\"\r\n                                  value={artist.name}\r\n                                  onChange={(e) => updateAdditionalArtist(track.id, artistIndex, 'name', e.target.value)}\r\n                                />\r\n                                <Input\r\n                                  placeholder=\"H·ªç t√™n ƒë·∫ßy ƒë·ªß\"\r\n                                  value={artist.fullName || \"\"}\r\n                                  onChange={(e) => updateAdditionalArtist(track.id, artistIndex, 'fullName', e.target.value)}\r\n                                />\r\n                                <Select\r\n                                  value={artist.role}\r\n                                  onValueChange={(value: AdditionalArtistRole) => updateAdditionalArtist(track.id, artistIndex, 'role', value)}\r\n                                >\r\n                                  <SelectTrigger>\r\n                                    <SelectValue />\r\n                                  </SelectTrigger>\r\n                                  <SelectContent>\r\n                                    <SelectItem value=\"featuring\">Featuring</SelectItem>\r\n                                    <SelectItem value=\"vocalist\">Vocalist</SelectItem>\r\n                                    <SelectItem value=\"rapper\">Rapper</SelectItem>\r\n                                    <SelectItem value=\"producer\">Producer</SelectItem>\r\n                                    <SelectItem value=\"composer\">Composer</SelectItem>\r\n                                    <SelectItem value=\"songwriter\">Songwriter</SelectItem>\r\n                                    <SelectItem value=\"instrumental\">Instrumental</SelectItem>\r\n                                  </SelectContent>\r\n                                </Select>\r\n                                <div className=\"flex items-center gap-2\">\r\n                                  <Input\r\n                                    type=\"number\"\r\n                                    placeholder=\"% quy·ªÅn\"\r\n                                    min=\"0\"\r\n                                    max=\"100\"\r\n                                    value={artist.percentage}\r\n                                    onChange={(e) => updateAdditionalArtist(track.id, artistIndex, 'percentage', parseInt(e.target.value) || 0)}\r\n                                  />\r\n                                  <Button\r\n                                    type=\"button\"\r\n                                    variant=\"ghost\"\r\n                                    size=\"sm\"\r\n                                    onClick={() => removeAdditionalArtist(track.id, artistIndex)}\r\n                                  >\r\n                                    <X className=\"h-4 w-4\" />\r\n                                  </Button>\r\n                                </div>\r\n                              </div>\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                                </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"metadata\" className=\"space-y-6\">\r\n            <Card>\r\n              <CardContent className=\"p-6 space-y-4\">\r\n                <h3 className=\"text-xl font-semibold mb-4\">Th√¥ng tin metadata</h3>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  <div>\r\n                    <Label htmlFor=\"mainCategory\">Th·ªÉ lo·∫°i ch√≠nh *</Label>\r\n                    <Select value={mainCategory} onValueChange={(value: MainCategory) => setMainCategory(value)}>\r\n                      <SelectTrigger>\r\n                        <SelectValue />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"pop\">Pop</SelectItem>\r\n                        <SelectItem value=\"singer-songwriter\">Singer-Songwriter</SelectItem>\r\n                        <SelectItem value=\"hiphoprap\">Hip Hop/Rap</SelectItem>\r\n                        <SelectItem value=\"edm\">EDM</SelectItem>\r\n                        <SelectItem value=\"rnb\">R&B</SelectItem>\r\n                        <SelectItem value=\"ballad\">Ballad</SelectItem>\r\n                        <SelectItem value=\"acoustic\">Acoustic</SelectItem>\r\n                        <SelectItem value=\"indie\">Indie</SelectItem>\r\n                        <SelectItem value=\"other_main\">Kh√°c</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <Label htmlFor=\"subCategory\">Th·ªÉ lo·∫°i ph·ª• *</Label>\r\n                    <Select value={subCategory} onValueChange={(value: SubCategory) => setSubCategory(value)}>\r\n                      <SelectTrigger>\r\n                        <SelectValue />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"official\">Official</SelectItem>\r\n                        <SelectItem value=\"cover\">Cover</SelectItem>\r\n                        <SelectItem value=\"vpop\">V-Pop</SelectItem>\r\n                        <SelectItem value=\"lofi\">Lo-fi</SelectItem>\r\n                        <SelectItem value=\"chill\">Chill</SelectItem>\r\n                        <SelectItem value=\"trap\">Trap</SelectItem>\r\n                        <SelectItem value=\"house\">House</SelectItem>\r\n                        <SelectItem value=\"alternative\">Alternative</SelectItem>\r\n                        <SelectItem value=\"folk\">Folk</SelectItem>\r\n                        <SelectItem value=\"other_sub\">Kh√°c</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <Label htmlFor=\"releaseType\">Lo·∫°i ph√°t h√†nh *</Label>\r\n                    <Select value={releaseType} onValueChange={(value: ReleaseType) => setReleaseType(value)}>\r\n                      <SelectTrigger>\r\n                        <SelectValue />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"single\">Single</SelectItem>\r\n                        <SelectItem value=\"ep\">EP</SelectItem>\r\n                        <SelectItem value=\"lp\">LP</SelectItem>\r\n                        <SelectItem value=\"album\">Album</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <Label>B·∫°n c√≥ s·ªü h·ªØu b·∫£n quy·ªÅn c·ªßa b√†i h√°t n√†y kh√¥ng? *</Label>\r\n                  <RadioGroup\r\n                    value={isCopyrightOwner}\r\n                    onValueChange={(value: CopyrightOwnershipStatus) => setIsCopyrightOwner(value)}\r\n                    className=\"flex gap-4 mt-2\"\r\n                  >\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <RadioGroupItem value=\"yes\" id=\"copyright-yes\" />\r\n                      <Label htmlFor=\"copyright-yes\">C√≥</Label>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <RadioGroupItem value=\"no\" id=\"copyright-no\" />\r\n                      <Label htmlFor=\"copyright-no\">Kh√¥ng</Label>\r\n                    </div>\r\n                  </RadioGroup>\r\n                </div>\r\n\r\n                <div>\r\n                  <Label>B√†i h√°t n√†y ƒë√£ t·ª´ng ƒë∆∞·ª£c ph√°t h√†nh ch∆∞a? *</Label>\r\n                  <RadioGroup\r\n                    value={hasBeenReleased}\r\n                    onValueChange={(value: ReleaseHistoryStatus) => setHasBeenReleased(value)}\r\n                    className=\"flex gap-4 mt-2\"\r\n                  >\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <RadioGroupItem value=\"yes\" id=\"released-yes\" />\r\n                      <Label htmlFor=\"released-yes\">ƒê√£ ph√°t h√†nh</Label>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <RadioGroupItem value=\"no\" id=\"released-no\" />\r\n                      <Label htmlFor=\"released-no\">Ch∆∞a ph√°t h√†nh</Label>\r\n                    </div>\r\n                  </RadioGroup>\r\n                </div>\r\n\r\n                {hasBeenReleased === \"yes\" && (\r\n                  <div>\r\n                    <Label>C√°c n·ªÅn t·∫£ng ƒë√£ ph√°t h√†nh:</Label>\r\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2\">\r\n                      {[\r\n                        { value: \"youtube\" as Platform, label: \"YouTube\" },\r\n                        { value: \"spotify\" as Platform, label: \"Spotify\" },\r\n                        { value: \"apple_music\" as Platform, label: \"Apple Music\" },\r\n                        { value: \"soundcloud\" as Platform, label: \"SoundCloud\" },\r\n                        { value: \"other_platform\" as Platform, label: \"Kh√°c\" }\r\n                      ].map((platform) => (\r\n                        <div key={platform.value} className=\"flex items-center space-x-2\">\r\n                          <Checkbox\r\n                            id={platform.value}\r\n                            checked={platforms.includes(platform.value)}\r\n                            onCheckedChange={(checked) =>\r\n                              handlePlatformChange(platform.value, checked as boolean)\r\n                            }\r\n                          />\r\n                          <Label htmlFor={platform.value}>{platform.label}</Label>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                <div>\r\n                  <Label>B√†i h√°t c√≥ l·ªùi kh√¥ng? *</Label>\r\n                  <RadioGroup\r\n                    value={hasLyrics}\r\n                    onValueChange={(value: LyricsStatus) => setHasLyrics(value)}\r\n                    className=\"flex gap-4 mt-2\"\r\n                  >\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <RadioGroupItem value=\"yes\" id=\"lyrics-yes\" />\r\n                      <Label htmlFor=\"lyrics-yes\">C√≥ l·ªùi</Label>\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <RadioGroupItem value=\"no\" id=\"lyrics-no\" />\r\n                      <Label htmlFor=\"lyrics-no\">Instrumental</Label>\r\n                    </div>\r\n                  </RadioGroup>\r\n                </div>\r\n\r\n                {hasLyrics === \"yes\" && (\r\n                  <div>\r\n                    <Label htmlFor=\"lyrics\">L·ªùi b√†i h√°t</Label>\r\n                    <Textarea\r\n                      id=\"lyrics\"\r\n                      value={lyrics}\r\n                      onChange={(e) => setLyrics(e.target.value)}\r\n                      placeholder=\"Nh·∫≠p l·ªùi b√†i h√°t c·ªßa b·∫°n...\"\r\n                      rows={8}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"release\" className=\"space-y-6\">\r\n            <Card>\r\n              <CardContent className=\"p-6 space-y-4\">\r\n                <h3 className=\"text-xl font-semibold mb-4\">Th√¥ng tin ph√°t h√†nh</h3>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"releaseDate\">Ng√†y ph√°t h√†nh mong mu·ªën *</Label>\r\n                  <Input\r\n                    id=\"releaseDate\"\r\n                    type=\"date\"\r\n                    value={releaseDate}\r\n                    onChange={(e) => setReleaseDate(e.target.value)}\r\n                    min={getMinimumReleaseDate()}\r\n                  />\r\n                  <p className=\"text-sm text-muted-foreground mt-1\">\r\n                    Ng√†y ph√°t h√†nh ph·∫£i √≠t nh·∫•t 2 ng√†y k·ªÉ t·ª´ h√¥m nay\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"bg-secondary/50 border border-border p-4 rounded-lg\">\r\n                  <h4 className=\"font-semibold mb-2 text-foreground\">üìã T√≥m t·∫Øt th√¥ng tin</h4>\r\n                  <div className=\"space-y-2 text-sm text-foreground\">\r\n                    <p><strong>Ngh·ªá sƒ©:</strong> {artistName || \"Ch∆∞a nh·∫≠p\"}</p>\r\n                    <p><strong>B√†i h√°t:</strong> {songTitle || \"Ch∆∞a nh·∫≠p\"}</p>\r\n                    <p><strong>Album:</strong> {albumName || \"Kh√¥ng c√≥\"}</p>\r\n                    <p><strong>Th·ªÉ lo·∫°i:</strong> {mainCategory} - {subCategory}</p>\r\n                    <p><strong>Lo·∫°i ph√°t h√†nh:</strong> {releaseType}</p>\r\n                    <p><strong>Files √¢m thanh:</strong> {audioTracks.length} file(s)</p>\r\n                    <p><strong>C√≥ ·∫£nh b√¨a:</strong> {imageFile ? \"C√≥\" : \"Ch∆∞a c√≥\"}</p>\r\n                    <p><strong>Ng√†y ph√°t h√†nh:</strong> {releaseDate || \"Ch∆∞a ch·ªçn\"}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <Button\r\n                  onClick={handleSubmit}\r\n                  disabled={isUploading || !songTitle || !artistName || audioTracks.length === 0}\r\n                  className=\"w-full\"\r\n                  size=\"lg\"\r\n                >\r\n                  {isUploading ? (\r\n                    <>\r\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\" />\r\n                      ƒêang g·ª≠i...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Rocket className=\"mr-2 h-4 w-4\" />\r\n                      G·ª≠i ƒë·ªÉ ch·ªù duy·ªát\r\n                    </>\r\n                  )}\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n        </Tabs>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3151, "column": 0}, "map": {"version":3,"sources":["file:///F:/studio.ankun/components/views/submissions-view.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport Image from \"next/image\"\nimport { Button } from \"@/components/ui/button\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { SubmissionDetailModal } from \"@/components/modals/submission-detail-modal\"\nimport { useAuth } from \"@/components/auth-provider\"\nimport { AuthorizationService } from \"@/lib/authorization-service\"\nimport type { Submission } from \"@/types/submission\"\nimport { getStatusColor, getStatusText } from \"@/types/submission\"\nimport { Eye, Download, Volume2, FileText, Music, Upload, Edit, Trash2, CheckCircle, XCircle } from \"lucide-react\"\n\ninterface SubmissionsViewProps {\n  submissions: Submission[]\n  viewType: string\n  onUpdateStatus: (submissionId: string, newStatus: string) => void\n  showModal: (title: string, messages: string[], type?: \"error\" | \"success\") => void\n  onViewChange?: (view: string) => void\n}\n\nexport function SubmissionsView({\n  viewType,\n  onUpdateStatus,\n  showModal,\n  onViewChange,\n  submissions,\n}: Readonly<SubmissionsViewProps>) {\n  const { user: currentUser } = useAuth();\n  const [selectedSubmission, setSelectedSubmission] = useState<Submission | null>(null)\n  const [isDetailModalOpen, setIsDetailModalOpen] = useState(false)\n  const [searchTerm, setSearchTerm] = useState(\"\") // Th√™m state t√¨m ki·∫øm\n\n  if (!currentUser) {\n    return (\n      <div className=\"p-6 min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-xl font-semibold text-gray-700 mb-2\">ƒêang t·∫£i th√¥ng tin</h2>\n          <p className=\"text-gray-500\">Vui l√≤ng ch·ªù trong gi√¢y l√°t...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const displaySubmissions =\n    viewType === \"mySubmissions\"\n      ? submissions.filter((sub) => sub.uploaderUsername === currentUser.username)\n      : submissions\n\n  // L·ªçc submissions theo t·ª´ kh√≥a t√¨m ki·∫øm\n  const filteredDisplaySubmissions = displaySubmissions.filter(submission => {\n    if (!searchTerm) return true;\n    const searchText = searchTerm.toLowerCase();\n\n    // Safely convert any property to string before checking\n    const safeIncludes = (value: string | number | undefined | null): boolean => {\n      if (value === null || value === undefined) return false;\n      return String(value).toLowerCase().includes(searchText);\n    };\n\n    return (\n      safeIncludes(submission.artistName) ||\n      safeIncludes(submission.songTitle) ||\n      safeIncludes(submission.albumName) ||\n      safeIncludes(submission.id) ||\n      safeIncludes(submission.isrc) ||\n      safeIncludes(submission.status)\n    );\n  });\n\n  const handleViewDetails = (submissionId: string) => {\n    const submission = submissions.find((s) => s.id === submissionId)\n    if (submission) {\n      setSelectedSubmission(submission)\n      setIsDetailModalOpen(true)\n    }\n  }\n\n  const handleDownloadImage = (submission: Submission) => {\n    if (submission.imageUrl && submission.imageUrl.startsWith(\"data:\")) {\n      const link = document.createElement(\"a\")\n      link.href = submission.imageUrl\n      link.download = `${submission.songTitle}_cover.jpg`\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n      showModal(\"T·∫£i Xu·ªëng Th√†nh C√¥ng\", [`ƒê√£ t·∫£i ·∫£nh b√¨a \"${submission.songTitle}\"`], \"success\")\n    } else {\n      showModal(\"Th√¥ng B√°o\", [\"Kh√¥ng th·ªÉ t·∫£i xu·ªëng ·∫£nh b√¨a.\"], \"error\")\n    }\n  }\n\n  const handleDownloadAudio = (submission: Submission) => {\n    // In a real app, this would download the actual audio files\n    showModal(\n      \"T·∫£i Xu·ªëng Audio\",\n      [\n        `ƒêang chu·∫©n b·ªã t·∫£i ${submission.audioFilesCount} file audio cho \"${submission.songTitle}\". T√≠nh nƒÉng ƒëang ph√°t tri·ªÉn.`,\n      ],\n      \"success\",\n    )\n  }\n\n  // X·ª≠ l√Ω x√≥a submission\n  const handleDeleteSubmission = async (submissionId: string) => {\n    try {\n      console.log(`ƒêang x√≥a submission ${submissionId}`);\n\n      const response = await fetch(`/api/submissions/${submissionId}`, {\n        method: 'DELETE',\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        // C·∫≠p nh·∫≠t state local sau khi x√≥a th√†nh c√¥ng\n        // Note: C√≥ th·ªÉ c·∫ßn reload to√†n b·ªô danh s√°ch n·∫øu ƒë∆∞·ª£c qu·∫£n l√Ω b·ªüi component cha\n        showModal(\"X√≥a th√†nh c√¥ng\", [`ƒê√£ x√≥a b√†i n·ªôp \"${selectedSubmission?.songTitle || ''}\" th√†nh c√¥ng`], \"success\");\n        setIsDetailModalOpen(false); // ƒê√≥ng modal\n        setSelectedSubmission(null); // X√≥a submission ƒë√£ ch·ªçn\n      } else {\n        showModal(\"L·ªói x√≥a b√†i n·ªôp\", [data.message || \"Kh√¥ng th·ªÉ x√≥a b√†i n·ªôp\"], \"error\");\n      }\n    } catch (error) {\n      console.error(\"Error deleting submission:\", error);\n      showModal(\"L·ªói x√≥a b√†i n·ªôp\", [\"ƒê√£ x·∫£y ra l·ªói khi th·ª±c hi·ªán x√≥a b√†i n·ªôp\"], \"error\");\n    }\n  };\n\n  const statuses = [\n    \"ƒê√£ nh·∫≠n, ƒëang ch·ªù duy·ªát\",\n    \"ƒê√£ duy·ªát, t·ª´ ch·ªëi ph√°t h√†nh\",\n    \"ƒê√£ duy·ªát, ƒëang ch·ªù ph√°t h√†nh!\",\n    \"ƒê√£ ph√°t h√†nh, ƒëang ch·ªù ra m·∫Øt\",\n    \"Ho√†n th√†nh ph√°t h√†nh!\",\n  ]\n\n  // N·∫øu l√† Label Manager th√¨ xem to√†n b·ªô, c√≤n artist ch·ªâ xem s·ªë li·ªáu c·ªßa m√¨nh\n  const isLabelManager = currentUser.role === \"Label Manager\";\n  const filteredSubmissions = isLabelManager\n    ? submissions\n    : submissions.filter((sub) => sub.uploaderUsername === currentUser.username);\n\n  // T√≠nh to√°n c√°c s·ªë li·ªáu th·ªëng k√™\n  const totalSubmissions = filteredSubmissions.length;\n\n  // ƒê√£ duy·ªát (status === \"ƒê√£ duy·ªát, ƒëang ch·ªù ph√°t h√†nh!\" ho·∫∑c \"Ho√†n th√†nh ph√°t h√†nh!\" ho·∫∑c \"ƒê√£ ph√°t h√†nh, ƒëang ch·ªù ra m·∫Øt\")\n  const approvedSubmissions = filteredSubmissions.filter((sub) => [\n    \"ƒê√£ duy·ªát, ƒëang ch·ªù ph√°t h√†nh!\",\n    \"Ho√†n th√†nh ph√°t h√†nh!\",\n    \"ƒê√£ ph√°t h√†nh, ƒëang ch·ªù ra m·∫Øt\"\n  ].includes(sub.status)).length;\n\n  // Ch·ªù duy·ªát (status === \"ƒê√£ nh·∫≠n, ƒëang ch·ªù duy·ªát\")\n  const pendingSubmissions = filteredSubmissions.filter((sub) => sub.status === \"ƒê√£ nh·∫≠n, ƒëang ch·ªù duy·ªát\").length;\n\n  // T·ª´ ch·ªëi ph√°t h√†nh (status === \"ƒê√£ duy·ªát, t·ª´ ch·ªëi ph√°t h√†nh\")\n  const rejectedSubmissions = filteredSubmissions.filter((sub) => sub.status === \"ƒê√£ duy·ªát, t·ª´ ch·ªëi ph√°t h√†nh\").length;\n\n  // ƒêang ph√°t h√†nh (status === \"ƒê√£ ph√°t h√†nh, ƒëang ch·ªù ra m·∫Øt\")\n  const inProgressSubmissions = filteredSubmissions.filter((sub) => sub.status === \"ƒê√£ ph√°t h√†nh, ƒëang ch·ªù ra m·∫Øt\").length;\n\n  // Ho√†n th√†nh ph√°t h√†nh (status === \"Ho√†n th√†nh ph√°t h√†nh!\")\n  const completedSubmissions = filteredSubmissions.filter((sub) => sub.status === \"Ho√†n th√†nh ph√°t h√†nh!\").length;\n\n  // T·ªïng s·ªë track (trackInfos)\n  const totalTracks = filteredSubmissions.reduce((sum, sub) => {\n    return sum + (Array.isArray(sub.trackInfos) ? sub.trackInfos.length : 0);\n  }, 0);\n\n  // T·ªïng s·ªë audio (audioUrls ho·∫∑c audioUrl)\n  const totalAudios = filteredSubmissions.reduce((sum, sub) => {\n    const audioCount = Array.isArray(sub.audioUrls)\n      ? sub.audioUrls.length\n      : (sub.audioUrl ? 1 : 0);\n    return sum + audioCount;\n  }, 0);\n\n  // T·ªïng h·ª£p th√¥ng tin submissions theo th·ªÉ lo·∫°i\n  const submissionsByCategory = filteredSubmissions.reduce((acc, sub) => {\n    const category = sub.mainCategory || 'other_main';\n    if (!acc[category]) {\n      acc[category] = 0;\n    }\n    acc[category]++;\n    return acc;\n  }, {} as Record<string, number>);\n\n  // T·ªïng h·ª£p th√¥ng tin submissions theo n·ªÅn t·∫£ng\n  const submissionsByPlatform = filteredSubmissions.reduce((acc, sub) => {\n    if (Array.isArray(sub.platforms)) {\n      sub.platforms.forEach(platform => {\n        if (!acc[platform]) {\n          acc[platform] = 0;\n        }\n        acc[platform]++;\n      });\n    }\n    return acc;\n  }, {} as Record<string, number>);\n\n  // Chuy·ªÉn ƒë·ªïi ƒë·ªãnh d·∫°ng ng√†y cho submissions\n  const formatDate = (dateString: string) => {\n    if (!dateString) return \"N/A\";\n    try {\n      return new Date(dateString).toLocaleDateString(\"vi-VN\", {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric'\n      });\n    } catch {\n      return dateString;\n    }\n  };\n\n  // H√†m chuy·ªÉn ƒë·ªïi m√£ th·ªÉ lo·∫°i th√†nh t√™n hi·ªÉn th·ªã\n  const getCategoryName = (categoryCode: string): string => {\n    const categoryNames: Record<string, string> = {\n      'pop': 'Pop',\n      'singer-songwriter': 'Singer-Songwriter',\n      'hiphoprap': 'Hip Hop/Rap',\n      'edm': 'EDM',\n      'rnb': 'R&B',\n      'ballad': 'Ballad',\n      'acoustic': 'Acoustic',\n      'indie': 'Indie',\n      'other_main': 'Kh√°c'\n    };\n    return categoryNames[categoryCode] || categoryCode;\n  };\n\n  // H√†m chuy·ªÉn ƒë·ªïi m√£ n·ªÅn t·∫£ng th√†nh t√™n hi·ªÉn th·ªã\n  const getPlatformName = (platformCode: string): string => {\n    const platformNames: Record<string, string> = {\n      'youtube': 'YouTube',\n      'spotify': 'Spotify',\n      'apple_music': 'Apple Music',\n      'soundcloud': 'SoundCloud',\n      'other_platform': 'Kh√°c'\n    };\n    return platformNames[platformCode] || platformCode;\n  };\n\n  // Handle updating submission data (for UPC and distribution link)\n  const handleUpdateSubmission = async (submissionId: string, updatedData: Partial<Submission>) => {\n    try {\n      console.log(`Sending update for submission ${submissionId}:`, updatedData);\n\n      // Ch·ªâ g·ª≠i UPC v√† distributionLink ƒë·ªÉ tr√°nh l·ªói v·ªõi d·ªØ li·ªáu l·ªõn\n      const dataToSend = {\n        upc: updatedData.upc,\n        distributionLink: updatedData.distributionLink\n      };\n\n      const response = await fetch(`/api/submissions/${submissionId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(dataToSend),\n      });\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`HTTP error ${response.status}: ${errorText}`);\n      }\n\n      const data = await response.json();\n\n      if (data.success) {\n        // C·∫≠p nh·∫≠t l·∫°i submission trong state local\n        // Note: submissions state might be managed by parent component, so we don't update it directly\n\n        // C·∫≠p nh·∫≠t selectedSubmission n·∫øu ƒëang ƒë∆∞·ª£c xem\n        if (selectedSubmission && selectedSubmission.id === submissionId) {\n          setSelectedSubmission({ ...selectedSubmission, ...dataToSend });\n        }\n\n        showModal(\"C·∫≠p nh·∫≠t th√†nh c√¥ng\", [\"Th√¥ng tin ph√¢n ph·ªëi ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t th√†nh c√¥ng\"], \"success\");\n      } else {\n        showModal(\"L·ªói c·∫≠p nh·∫≠t\", [data.error || \"Kh√¥ng th·ªÉ c·∫≠p nh·∫≠t th√¥ng tin\"], \"error\");\n      }\n    } catch (error) {\n      console.error(\"Error updating submission:\", error);\n      const errorMessage = error instanceof Error ? error.message : \"ƒê√£ x·∫£y ra l·ªói khi c·∫≠p nh·∫≠t th√¥ng tin\";\n      showModal(\"L·ªói c·∫≠p nh·∫≠t\", [errorMessage], \"error\");\n    }\n  };\n\n  // Handler functions for new authorization-based actions\n  const handleEditSubmission = (submission: Submission) => {\n    // For now, just open the detail modal in edit mode\n    // In a full implementation, this would open an edit form\n    setSelectedSubmission(submission)\n    setIsDetailModalOpen(true)\n    showModal(\"Ch·ªânh s·ª≠a b√†i n·ªôp\", [`M·ªü form ch·ªânh s·ª≠a cho \"${submission.songTitle}\"`], \"success\")\n  }\n\n  const handleApproveSubmission = async (submissionId: string) => {\n    try {\n      const response = await fetch('/api/submissions/approve-reject', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          submissionId,\n          action: 'approve',\n        }),\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        // Update the submission status locally\n        onUpdateStatus(submissionId, 'approved')\n        showModal(\"Duy·ªát th√†nh c√¥ng\", [\"B√†i n·ªôp ƒë√£ ƒë∆∞·ª£c duy·ªát\"], \"success\")\n      } else {\n        showModal(\"L·ªói duy·ªát b√†i\", [data.message || \"Kh√¥ng th·ªÉ duy·ªát b√†i n·ªôp\"], \"error\")\n      }\n    } catch (error) {\n      console.error(\"Error approving submission:\", error)\n      showModal(\"L·ªói duy·ªát b√†i\", [\"ƒê√£ x·∫£y ra l·ªói khi duy·ªát b√†i n·ªôp\"], \"error\")\n    }\n  }\n\n  const handleRejectSubmission = async (submissionId: string) => {\n    // For now, reject without comment. In full implementation, would show a comment dialog\n    const comment = prompt(\"Nh·∫≠p l√Ω do t·ª´ ch·ªëi (t√πy ch·ªçn):\")\n\n    try {\n      const response = await fetch('/api/submissions/approve-reject', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          submissionId,\n          action: 'reject',\n          comment: comment || undefined,\n        }),\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        // Update the submission status locally\n        onUpdateStatus(submissionId, 'rejected')\n        showModal(\"T·ª´ ch·ªëi th√†nh c√¥ng\", [\"B√†i n·ªôp ƒë√£ b·ªã t·ª´ ch·ªëi\"], \"success\")\n      } else {\n        showModal(\"L·ªói t·ª´ ch·ªëi b√†i\", [data.message || \"Kh√¥ng th·ªÉ t·ª´ ch·ªëi b√†i n·ªôp\"], \"error\")\n      }\n    } catch (error) {\n      console.error(\"Error rejecting submission:\", error)\n      showModal(\"L·ªói t·ª´ ch·ªëi b√†i\", [\"ƒê√£ x·∫£y ra l·ªói khi t·ª´ ch·ªëi b√†i n·ªôp\"], \"error\")\n    }\n  }\n\n  return (\n    <div className=\"p-2 md:p-6\">\n      <div className=\"mb-6 flex flex-col md:flex-row md:justify-between md:items-center gap-4\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Submissions</h1>\n          <p className=\"text-gray-600\">Qu·∫£n l√Ω c√°c b√†i nh·∫°c b·∫°n ƒë√£ g·ª≠i l√™n h·ªá th·ªëng</p>\n        </div>\n        <div className=\"w-full md:w-64\">\n          <div className=\"relative\">\n            <input\n              type=\"text\"\n              placeholder=\"T√¨m ki·∫øm submissions...\"\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n            <button\n              className=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400\"\n              onClick={() => setSearchTerm(\"\")}\n            >\n              {searchTerm ? \"√ó\" : \"üîç\"}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n        <Card className=\"bg-gray-800 border-gray-700\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">T·ªïng submissions</CardTitle>\n            <FileText className=\"h-4 w-4 text-purple-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-white\">{totalSubmissions}</div>\n            <p className=\"text-xs text-gray-400\">T·ªïng s·ªë b√†i g·ª≠i l√™n</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-gray-800 border-gray-700\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">ƒê√£ duy·ªát</CardTitle>\n            <Music className=\"h-4 w-4 text-green-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-white\">{approvedSubmissions}</div>\n            <p className=\"text-xs text-gray-400\">S·∫µn s√†ng ph√°t h√†nh</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-gray-800 border-gray-700\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">Ch·ªù duy·ªát</CardTitle>\n            <FileText className=\"h-4 w-4 text-yellow-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-white\">{pendingSubmissions}</div>\n            <p className=\"text-xs text-gray-400\">ƒêang ch·ªù ki·ªÉm duy·ªát</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-gray-800 border-gray-700\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">B·ªã t·ª´ ch·ªëi</CardTitle>\n            <FileText className=\"h-4 w-4 text-red-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-white\">{rejectedSubmissions}</div>\n            <p className=\"text-xs text-gray-400\">ƒê√£ b·ªã t·ª´ ch·ªëi ph√°t h√†nh</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-gray-800 border-gray-700\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">ƒêang ph√°t h√†nh</CardTitle>\n            <Volume2 className=\"h-4 w-4 text-blue-400\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-white\">{inProgressSubmissions}</div>\n            <p className=\"text-xs text-gray-400\">ƒêang ch·ªù ra m·∫Øt</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-gray-800 border-gray-700\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">Ho√†n th√†nh ph√°t h√†nh</CardTitle>\n            <Music className=\"h-4 w-4 text-pink-400\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-white\">{completedSubmissions}</div>\n            <p className=\"text-xs text-gray-400\">ƒê√£ ho√†n th√†nh ph√°t h√†nh</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-gray-800 border-gray-700\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">T·ªïng s·ªë track</CardTitle>\n            <Music className=\"h-4 w-4 text-blue-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-white\">{totalTracks}</div>\n            <p className=\"text-xs text-gray-400\">C√°c track ƒë√£ g·ª≠i</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-gray-800 border-gray-700\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">T·ªïng file √¢m thanh</CardTitle>\n            <Music className=\"h-4 w-4 text-purple-400\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-white\">{totalAudios}</div>\n            <p className=\"text-xs text-gray-400\">C√°c file √¢m thanh ƒë√£ g·ª≠i</p>\n          </CardContent>\n        </Card>\n      </div>\n\n      <Card className=\"mt-6 bg-gray-800 border border-gray-700\">\n        <CardHeader className=\"flex items-center justify-between\">\n          <div className=\"flex items-center\">\n            <Volume2 className=\"mr-3 text-purple-400 w-8 h-8\" />\n            <div>\n              <CardTitle className=\"text-white\">\n                {searchTerm ? \"K·∫øt qu·∫£ t√¨m ki·∫øm\" : \"Danh s√°ch submissions\"}\n              </CardTitle>\n              {searchTerm && (\n                <p className=\"text-xs text-gray-400 mt-1\">\n                  T√¨m th·∫•y {filteredDisplaySubmissions.length} k·∫øt qu·∫£ cho &ldquo;{searchTerm}&rdquo;\n                </p>\n              )}\n            </div>\n          </div>\n          <Button\n            className=\"bg-purple-600 hover:bg-purple-700 text-white\"\n            onClick={() => onViewChange?.(\"upload\")}\n          >\n            <Upload className=\"h-4 w-4 mr-2\" />\n            Upload New Track\n          </Button>\n        </CardHeader>\n        <CardContent className=\"p-0\">\n          {filteredDisplaySubmissions.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <Music className=\"h-12 w-12 text-gray-600 mx-auto mb-4\" />\n              <p className=\"text-gray-400\">\n                {searchTerm ? \"Kh√¥ng t√¨m th·∫•y submissions kh·ªõp v·ªõi t·ª´ kh√≥a\" : \"Kh√¥ng t√¨m th·∫•y submissions n√†o\"}\n              </p>\n              <p className=\"text-sm text-gray-500 mt-2\">\n                {searchTerm ? \"Th·ª≠ t√¨m v·ªõi t·ª´ kh√≥a kh√°c\" : \"T·∫£i l√™n b√†i h√°t ƒë·∫ßu ti√™n c·ªßa b·∫°n ƒë·ªÉ b·∫Øt ƒë·∫ßu\"}\n              </p>\n              <Button\n                className=\"mt-4 bg-purple-600 hover:bg-purple-700 text-white\"\n                onClick={() => onViewChange?.(\"upload\")}\n              >\n                <Upload className=\"h-4 w-4 mr-2\" />\n                Upload Track\n              </Button>\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-700\">\n                <thead className=\"bg-gray-750\">\n                  <tr>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      ISRC\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      ID\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      ·∫¢nh B√¨a\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      Ngh·ªá Sƒ©\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      T√™n B√†i H√°t\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      Audio\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      Ng√†y G·ª≠i\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      Ng√†y Ph√°t H√†nh\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      Tr·∫°ng Th√°i\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      H√†nh ƒê·ªông\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-gray-800 divide-y divide-gray-700\">\n                    {filteredDisplaySubmissions.map((submission) => (\n                    <tr key={submission.id} className=\"hover:bg-gray-750 transition-colors duration-150\">\n                      <td className=\"px-4 py-3\">\n                        <span className=\"text-xs font-mono text-green-400\">{submission.isrc || \"N/A\"}</span>\n                      </td>\n                      <td className=\"px-4 py-3\">\n                        <span className=\"text-xs font-mono text-purple-400\">{submission.id}</span>\n                      </td>\n                      <td className=\"px-4 py-3\">\n                        <div className=\"flex items-center space-x-2\">\n                            <div className=\"relative h-10 w-10 overflow-hidden rounded-md border border-gray-600\">\n                              <Image\n                                src={\n                                  submission.artistName === \"Various Artist\"\n                                    ? \"/placeholders/various-artist.jpg\"\n                                    : (submission.imageUrl || \"/placeholders/default-cover.jpg\")\n                                }\n                                alt=\"Cover\"\n                                width={40}\n                                height={40}\n                                className=\"h-10 w-10 object-cover\"\n                                style={{ objectPosition: 'center' }}\n                                unoptimized={submission.imageUrl?.startsWith(\"data:\")}\n                                onError={(e) => {\n                                  // Fallback to default image if loading fails\n                                  const target = e.target as HTMLImageElement;\n                                  target.src = submission.artistName === \"Various Artist\"\n                                    ? \"/placeholders/various-artist.jpg\"\n                                    : \"/placeholders/default-cover.jpg\";\n                                }}\n                              />\n                            </div>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={() => handleDownloadImage(submission)}\n                            className=\"p-1\"\n                            title=\"T·∫£i xu·ªëng ·∫£nh b√¨a\"\n                          >\n                            <Download className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                      </td>\n                      <td className=\"px-4 py-3\">\n                        <span className=\"text-sm text-gray-200 font-medium\">{submission.artistName}</span>\n                      </td>\n                      <td className=\"px-4 py-3\">\n                        <span className=\"text-sm text-gray-300\">{submission.songTitle}</span>\n                        <p className=\"text-xs text-gray-500\">{submission.audioFilesCount} track(s)</p>\n                      </td>\n                      <td className=\"px-4 py-3\">\n                          <div className=\"flex flex-col gap-1\">\n                            {/* N·∫øu l√† album/ep c√≥ nhi·ªÅu b√†i, hi·ªÉn th·ªã t·ª´ng player */}\n                            {Array.isArray(submission.audioUrls) && submission.audioUrls.length > 0 ? (\n                              submission.audioUrls.map((url, idx) => (\n                                <div key={url} className=\"flex items-center space-x-2\">\n                                  <audio controls src={url} className=\"h-8\" preload=\"none\" style={{ maxWidth: 180 }} />\n                                  <span className=\"text-xs text-gray-400\">Track {idx + 1}</span>\n                                </div>\n                              ))\n                            ) : submission.audioUrl ? (\n                                <div className=\"flex items-center space-x-2\">\n                                  <audio controls src={submission.audioUrl} className=\"h-8\" preload=\"none\" style={{ maxWidth: 180 }} />\n                                  <span className=\"text-xs text-gray-400\">Single</span>\n                                </div>\n                            ) : (\n                                  <span className=\"text-xs text-gray-500\">Kh√¥ng c√≥ audio</span>\n                            )}\n                            <div className=\"flex items-center space-x-2 mt-1\">\n                              <Button\n                                variant=\"ghost\"\n                                size=\"sm\"\n                                onClick={() => handleDownloadAudio(submission)}\n                                className=\"p-1\"\n                                title=\"T·∫£i xu·ªëng audio\"\n                              >\n                                <Download className=\"h-4 w-4\" />\n                              </Button>\n                            </div>\n                        </div>\n                      </td>\n                      <td className=\"px-4 py-3\">\n                          <span className=\"text-sm text-gray-400\">{formatDate(submission.submissionDate)}</span>\n                      </td>\n                      <td className=\"px-4 py-3\">\n                        <span className=\"text-sm text-gray-400\">\n                            {submission.releaseDate ? formatDate(submission.releaseDate) : \"N/A\"}\n                        </span>\n                      </td>\n                      <td className=\"px-4 py-3\">\n                          <span className={`status-badge ${getStatusColor(submission.status)}`}>\n                            {getStatusText(submission.status)}\n                          </span>\n                      </td>\n                      <td className=\"px-4 py-3 text-sm space-x-2 whitespace-nowrap\">\n                          {/* View button - everyone can view */}\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => handleViewDetails(submission.id)}\n                          className=\"text-xs\"\n                        >\n                          <Eye className=\"h-4 w-4 mr-1\" />\n                          Xem\n                          </Button>                        {/* Edit button - only for artists editing their own submissions in pending status, or label managers */}\n                          {(AuthorizationService.canEditSubmission(currentUser, {\n                            id: submission.id,\n                            track_title: submission.songTitle,\n                            artist_name: submission.artistName,\n                            user_id: submission.userId,\n                            genre: submission.mainCategory || 'pop',\n                            submission_date: submission.submissionDate,\n                            status: 'pending' // Default to pending for authorization check\n                          }).allowed) && (\n                              <Button\n                                variant=\"outline\"\n                                size=\"sm\"\n                                onClick={() => handleEditSubmission(submission)}\n                                className=\"text-xs text-blue-400 hover:text-blue-300\"\n                              >\n                                <Edit className=\"h-4 w-4 mr-1\" />\n                                S·ª≠a\n                              </Button>\n                            )}\n\n                          {/* Delete button - only for label managers */}\n                          {AuthorizationService.canDeleteSubmission(currentUser).allowed && (\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => handleDeleteSubmission(submission.id)}\n                              className=\"text-xs text-red-400 hover:text-red-300\"\n                            >\n                              <Trash2 className=\"h-4 w-4 mr-1\" />\n                              X√≥a\n                            </Button>\n                          )}\n\n                          {/* Approve/Reject buttons - only for label managers */}\n                          {AuthorizationService.canApproveRejectSubmission(currentUser).allowed && (\n                            <>\n                              <Button\n                                variant=\"outline\"\n                                size=\"sm\"\n                                onClick={() => handleApproveSubmission(submission.id)}\n                                className=\"text-xs text-green-400 hover:text-green-300\"\n                              >\n                                <CheckCircle className=\"h-4 w-4 mr-1\" />\n                                Duy·ªát\n                              </Button>\n                              <Button\n                                variant=\"outline\"\n                                size=\"sm\"\n                                onClick={() => handleRejectSubmission(submission.id)}\n                                className=\"text-xs text-red-400 hover:text-red-300\"\n                              >\n                                <XCircle className=\"h-4 w-4 mr-1\" />\n                                H·ªßy\n                              </Button>\n                            </>\n                          )}\n\n                          {/* Status selector for label managers */}\n                        {currentUser.role === \"Label Manager\" && (\n                          <Select\n                            value={submission.status}\n                            onValueChange={(newStatus) => onUpdateStatus(submission.id, newStatus)}\n                          >\n                            <SelectTrigger className=\"w-auto text-xs py-1.5 h-auto\">\n                              <SelectValue />\n                            </SelectTrigger>\n                            <SelectContent>\n                              {statuses.map((status) => (\n                                <SelectItem key={status} value={status} className=\"text-xs\">\n                                  {status}\n                                </SelectItem>\n                              ))}\n                            </SelectContent>\n                          </Select>\n                        )}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Card hi·ªÉn th·ªã ph√¢n t√≠ch theo th·ªÉ lo·∫°i */}\n      {Object.keys(submissionsByCategory).length > 0 && (\n        <Card className=\"bg-gray-800 border-gray-700 col-span-1 md:col-span-2 lg:col-span-4\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">Ph√¢n lo·∫°i theo th·ªÉ lo·∫°i</CardTitle>\n            <FileText className=\"h-4 w-4 text-indigo-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex flex-wrap gap-2\">\n              {Object.entries(submissionsByCategory).map(([category, count]) => (\n                <div key={category} className=\"px-2 py-1 bg-gray-700 rounded-md text-xs\">\n                  <span className=\"font-semibold\">{getCategoryName(category)}</span>: {count}\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Card hi·ªÉn th·ªã ph√¢n t√≠ch theo n·ªÅn t·∫£ng */}\n      {Object.keys(submissionsByPlatform).length > 0 && (\n        <Card className=\"bg-gray-800 border-gray-700 col-span-1 md:col-span-2 lg:col-span-4\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">Ph√¢n lo·∫°i theo n·ªÅn t·∫£ng</CardTitle>\n            <FileText className=\"h-4 w-4 text-orange-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex flex-wrap gap-2\">\n              {Object.entries(submissionsByPlatform).map(([platform, count]) => (\n                <div key={platform} className=\"px-2 py-1 bg-gray-700 rounded-md text-xs\">\n                  <span className=\"font-semibold\">{getPlatformName(platform)}</span>: {count}\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {selectedSubmission && (\n        <SubmissionDetailModal\n          isOpen={isDetailModalOpen}\n          onClose={() => setIsDetailModalOpen(false)}\n          submission={selectedSubmission}\n          onUpdateStatus={onUpdateStatus}\n          onUpdateSubmission={handleUpdateSubmission}\n          showModal={showModal}\n          isLabelManager={isLabelManager}\n          onDeleteSubmission={handleDeleteSubmission}\n        />\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4943, "column": 0}, "map": {"version":3,"sources":["file:///F:/studio.ankun/components/views/my-profile-view.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { User, Mail, Calendar, Shield, Copy, Sparkles } from \"lucide-react\"\nimport { AwesomeIcon } from \"@/components/ui/awesome-icon\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { useAuth } from \"@/components/auth-provider\"\nimport Image from \"next/image\"\n\ninterface MyProfileViewProps {\n  showModal: (title: string, message: string, type?: \"success\" | \"error\") => void\n}\n\nexport function MyProfileView({ showModal }: MyProfileViewProps) {\n  const { user: currentUser, login } = useAuth();\n\n  const [formData, setFormData] = useState({\n    username: \"\",\n    fullName: \"\",\n    email: \"\",\n    bio: \"\",\n    avatar: \"\",\n    socialLinks: {\n      facebook: \"\",\n      youtube: \"\",\n      spotify: \"\",\n      appleMusic: \"\",\n      tiktok: \"\",\n      instagram: \"\",\n    },\n  });\n  // No need to store the File object since we're uploading immediately\n  const [avatarPreview, setAvatarPreview] = useState(\"/face.png\");\n\n  // Initialize form data when user data is available\n  useEffect(() => {\n    if (currentUser) {\n      setFormData({\n        username: currentUser.username || \"\",\n        fullName: currentUser.fullName || \"\",\n        email: currentUser.email || \"\",\n        bio: currentUser.bio || \"\",\n        avatar: currentUser.avatar || \"/face.png\",\n        socialLinks: {\n          facebook: currentUser.socialLinks?.facebook || \"\",\n          youtube: currentUser.socialLinks?.youtube || \"\",\n          spotify: currentUser.socialLinks?.spotify || \"\",\n          appleMusic: currentUser.socialLinks?.appleMusic || \"\",\n          tiktok: currentUser.socialLinks?.tiktok || \"\",\n          instagram: currentUser.socialLinks?.instagram || \"\",\n        },\n      });\n      setAvatarPreview(currentUser.avatar || \"/face.png\");\n    }\n  }, [currentUser]);\n\n  if (!currentUser) {\n    return (\n      <div className=\"p-6 min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-xl font-semibold text-gray-700 mb-2\">ƒêang t·∫£i th√¥ng tin</h2>\n          <p className=\"text-gray-500\">Vui l√≤ng ch·ªù trong gi√¢y l√°t...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const handleInputChange = (field: string, value: string) => {\n    if (field.startsWith(\"socialLinks.\")) {\n      const socialField = field.replace(\"socialLinks.\", \"\")\n      // S·ª≠ d·ª•ng normalizeInputValues ƒë·ªÉ chu·∫©n h√≥a gi√° tr·ªã social links\n      const normalizedValue = normalizeInputValues(socialField, value)\n      setFormData((prev) => ({\n        ...prev,\n        socialLinks: {\n          ...prev.socialLinks,\n          [socialField]: normalizedValue,\n        },\n      }))\n    } else {\n      setFormData((prev) => ({ ...prev, [field]: value }))\n    }\n  }\n\n  const handleAvatarChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (file) {\n      // Ch·ªâ validate lo·∫°i file, kh√¥ng gi·ªõi h·∫°n k√≠ch th∆∞·ªõc\n      if (![\"image/jpeg\", \"image/png\", \"image/jpg\"].includes(file.type)) {\n        showModal(\"L·ªói T·∫£i ·∫¢nh\", \"Ch·ªâ nh·∫≠n JPG/PNG.\")\n        e.target.value = \"\"\n        return\n      }\n\n      // Hi·ªÉn th·ªã th√¥ng b√°o ƒëang x·ª≠ l√Ω\n      showModal(\"ƒêang X·ª≠ L√Ω\", \"ƒêang t·∫£i v√† x·ª≠ l√Ω ·∫£nh ƒë·∫°i di·ªán...\")\n\n      // G·ª≠i file l√™n API avatar\n      const form = new FormData()\n      form.append(\"file\", file)\n      form.append(\"artistName\", currentUser.username || 'default-user')\n      form.append(\"userId\", currentUser.id || 'default-id')\n      form.append(\"role\", currentUser.role || 'Artist') // Th√™m role ƒë·ªÉ x√°c ƒë·ªãnh b·∫£ng\n\n      try {\n        // Show loading state\n        showModal(\"ƒêang x·ª≠ l√Ω\", \"ƒêang t·∫£i ·∫£nh l√™n, vui l√≤ng ƒë·ª£i...\")\n\n        const res = await fetch(\"/api/upload/avatar\", {\n          method: \"POST\",\n          body: form\n        })\n\n        if (!res.ok) {\n          const errorText = await res.text();\n          console.error(\"API error response:\", errorText);\n          throw new Error(`HTTP error ${res.status}: ${errorText}`);\n        }\n\n        const data = await res.json()\n\n        if (data.success && data.url) {\n          // C·∫≠p nh·∫≠t c·∫£ state preview v√† formData\n          setAvatarPreview(data.url)\n          setFormData(prev => ({ ...prev, avatar: data.url }))\n\n          // Hi·ªÉn th·ªã th√¥ng b√°o th√†nh c√¥ng\n          showModal(\"Th√†nh c√¥ng\", \"·∫¢nh ƒë·∫°i di·ªán ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t\", \"success\")\n\n          // C·∫≠p nh·∫≠t l·∫°i user context b·∫±ng c√°ch g·ªçi l·∫°i login (n·∫øu c·∫ßn, ho·∫∑c reload user info)\n          if (currentUser) {\n            await login(currentUser.username, \"\") // password r·ªóng, backend n√™n b·ªè qua check n·∫øu ƒë√£ login\n          }\n        } else {\n          console.error(\"Upload failed:\", data);\n          showModal(\"L·ªói Upload\", data.message ?? \"Kh√¥ng upload ƒë∆∞·ª£c ·∫£nh ƒë·∫°i di·ªán!\")\n        }\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : \"L·ªói kh√¥ng x√°c ƒë·ªãnh\";\n        console.error(\"Detailed error:\", error);\n        showModal(\"L·ªói Upload\", `Kh√¥ng th·ªÉ k·∫øt n·ªëi server: ${errorMessage}`)\n      }\n    }\n  }\n\n  const handleSuggestBio = () => {\n    const suggestedBios = [\n      `L√† m·ªôt ${currentUser.role} t√†i nƒÉng, ${formData.fullName || currentUser.username} lu√¥n mang ƒë·∫øn nh·ªØng l√†n gi√≥ m·ªõi cho √¢m nh·∫°c Vi·ªát.`,\n      `V·ªõi ƒëam m√™ ch√°y b·ªèng, ${formData.fullName || currentUser.username} ƒëang t·ª´ng b∆∞·ªõc kh·∫≥ng ƒë·ªãnh v·ªã tr√≠ c·ªßa m√¨nh. #GenZMusic`,\n      `√Çm nh·∫°c c·ªßa ${formData.fullName || currentUser.username} l√† s·ª± k·∫øt h·ª£p ƒë·ªôc ƒë√°o gi·ªØa truy·ªÅn th·ªëng v√† hi·ªán ƒë·∫°i, ch·∫°m ƒë·∫øn c·∫£m x√∫c ng∆∞·ªùi nghe.`,\n      `${formData.fullName || currentUser.username} - ngh·ªá sƒ© GenZ v·ªõi phong c√°ch ri√™ng bi·ªát, lu√¥n t√¨m t√≤i v√† s√°ng t·∫°o trong t·ª´ng giai ƒëi·ªáu.`,\n      `T·ª´ nh·ªØng beat chill ƒë·∫øn nh·ªØng b·∫£n ballad s√¢u l·∫Øng, ${formData.fullName || currentUser.username} chinh ph·ª•c tr√°i tim ng∆∞·ªùi nghe b·∫±ng √¢m nh·∫°c ch√¢n th√†nh.`,\n    ]\n\n    const randomBio = suggestedBios[Math.floor(Math.random() * suggestedBios.length)]\n    setFormData((prev) => ({ ...prev, bio: randomBio }))\n    showModal(\"G·ª£i √ù Bio\", \"ƒê√£ c√≥ bio m·∫´u! B·∫°n c√≥ th·ªÉ ch·ªânh s·ª≠a th√™m nh√©!\", \"success\")\n  }\n\n  const handleCopyLink = async (link: string, platform: string) => {\n    if (!link) {\n      showModal(\"Ch∆∞a c√≥ Link\", \"Vui l√≤ng nh·∫≠p link tr∆∞·ªõc khi copy.\", \"error\")\n      return\n    }\n\n    try {\n      await navigator.clipboard.writeText(link)\n      showModal(\"Copy Th√†nh C√¥ng\", `ƒê√£ copy link ${platform}: ${link}`, \"success\")\n    } catch (err) {\n      console.error(\"Clipboard copy failed:\", err);\n      showModal(\"L·ªói Copy\", \"Kh√¥ng th·ªÉ copy link v√†o clipboard.\");\n    }\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    try {\n      showModal(\"ƒêang x·ª≠ l√Ω\", \"ƒêang c·∫≠p nh·∫≠t th√¥ng tin profile...\")\n\n      // T·∫°o data ƒë·ªÉ g·ª≠i l√™n API (k√®m theo th√¥ng tin avatar)\n      const updatedProfile = {\n        ...formData,\n        id: currentUser.id,\n        username: currentUser.username,\n        role: currentUser.role,\n        table: currentUser.role === \"Label Manager\" ? \"label_manager\" : \"artist\",\n        // N·∫øu formData.avatar kh√¥ng c√≥, s·ª≠ d·ª•ng avatarPreview n·∫øu kh√°c v·ªõi m·∫∑c ƒë·ªãnh\n        avatar: formData.avatar || (avatarPreview !== \"/face.png\" ? avatarPreview : currentUser.avatar),\n        // ƒê·∫£m b·∫£o socialLinks ch·ªâ c√≥ gi√° tr·ªã kh√¥ng r·ªóng\n        socialLinks: Object.fromEntries(\n          Object.entries(formData.socialLinks).filter(([, value]) => value.trim() !== \"\")\n        )\n      }\n\n      console.log(\"G·ª≠i d·ªØ li·ªáu c·∫≠p nh·∫≠t profile:\", updatedProfile)\n\n      // G·ªçi API ƒë·ªÉ c·∫≠p nh·∫≠t th√¥ng tin\n      const response = await fetch(\"/api/profile/update\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(updatedProfile),\n      })\n\n      if (!response.ok) {\n        const errorText = await response.text()\n        throw new Error(`HTTP error ${response.status}: ${errorText}`)\n      }\n\n      const result = await response.json()\n\n      if (result.success) {\n        // C·∫≠p nh·∫≠t l·∫°i user context b·∫±ng d·ªØ li·ªáu tr·∫£ v·ªÅ t·ª´ API\n        if (result.user) {\n          // C·∫≠p nh·∫≠t th√¥ng tin user trong localStorage\n          const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');\n          const updatedUser = {\n            ...currentUser,\n            fullName: result.user.fullName || currentUser.fullName,\n            email: result.user.email || currentUser.email,\n            bio: result.user.bio || currentUser.bio,\n            avatar: result.user.avatar || currentUser.avatar,\n            socialLinks: result.user.socialLinks || currentUser.socialLinks\n          };\n          localStorage.setItem('currentUser', JSON.stringify(updatedUser));\n\n          // C·∫≠p nh·∫≠t l·∫°i user context b·∫±ng c√°ch reload trang\n          // ƒê√¢y l√† gi·∫£i ph√°p t·∫°m th·ªùi, c√°ch t·ªët h∆°n l√† c·∫≠p nh·∫≠t context tr·ª±c ti·∫øp\n          window.location.reload();\n        }\n\n        showModal(\"Th√†nh C√¥ng\", \"ƒê√£ c·∫≠p nh·∫≠t profile th√†nh c√¥ng!\", \"success\")\n      } else {\n        throw new Error(result.message || \"C·∫≠p nh·∫≠t kh√¥ng th√†nh c√¥ng\")\n      }\n    } catch (error) {\n      console.error('Error updating profile:', error)\n      const errorMessage = error instanceof Error ? error.message : \"L·ªói kh√¥ng x√°c ƒë·ªãnh\"\n      showModal(\"L·ªói C·∫≠p Nh·∫≠t\", `C√≥ l·ªói x·∫£y ra khi c·∫≠p nh·∫≠t profile: ${errorMessage}`, \"error\")\n    }\n  }\n\n  // H√†m ƒë·ªÉ chu·∫©n h√≥a c√°c gi√° tr·ªã social links tr∆∞·ªõc khi l∆∞u\n  const normalizeInputValues = (platform: string, value: string) => {\n    // N·∫øu gi√° tr·ªã r·ªóng, tr·∫£ v·ªÅ chu·ªói r·ªóng\n    if (!value.trim()) return \"\";\n\n    // Chu·∫©n h√≥a gi√° tr·ªã d·ª±a tr√™n n·ªÅn t·∫£ng\n    switch (platform) {\n      case 'facebook':\n      case 'instagram':\n        // X√≥a @ v√† c√°c k√Ω t·ª± ƒë·∫∑c bi·ªát kh√¥ng c·∫ßn thi·∫øt\n        return value.replace('@', '').trim();\n      case 'youtube':\n      case 'tiktok':\n        // B·∫£o to√†n @ n·∫øu c√≥, n·∫øu kh√¥ng th√™m v√†o\n        if (value.startsWith('@')) return value.trim();\n        return `@${value.trim()}`;\n      case 'spotify':\n      case 'appleMusic':\n        // Ch·ªâ l·∫•y ph·∫ßn ID, x√≥a URL n·∫øu c√≥\n        if (value.includes('/')) {\n          const parts = value.split('/');\n          return parts[parts.length - 1].trim();\n        }\n        return value.trim();\n      default:\n        return value.trim();\n    }\n  }\n\n  return (\n    <div className=\"p-2 md:p-6\">\n      <h2 className=\"text-3xl font-bold text-white mb-6 flex items-center\">\n        <User className=\"mr-3 text-purple-400\" />\n        H·ªì s∆° ngh·ªá sƒ© c·ªßa t√¥i\n      </h2>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        <div className=\"lg:col-span-2\">\n          <Card className=\"bg-gray-800 border border-gray-700 max-w-2xl mx-auto\">\n            <CardContent className=\"p-6 md:p-10\">\n              <form onSubmit={handleSubmit} className=\"space-y-6\">\n                <div>\n                  <Label htmlFor=\"username\">T√™n ƒëƒÉng nh·∫≠p</Label>\n                  <Input\n                    id=\"username\"\n                    value={formData.username}\n                    readOnly\n                    className=\"rounded-xl mt-1 bg-gray-600 cursor-not-allowed\"\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"fullName\">\n                    H·ªç t√™n ƒë·∫ßy ƒë·ªß<span className=\"text-red-500 font-bold ml-0.5\">*</span>\n                  </Label>\n                  <Input\n                    id=\"fullName\"\n                    value={formData.fullName}\n                    onChange={(e) => handleInputChange(\"fullName\", e.target.value)}\n                    required\n                    className=\"rounded-xl mt-1\"\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"email\">\n                    Email<span className=\"text-red-500 font-bold ml-0.5\">*</span>\n                  </Label>\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    value={formData.email}\n                    onChange={(e) => handleInputChange(\"email\", e.target.value)}\n                    required\n                    className=\"rounded-xl mt-1\"\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"avatarFile\">·∫¢nh ƒë·∫°i di·ªán (JPG/PNG, t·ª± ƒë·ªông crop v·ªÅ 1:1)</Label>\n                  <Input\n                    id=\"avatarFile\"\n                    type=\"file\"\n                    accept=\"image/jpeg,image/png\"\n                    onChange={handleAvatarChange}\n                    className=\"mt-1\"\n                  />\n                  <div className=\"mt-3 rounded-full w-32 h-32 border-2 border-gray-600 mx-auto overflow-hidden\">\n                    <Image\n                      src={avatarPreview || \"/placeholder.svg\"}\n                      alt=\"Avatar Preview\"\n                      width={128}\n                      height={128}\n                      className=\"object-cover w-full h-full\"\n                      style={{ aspectRatio: \"1/1\" }}\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <Label htmlFor=\"bio\">Ti·ªÉu s·ª≠ ngh·ªá sƒ©</Label>\n                  <Textarea\n                    id=\"bio\"\n                    value={formData.bio}\n                    onChange={(e) => handleInputChange(\"bio\", e.target.value)}\n                    rows={5}\n                    className=\"rounded-xl mt-1\"\n                    placeholder=\"Gi·ªõi thi·ªáu ngh·ªá sƒ©\"\n                  />\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={handleSuggestBio}\n                    className=\"mt-2 rounded-full\"\n                  >\n                    <Sparkles className=\"h-4 w-4 mr-2\" />\n                    G·ª£i √ù Bio\n                  </Button>\n                </div>\n\n                <div>\n                  <h3 className=\"text-lg font-semibold text-purple-400 pt-4 border-t border-gray-600 mb-4\">\n                    Li√™n k·∫øt m·∫°ng x√£ h·ªôi\n                  </h3>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    {Object.entries(formData.socialLinks).map(([platform, link]) => (\n                      <div key={platform}>\n                        <Label className=\"block text-xs font-medium text-gray-400 mb-1 capitalize\">\n                          {platform === \"appleMusic\" ? \"Apple Music\" : platform}\n                        </Label>\n                        <div className=\"flex\">\n                          <Input\n                            value={link}\n                            onChange={(e) => handleInputChange(`socialLinks.${platform}`, e.target.value)}\n                            className=\"rounded-xl rounded-r-none flex-grow\"\n                            placeholder={\n                              platform === 'facebook' ? 'iamankun' :\n                                platform === 'youtube' ? '@ankun_music' :\n                                  platform === 'spotify' ? '5NIqsUlRfxkY4d2WjhcmXs' :\n                                    platform === 'appleMusic' ? '1545463988' :\n                                      platform === 'tiktok' ? '@iamankun' :\n                                        platform === 'instagram' ? 'iamankun' :\n                                          `https://${platform}.com/...`\n                            }\n                          />\n                          <Button\n                            type=\"button\"\n                            variant=\"outline\"\n                            onClick={() => handleCopyLink(link ?? \"\", platform)}\n                            className=\"rounded-xl rounded-l-none border-l-0 px-3\"\n                          >\n                            <Copy className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"border-t border-gray-700 pt-6\">\n                  <h3 className=\"text-lg font-semibold text-purple-400 mb-4\">üîî Test Notification System</h3>\n                  <div className=\"grid grid-cols-2 gap-2\">\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      onClick={() => showModal(\"Profile Test\", \"Profile notification with musical sound!\", \"success\")}\n                      className=\"text-sm\"\n                    >\n                      üéµ Success Sound\n                    </Button>\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      onClick={() => showModal(\"Error Test\", \"Error notification with alert sound!\", \"error\")}\n                      className=\"text-sm\"\n                    >\n                      üö® Error Sound\n                    </Button>\n                  </div>\n                </div>\n\n                <Button type=\"submit\" className=\"w-full rounded-full bg-green-600 hover:bg-green-700 py-6\">\n                  <User className=\"h-5 w-5 mr-2\" />\n                  L∆∞u Thay ƒê·ªïi\n                </Button>\n              </form>\n            </CardContent>\n          </Card>\n        </div>\n\n        <div>\n          <Card className=\"overflow-hidden border-none shadow-lg bg-gradient-to-b from-gray-800 to-gray-900\">\n            <div className=\"relative h-32 bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center\">\n              <div className=\"absolute -bottom-16 left-1/2 transform -translate-x-1/2\">\n                <div className=\"relative w-32 h-32 rounded-full overflow-hidden border-4 border-gray-900 shadow-xl animate-pulse-slow\">\n                  {avatarPreview ? (\n                    <Image\n                      src={avatarPreview}\n                      alt={currentUser.fullName ?? currentUser.username}\n                      width={128}\n                      height={128}\n                      className=\"object-cover w-full h-full\"\n                      priority\n                      onError={(e) => {\n                        e.currentTarget.src = \"/face.png\";\n                      }}\n                    />\n                  ) : (\n                    <div className=\"w-full h-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center\">\n                      <User className=\"h-16 w-16 text-white\" />\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n            <CardContent className=\"mt-20 space-y-4 text-center\">\n              <div>\n                <h2 className=\"text-3xl font-bold bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent flex items-center justify-center\">\n                  {formData.fullName || currentUser.fullName}\n                  {/* Show verified badge if artist has YouTube, Spotify, or Apple Music */}\n                  {(formData.socialLinks.youtube ||\n                    formData.socialLinks.spotify ||\n                    formData.socialLinks.appleMusic) && (\n                      <span className=\"ml-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-sm rounded-full w-6 h-6 flex items-center justify-center shadow-md\" title=\"Ngh·ªá sƒ© ƒë√£ x√°c th·ª±c\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-4 h-4\">\n                          <path fillRule=\"evenodd\" d=\"M8.603 3.799A4.49 4.49 0 0112 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 013.498 1.307 4.491 4.491 0 011.307 3.497A4.49 4.49 0 0121.75 12a4.49 4.49 0 01-1.549 3.397 4.491 4.491 0 01-1.307 3.497 4.491 4.491 0 01-3.497 1.307A4.49 4.49 0 0112 21.75a4.49 4.49 0 01-3.397-1.549 4.49 4.49 0 01-3.498-1.306 4.491 4.491 0 01-1.307-3.498A4.49 4.49 0 012.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 011.307-3.497 4.49 4.49 0 013.497-1.307zm7.007 6.387a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z\" clipRule=\"evenodd\" />\n                        </svg>\n                      </span>\n                    )}\n                </h2>\n                <p className=\"text-gray-400 text-lg mt-1\">@{currentUser.username}</p>\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div className=\"flex items-center justify-center space-x-2\">\n                  <Mail className=\"h-4 w-4 text-gray-400\" />\n                  <span className=\"text-sm text-gray-300\">{currentUser.email}</span>\n                </div>\n                <div className=\"flex items-center justify-center space-x-2\">\n                  <Shield className=\"h-4 w-4 text-gray-400\" />\n                  <span className=\"text-sm text-gray-300\">{currentUser.role}</span>\n                </div>\n                <div className=\"flex items-center justify-center space-x-2 col-span-full\">\n                  <Calendar className=\"h-4 w-4 text-gray-400\" />\n                  <span className=\"text-sm text-gray-300\">\n                    Tham gia t·ª´ {new Date(currentUser.createdAt).toLocaleDateString()}\n                  </span>\n                </div>\n              </div>\n\n              {/* Label Admin Controls for Verification - Only visible for Label Manager role */}\n              {(currentUser.role === 'Label Manager') && (\n                <div className=\"mt-4 pt-4 border-t border-gray-700\">\n                  <h4 className=\"text-sm font-medium text-gray-400 mb-3\">Label Management Controls</h4>\n                  <div className=\"flex flex-wrap gap-2 justify-center\">\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"bg-gradient-to-r from-green-500/20 to-green-600/20 hover:from-green-500/40 hover:to-green-600/40 text-green-400\"\n                      onClick={() => {\n                        // In a real app, this would call an API to grant verification\n                        // For demo purposes, just show a modal\n                        showModal(\"C·∫•p T√≠ch Xanh\", \"ƒê√£ c·∫•p t√≠ch xanh cho ngh·ªá sƒ© th√†nh c√¥ng!\", \"success\")\n                      }}\n                    >\n                      <AwesomeIcon icon=\"fa-check-circle\" solid className=\"mr-2\" />\n                      C·∫•p T√≠ch Xanh\n                    </Button>\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"bg-gradient-to-r from-red-500/20 to-red-600/20 hover:from-red-500/40 hover:to-red-600/40 text-red-400\"\n                      onClick={() => {\n                        // In a real app, this would call an API to remove verification\n                        // For demo purposes, just show a modal\n                        showModal(\"H·ªßy T√≠ch Xanh\", \"ƒê√£ h·ªßy t√≠ch xanh c·ªßa ngh·ªá sƒ© th√†nh c√¥ng!\", \"success\")\n                      }}\n                    >\n                      <AwesomeIcon icon=\"fa-times-circle\" solid className=\"mr-2\" />\n                      H·ªßy T√≠ch Xanh\n                    </Button>\n                  </div>\n                </div>\n              )}\n\n              {/* Social Media Links - Enhanced with icons */}\n              <div className=\"mt-4 pt-4 border-t border-gray-700\">\n                <h4 className=\"text-sm font-medium text-gray-400 mb-3\">K·∫øt n·ªëi m·∫°ng x√£ h·ªôi</h4>\n                <div className=\"flex flex-wrap gap-2 justify-center\">\n                  {Object.entries(formData.socialLinks).map(([platform, value]) => {\n                    if (!value) return null;\n\n                    let url = '';\n                    let icon = null;\n\n                    switch (platform) {\n                      case 'facebook':\n                        url = `https://www.facebook.com/${value.replace('@', '')}`;\n                        icon = <AwesomeIcon icon=\"fa-facebook\" brands size=\"lg\" className=\"text-blue-600\" />;\n                        break;\n                      case 'youtube':\n                        // Handle formats with @\n                        url = value.startsWith('@')\n                          ? `https://www.youtube.com/${value}`\n                          : `https://www.youtube.com/@${value}`;\n                        icon = <AwesomeIcon icon=\"fa-youtube\" brands size=\"lg\" className=\"text-red-600\" />;\n                        break;\n                      case 'tiktok':\n                        // Handle formats with @\n                        url = value.startsWith('@')\n                          ? `https://www.tiktok.com/${value}`\n                          : `https://www.tiktok.com/@${value}`;\n                        icon = <AwesomeIcon icon=\"fa-tiktok\" brands size=\"lg\" className=\"text-black dark:text-white\" />;\n                        break;\n                      case 'instagram':\n                        url = `https://www.instagram.com/${value.replace('@', '')}`;\n                        icon = <AwesomeIcon icon=\"fa-instagram\" brands size=\"lg\" className=\"text-pink-600\" />;\n                        break;\n                      case 'spotify':\n                        // Direct to artist page with ID\n                        url = `https://open.spotify.com/artist/${value}`;\n                        icon = <AwesomeIcon icon=\"fa-spotify\" brands size=\"lg\" className=\"text-green-600\" />;\n                        break;\n                      case 'appleMusic':\n                        // Direct to artist page with ID\n                        url = `https://music.apple.com/artist/${value}`;\n                        icon = <AwesomeIcon icon=\"fa-apple\" brands size=\"lg\" className=\"text-gray-700 dark:text-gray-300\" />;\n                        break;\n                      default:\n                        url = value;\n                        icon = <AwesomeIcon icon=\"fa-link\" solid size=\"lg\" className=\"text-gray-600\" />;\n                    }\n\n                    return (\n                      <a\n                        key={platform}\n                        href={url}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"inline-flex items-center rounded-full px-3 py-2 bg-gradient-to-r from-gray-700/80 to-gray-800/80 backdrop-blur-sm hover:from-gray-600 hover:to-gray-700 hover:shadow-lg transition-all duration-300\"\n                      >\n                        <span className=\"mr-2\">{icon}</span>\n                        <span className=\"text-xs\">{platform === \"appleMusic\" ? \"Apple Music\" : platform}</span>\n                      </a>\n                    );\n                  })}\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6124, "column": 0}, "map": {"version":3,"sources":["file:///F:/studio.ankun/components/views/settings-view.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { StatusIndicator } from \"@/components/status-indicator\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Switch } from \"@/components/ui/switch\"\nimport { Settings, Save, ImageIcon, Globe, Palette, HelpCircle, Mail, Database } from \"lucide-react\"\nimport { useSystemStatus } from \"@/components/system-status-provider\"\nimport { useAuth } from \"@/components/auth-provider\"\nimport Image from \"next/image\"\n\nexport function SettingsView() {\n  const { user: currentUser } = useAuth();\n  const { status, checkAllSystems } = useSystemStatus()\n\n  // Email settings removed - managed through environment variables\n\n  const [appSettings, setAppSettings] = useState({\n    appName: \"AKs Studio\",\n    logoUrl: \"/face.png\",\n    homeUrl: \"/\",\n    version: \"1.0.0\",\n  })\n\n  const [appMode, setAppMode] = useState(\"demo\") // demo or production\n\n  const [backgroundSettings, setBackgroundSettings] = useState({\n    type: \"gradient\",\n    gradient: \"linear-gradient(135deg,rgba(102, 126, 234, 0.14) 0%,rgba(118, 75, 162, 0.17) 100%)\",\n    videoUrl: \"\",\n    opacity: 0.3,\n    randomVideo: true,\n    videoList: [\n      \"dQw4w9WgXcQ\",\n      \"kJQP7kiw5Fk\",\n      \"fJ9rUzIMcZQ\",\n      \"9bZkp7q19f0\",\n      \"hTWKbfoikeg\",\n      \"YQHsXMglC9A\",\n      \"CevxZvSJLk8\",\n      \"JGwWNGJdvx8\",\n      \"RgKAFK5djSk\",\n      \"OPf0YbXqDm0\",\n    ],\n  })\n\n  const [footerSettings, setFooterSettings] = useState({\n    companyName: \"AKs Studio\", // Gi√° tr·ªã m·∫∑c ƒë·ªãnh\n    version: \"1.0.0\", // Gi√° tr·ªã m·∫∑c ƒë·ªãnh\n    logoUrl: \"/face.png\", // Gi√° tr·ªã m·∫∑c ƒë·ªãnh\n    websiteUrl: \"/\", // Gi√° tr·ªã m·∫∑c ƒë·ªãnh\n    description: \"Digital Music Distribution\",\n  })\n\n  // Database settings removed - managed through environment variables\n\n  useEffect(() => {\n    // Load all settings\n    loadSettings()\n  }, [])\n\n  if (!currentUser) {\n    return (\n      <div className=\"p-6 min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-xl font-semibold text-gray-700 mb-2\">ƒêang t·∫£i th√¥ng tin</h2>\n          <p className=\"text-gray-500\">Vui l√≤ng ch·ªù trong gi√¢y l√°t...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const loadSettings = () => {\n    // Load app mode from localStorage\n    const savedMode = localStorage.getItem(\"APP_MODE\")\n    if (savedMode) {\n      setAppMode(savedMode)\n    }\n\n    // Email settings are now managed through environment variables\n\n    // Load app settings\n    const savedApp = localStorage.getItem(\"appSettings_v2\")\n    if (savedApp) {\n      setAppSettings(JSON.parse(savedApp))\n    }\n\n    // Load background settings\n    const savedBackground = localStorage.getItem(\"backgroundSettings_v2\")\n    if (savedBackground) {\n      setBackgroundSettings(JSON.parse(savedBackground))\n    }\n\n    // Load footer settings\n    const savedFooter = localStorage.getItem(\"footerSettings_v2\")\n    if (savedFooter) {\n      setFooterSettings(JSON.parse(savedFooter))\n    } else {\n      // C·∫≠p nh·∫≠t footerSettings n·∫øu appSettings ƒë√£ ƒë∆∞·ª£c t·∫£i, ho·∫∑c d√πng gi√° tr·ªã m·∫∑c ƒë·ªãnh\n      if (savedApp) {\n        const parsedApp = JSON.parse(savedApp)\n        setFooterSettings((prev) => ({\n          ...prev,\n          companyName: parsedApp.appName,\n          version: parsedApp.version,\n          logoUrl: parsedApp.logoUrl,\n          websiteUrl: parsedApp.homeUrl,\n        }))\n      }\n    }\n\n    // Database settings are now managed through environment variables\n  }\n\n  // Email settings handlers removed - now managed through environment variables\n\n  const handleSaveAppSettings = () => {\n    localStorage.setItem(\"appSettings_v2\", JSON.stringify(appSettings))\n    showModal(\"L∆∞u th√†nh c√¥ng\", [\"ƒê√£ l∆∞u c√†i ƒë·∫∑t ·ª©ng d·ª•ng!\"], \"success\")\n    // Update favicon\n    const favicon = document.querySelector(\"link[rel*='icon']\") as HTMLLinkElement\n    if (favicon) {\n      favicon.href = appSettings.logoUrl\n    }\n    // Update title\n    document.title = `${appSettings.appName} - Digital Music Distribution`\n  }\n\n  const handleSaveBackgroundSettings = () => {\n    localStorage.setItem(\"backgroundSettings_v2\", JSON.stringify(backgroundSettings))\n    window.dispatchEvent(new CustomEvent(\"backgroundUpdate\", { detail: backgroundSettings }))\n    showModal(\"L∆∞u th√†nh c√¥ng\", [\"ƒê√£ l∆∞u c√†i ƒë·∫∑t background!\"], \"success\")\n  }\n\n  const handleSaveFooterSettings = () => {\n    localStorage.setItem(\"footerSettings_v2\", JSON.stringify(footerSettings))\n    window.dispatchEvent(new CustomEvent(\"footerUpdate\", { detail: footerSettings }))\n    showModal(\"L∆∞u th√†nh c√¥ng\", [\"ƒê√£ l∆∞u c√†i ƒë·∫∑t footer!\"], \"success\")\n  }\n\n  // Database and SMTP handlers removed - now managed through environment variables\n\n  // Helper function to show modal (can be moved to a context or prop if needed more globally)\n  const showModal = (title: string, messages: string[], type: \"error\" | \"success\" = \"error\") => {\n    const event = new CustomEvent(\"showGlobalNotification\", {\n      detail: {\n        title,\n        message: messages.join(\" \"),\n        type,\n      },\n    })\n    window.dispatchEvent(event)\n  }\n\n  return (\n    <div className=\"p-2 md:p-6\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <h2 className=\"text-3xl font-bold text-white flex items-center\">\n          <Settings className=\"mr-3 text-purple-400\" />\n          C√†i ƒë·∫∑t h·ªá th·ªëng\n        </h2>\n        <div className=\"flex items-center space-x-4\">\n          <div className=\"text-sm\">\n            <span className=\"text-gray-400\">SMTP:</span> <StatusIndicator status={status.smtp} />\n          </div>\n          <div className=\"text-sm\">\n            <span className=\"text-gray-400\">DB:</span> <StatusIndicator status={status.database} />\n          </div>\n          <div className=\"text-sm\">\n            <span className=\"text-gray-400\">Storage:</span> <StatusIndicator status={status.localStorage} />\n          </div>\n        </div>\n      </div>\n\n      <Tabs defaultValue=\"app\" className=\"space-y-6\">\n        <TabsList className=\"grid w-full grid-cols-5\">\n          <TabsTrigger value=\"app\">Name App</TabsTrigger>\n          <TabsTrigger value=\"mode\">Mode</TabsTrigger>\n          <TabsTrigger value=\"background\">Background</TabsTrigger>\n          <TabsTrigger value=\"footer\">Footer</TabsTrigger>\n          <TabsTrigger value=\"guide\">Guide</TabsTrigger>\n        </TabsList>\n\n        {/* App Settings */}\n        <TabsContent value=\"app\">\n          <Card className=\"bg-gray-800 border border-gray-700\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center\">\n                <Globe className=\"mr-2\" />\n                C√†i ƒë·∫∑t ·ª©ng d·ª•ng\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <Label>T√™n ·ª©ng d·ª•ng</Label>\n                  <Input\n                    value={appSettings.appName}\n                    onChange={(e) => setAppSettings({ ...appSettings, appName: e.target.value })}\n                    placeholder=\"[ƒêi·ªÅu ch·ªânh t√™n trong ·ª©ng d·ª•ng]\"\n                    className=\"mt-1\"\n                  />\n                </div>\n                <div>\n                  <Label>Phi√™n b·∫£n</Label>\n                  <Input\n                    value={appSettings.version}\n                    onChange={(e) => setAppSettings({ ...appSettings, version: e.target.value })}\n                    placeholder={appSettings.version}\n                    className=\"mt-1\"\n                  />\n                </div>\n                <div>\n                  <Label>Logo URL (Favicon)</Label>\n                  <Input\n                    value={appSettings.logoUrl}\n                    onChange={(e) => setAppSettings({ ...appSettings, logoUrl: e.target.value })}\n                    placeholder={appSettings.logoUrl}\n                    className=\"mt-1\"\n                  />\n                </div>\n                <div>\n                  <Label>Trang ch·ªß URL (Click logo)</Label>\n                  <Input\n                    value={appSettings.homeUrl}\n                    onChange={(e) => setAppSettings({ ...appSettings, homeUrl: e.target.value })}\n                    placeholder={appSettings.homeUrl}\n                    className=\"mt-1\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"border border-gray-600 rounded-lg p-4 bg-gray-700\">\n                <h4 className=\"text-sm font-semibold mb-2\">Xem tr∆∞·ªõc:</h4>\n                <div className=\"flex items-center space-x-4\">\n                  <img\n                    src={appSettings.logoUrl || \"/movies.webp\"}\n                    alt=\"App Logo\"\n                    className=\"h-8 w-8 rounded object-cover\"\n                    onError={(e) => {\n                      ; (e.target as HTMLImageElement).src = appSettings.logoUrl || \"/face.png\"\n                    }}\n                  />\n                  <div>\n                    <h3 className=\"font-semibold text-white\">{appSettings.appName}</h3>\n                    <p className=\"text-sm text-gray-400\">v{appSettings.version}</p>\n                  </div>\n                </div>\n              </div>\n\n              <Button\n                onClick={handleSaveAppSettings}\n                className=\"bg-green-500 hover:bg-green-600 text-white font-semibold rounded-full\"\n              >\n                <Save className=\"h-4 w-4 mr-2\" />\n                L∆∞u c√†i ƒë·∫∑t ·ª©ng d·ª•ng\n              </Button>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* SMTP Settings */}\n        {/* SMTP and Database tabs have been removed */}\n\n        {/* Background Settings */}\n        <TabsContent value=\"background\">\n          <Card className=\"bg-gray-800 border border-gray-700\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center\">\n                <Palette className=\"mr-2\" />\n                C√†i ƒë·∫∑t Background\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div>\n                <Label>Lo·∫°i Background</Label>\n                <Select\n                  value={backgroundSettings.type}\n                  onValueChange={(value) => setBackgroundSettings({ ...backgroundSettings, type: value })}\n                >\n                  <SelectTrigger className=\"mt-1\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"gradient\">Gradient</SelectItem>\n                    <SelectItem value=\"video\">Video YouTube</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {backgroundSettings.type === \"gradient\" && (\n                <div>\n                  <Label>CSS Gradient</Label>\n                  <Textarea\n                    value={backgroundSettings.gradient}\n                    onChange={(e) => setBackgroundSettings({ ...backgroundSettings, gradient: e.target.value })}\n                    placeholder=\"linear-gradient(135deg,rgba(102, 126, 234, 0.19) 0%,rgba(118, 75, 162, 0.2) 100%)\"\n                    className=\"mt-1\"\n                    rows={3}\n                  />\n                </div>\n              )}\n\n              {backgroundSettings.type === \"video\" && (\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Switch\n                      checked={backgroundSettings.randomVideo}\n                      onCheckedChange={(checked) =>\n                        setBackgroundSettings({ ...backgroundSettings, randomVideo: checked })\n                      }\n                    />\n                    <Label>Video ng·∫´u nhi√™n</Label>\n                  </div>\n\n                  {!backgroundSettings.randomVideo && (\n                    <div>\n                      <Label>YouTube URL</Label>\n                      <Input\n                        value={backgroundSettings.videoUrl}\n                        onChange={(e) => setBackgroundSettings({ ...backgroundSettings, videoUrl: e.target.value })}\n                        placeholder=\"https://www.youtube.com/watch?v=...\"\n                        className=\"mt-1\"\n                      />\n                    </div>\n                  )}\n\n                  <div>\n                    <Label>Danh s√°ch Video ID (m·ªói d√≤ng m·ªôt ID)</Label>\n                    <Textarea\n                      value={backgroundSettings.videoList.join(\"\\n\")}\n                      onChange={(e) =>\n                        setBackgroundSettings({\n                          ...backgroundSettings,\n                          videoList: e.target.value.split(\"\\n\").filter((id) => id.trim()),\n                        })\n                      }\n                      placeholder=\"dQw4w9WgXcQ&#10;kJQP7kiw5Fk&#10;...\"\n                      className=\"mt-1\"\n                      rows={6}\n                    />\n                  </div>\n                </div>\n              )}\n\n              <div>\n                <Label>ƒê·ªô m·ªù: {backgroundSettings.opacity}</Label>\n                <input\n                  type=\"range\"\n                  min=\"0.1\"\n                  max=\"1\"\n                  step=\"0.1\"\n                  value={backgroundSettings.opacity}\n                  onChange={(e) =>\n                    setBackgroundSettings({ ...backgroundSettings, opacity: Number.parseFloat(e.target.value) })\n                  }\n                  className=\"w-full mt-1\"\n                />\n              </div>\n\n              <Button\n                onClick={handleSaveBackgroundSettings}\n                className=\"bg-purple-500 hover:bg-purple-600 text-white font-semibold rounded-full\"\n              >\n                <Save className=\"h-4 w-4 mr-2\" />\n                L∆∞u c√†i ƒë·∫∑t Background\n              </Button>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Footer Settings */}\n        <TabsContent value=\"footer\">\n          <Card className=\"bg-gray-800 border border-gray-700\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center\">\n                <ImageIcon className=\"mr-2\" />\n                C√†i ƒë·∫∑t Footer\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <Label>Label records</Label>\n                  <Input\n                    value={footerSettings.companyName}\n                    onChange={(e) => setFooterSettings({ ...footerSettings, companyName: e.target.value })}\n                    placeholder={appSettings.appName}\n                    className=\"mt-1\"\n                  />\n                </div>\n                <div>\n                  <Label>Phi√™n b·∫£n</Label>\n                  <Input\n                    value={footerSettings.version}\n                    onChange={(e) => setFooterSettings({ ...footerSettings, version: e.target.value })}\n                    placeholder=\"1.2.0-beta\"\n                    className=\"mt-1\"\n                  />\n                </div>\n                <div>\n                  <Label>Logo URL</Label>\n                  <Input\n                    value={footerSettings.logoUrl}\n                    onChange={(e) => setFooterSettings({ ...footerSettings, logoUrl: e.target.value })}\n                    placeholder={appSettings.logoUrl}\n                    className=\"mt-1\"\n                  />\n                </div>\n                <div>\n                  <Label>Website URL</Label>\n                  <Input\n                    value={footerSettings.websiteUrl}\n                    onChange={(e) => setFooterSettings({ ...footerSettings, websiteUrl: e.target.value })}\n                    placeholder={appSettings.homeUrl}\n                    className=\"mt-1\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <Label>M√¥ t·∫£</Label>\n                <Input\n                  value={footerSettings.description}\n                  onChange={(e) => setFooterSettings({ ...footerSettings, description: e.target.value })}\n                  placeholder=\"Digital Music Distribution\"\n                  className=\"mt-1\"\n                />\n              </div>\n\n              <Button\n                onClick={handleSaveFooterSettings}\n                className=\"bg-green-500 hover:bg-green-600 text-white font-semibold rounded-full\"\n              >\n                <Save className=\"h-4 w-4 mr-2\" />\n                L∆∞u c√†i ƒë·∫∑t\n              </Button>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Guide */}\n        <TabsContent value=\"guide\">\n          <Card className=\"bg-gray-800 border border-gray-700\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center\">\n                <HelpCircle className=\"mr-2\" />\n                H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng {appSettings.appName}\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"prose prose-invert max-w-none\">\n                <h3>üöÄ H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t v√† s·ª≠ d·ª•ng {appSettings.appName}</h3>\n\n                <h4>1. ƒêƒÉng nh·∫≠p h·ªá th·ªëng</h4>\n                <ul>\n                  <li>\n                    <strong>Label Manager:</strong> admin / admin (to√†n quy·ªÅn)\n                  </li>\n                  <li>\n                    <strong>Ngh·ªá sƒ©:</strong> artist / 123456 (quy·ªÅn h·∫°n ch·∫ø)\n                  </li>\n                </ul>\n\n                <h4>2. C·∫•u h√¨nh h·ªá th·ªëng (Label Manager)</h4>\n                <ol>\n                  <li>\n                    <strong>C√†i ƒë·∫∑t SMTP:</strong> C·∫•u h√¨nh email ƒë·ªÉ g·ª≠i th√¥ng b√°o\n                  </li>\n                  <li>\n                    <strong>C√†i ƒë·∫∑t Database:</strong> K·∫øt n·ªëi database ƒë·ªÉ l∆∞u tr·ªØ d·ªØ li·ªáu\n                  </li>\n                  <li>\n                    <strong>C√†i ƒë·∫∑t ·ª©ng d·ª•ng:</strong> T√πy ch·ªânh t√™n, logo, trang ch·ªß\n                  </li>\n                  <li>\n                    <strong>C√†i ƒë·∫∑t Background:</strong> Ch·ªçn gradient ho·∫∑c video YouTube\n                  </li>\n                </ol>\n\n                <h4>3. Qu·∫£n l√Ω ng∆∞·ªùi d√πng</h4>\n                <p>Label Manager c√≥ th·ªÉ:</p>\n                <ul>\n                  <li>T·∫°o, s·ª≠a, x√≥a t√†i kho·∫£n ngh·ªá sƒ©</li>\n                  <li>Thay ƒë·ªïi th√¥ng tin c√° nh√¢n c·ªßa ngh·ªá sƒ©</li>\n                  <li>Qu·∫£n l√Ω quy·ªÅn h·∫°n v√† vai tr√≤</li>\n                </ul>\n\n                <h4>4. ƒêƒÉng t·∫£i nh·∫°c</h4>\n                <p>C·∫£ Label Manager v√† Ngh·ªá sƒ© ƒë·ªÅu c√≥ th·ªÉ:</p>\n                <ul>\n                  <li>Upload file nh·∫°c (WAV, 24bit+)</li>\n                  <li>Upload ·∫£nh b√¨a (JPG, 4000x4000px)</li>\n                  <li>ƒêi·ªÅn th√¥ng tin metadata</li>\n                  <li>Ch·ªçn ng√†y ph√°t h√†nh</li>\n                </ul>\n\n                <h4>5. Qu·∫£n l√Ω b√†i h√°t</h4>\n                <ul>\n                  <li>Xem danh s√°ch submissions</li>\n                  <li>C·∫≠p nh·∫≠t tr·∫°ng th√°i ph√°t h√†nh</li>\n                  <li>T·∫£i xu·ªëng file nh·∫°c v√† ·∫£nh</li>\n                  <li>Qu·∫£n l√Ω ISRC code</li>\n                </ul>\n\n                <h4>6. T√¨m ki·∫øm ISRC</h4>\n                <p>S·ª≠ d·ª•ng c√¥ng c·ª• t√≠ch h·ª£p ƒë·ªÉ:</p>\n                <ul>\n                  <li>Tra c·ª©u th√¥ng tin ISRC</li>\n                  <li>Ki·ªÉm tra b√†i h√°t tr√™n c√°c platform</li>\n                  <li>Tr√°nh tr√πng l·∫∑p khi ph√°t h√†nh</li>\n                  <li>Tr√°nh tr√πng l·∫∑p khi ph√°t h√†nh</li>\n                </ul>\n\n                {currentUser.role === \"Label Manager\" && (\n                  <div className=\"mt-8 p-4 bg-blue-900/30 border border-blue-500/50 rounded-lg\">\n                    <h4>üìã H∆∞·ªõng d·∫´n Setup cho Label Manager</h4>\n                    <p>ƒê·ªÉ chuy·ªÉn t·ª´ ch·∫ø ƒë·ªô Demo sang Production:</p>\n                    <ol>\n                      <li>C·∫•u h√¨nh SMTP v·ªõi th√¥ng tin email th·∫≠t</li>\n                      <li>K·∫øt n·ªëi database (MySQL/PostgreSQL)</li>\n                      <li>Ki·ªÉm tra localStorage ho·∫°t ƒë·ªông</li>\n                      <li>Khi c·∫£ 3 h·ªá th·ªëng k·∫øt n·ªëi, logo BETA s·∫Ω t·ª± ƒë·ªông ·∫©n</li>\n                    </ol>\n\n                    <h5>C·∫•u h√¨nh SMTP Gmail:</h5>\n                    <ul>\n                      <li>Server: smtp.gmail.com</li>\n                      <li>Port: 587</li>\n                      <li>T·∫°o App Password trong Google Account</li>\n                      <li>S·ª≠ d·ª•ng App Password thay v√¨ m·∫≠t kh·∫©u th∆∞·ªùng</li>\n                    </ul>\n\n                    <h5>T√πy ch·ªânh giao di·ªán:</h5>\n                    <ul>\n                      <li>Background: Gradient CSS ho·∫∑c YouTube video</li>\n                      <li>Logo: Upload v√† set l√†m favicon</li>\n                      <li>Footer: T√πy ch·ªânh th√¥ng tin c√¥ng ty</li>\n                      <li>Font: Dosis (m·∫∑c ƒë·ªãnh, kh√¥ng thay ƒë·ªïi)</li>\n                    </ul>\n                  </div>\n                )}\n\n                <div className=\"mt-6 p-4 bg-gray-700 rounded-lg\">\n                  <h5>üí° M·∫πo s·ª≠ d·ª•ng:</h5>\n                  <ul>\n                    <li>Click v√†o logo ƒë·ªÉ v·ªÅ trang ch·ªß</li>\n                    <li>S·ª≠ d·ª•ng t√≠nh nƒÉng t√¨m ki·∫øm ISRC tr∆∞·ªõc khi ph√°t h√†nh</li>\n                    <li>Backup d·ªØ li·ªáu th∆∞·ªùng xuy√™n</li>\n                    <li>Ki·ªÉm tra tr·∫°ng th√°i k·∫øt n·ªëi ·ªü g√≥c ph·∫£i m√†n h√¨nh</li>\n                  </ul>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Mode Settings */}\n        <TabsContent value=\"mode\">\n          <Card className=\"bg-gray-800 border border-gray-700\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center font-semibold\">\n                <Database className=\"mr-2\" />\n                Ch·∫ø ƒë·ªô ·ª©ng d·ª•ng\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-4\">\n                  <div>\n                    <Label className=\"text-lg font-semibold\">Ch·∫ø ƒë·ªô hi·ªán t·∫°i: {appMode === \"production\" ? \"Production\" : \"Demo\"}</Label>\n                    <div className=\"mt-2 p-4 bg-gray-700 rounded-lg\">\n                      <div className=\"flex items-center justify-between\">\n                        <span className=\"text-sm\">Demo Mode</span>\n                        <Switch\n                          checked={appMode === \"demo\"}\n                          onCheckedChange={(checked) => {\n                            if (checked && appMode !== \"demo\") {\n                              // Switch to demo\n                              localStorage.setItem(\"APP_MODE\", \"demo\")\n                              setAppMode(\"demo\")\n                              window.location.reload()\n                            }\n                          }}\n                        />\n                      </div>\n                      <p className=\"text-xs text-gray-400 mt-2\">\n                        S·ª≠ d·ª•ng d·ªØ li·ªáu demo, kh√¥ng k·∫øt n·ªëi database/SMTP th·ª±c\n                      </p>\n                    </div>\n                  </div>\n\n                  <div>\n                    <div className=\"mt-2 p-4 bg-gray-700 rounded-lg\">\n                      <div className=\"flex items-center justify-between\">\n                        <span className=\"text-sm\">Production Mode</span>\n                        <Switch\n                          checked={appMode === \"production\"}\n                          onCheckedChange={(checked) => {\n                            if (checked && appMode !== \"production\") {\n                              // Switch to production\n                              localStorage.setItem(\"APP_MODE\", \"production\")\n                              setAppMode(\"production\")\n                              window.location.reload()\n                            }\n                          }}\n                        />\n                      </div>\n                      <p className=\"text-xs text-gray-400 mt-2\">\n                        K·∫øt n·ªëi database v√† SMTP th·ª±c, test ch√≠nh th·ª©c\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"space-y-4\">\n                  <div>\n                    <Label className=\"text-lg font-semibold\">Th√¥ng tin ch·∫ø ƒë·ªô</Label>\n                    <div className=\"mt-2 p-4 bg-blue-900/20 border border-blue-600 rounded-lg\">\n                      <h4 className=\"font-semibold text-blue-400 mb-2\">üîß Production Mode</h4>\n                      <ul className=\"text-sm space-y-1 text-gray-300\">\n                        <li>‚úÖ K·∫øt n·ªëi PostgreSQL Database th·ª±c</li>\n                        <li>‚úÖ G·ª≠i email qua SMTP th·ª±c</li>\n                        <li>‚úÖ Authentication t·ª´ database</li>\n                        <li>‚úÖ L∆∞u d·ªØ li·ªáu v√†o database</li>\n                        <li>‚ö†Ô∏è C·∫ßn c·∫•u h√¨nh database v√† SMTP ƒë√∫ng</li>\n                      </ul>\n                    </div>\n\n                    <div className=\"mt-4 p-4 bg-yellow-900/20 border border-yellow-600 rounded-lg\">\n                      <h4 className=\"font-semibold text-yellow-400 mb-2\">üéÆ Demo Mode</h4>\n                      <ul className=\"text-sm space-y-1 text-gray-300\">\n                        <li>üéØ D·ªØ li·ªáu demo/mock</li>\n                        <li>üéØ Authentication gi·∫£ l·∫≠p</li>\n                        <li>üéØ Email ch·ªâ hi·ªÉn th·ªã, kh√¥ng g·ª≠i th·ª±c</li>\n                        <li>üéØ Ph√π h·ª£p ƒë·ªÉ demo/test UI</li>\n                        <li>üí° Kh√¥ng c·∫ßn c·∫•u h√¨nh g√¨</li>\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"border-t border-gray-600 pt-4\">\n                <div className=\"bg-orange-900/20 border border-orange-600 rounded-lg p-4\">\n                  <h4 className=\"font-semibold text-orange-400 mb-2\">‚ö° L∆∞u √Ω quan tr·ªçng</h4>\n                  <p className=\"text-sm text-gray-300\">\n                    Thay ƒë·ªïi ch·∫ø ƒë·ªô s·∫Ω reload l·∫°i ·ª©ng d·ª•ng. ƒê·∫£m b·∫£o b·∫°n ƒë√£ c·∫•u h√¨nh ƒë√∫ng\n                    Database URL v√† SMTP settings trong file .env.local tr∆∞·ªõc khi chuy·ªÉn sang Production Mode.\n                  </p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n\n      <div className=\"mt-8\">\n        <Card className=\"bg-gray-800 border border-gray-700\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center\">\n              <Settings className=\"mr-2\" />\n              C√†i ƒë·∫∑t h·ªá th·ªëng\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center\">\n                    <Database className=\"mr-2\" />\n                    Tr·∫°ng th√°i h·ªá th·ªëng\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-3\">\n                    <div className=\"flex justify-between items-center\">\n                      <span>N·ªÅn t·∫£ng</span>\n                      <div className=\"flex items-center space-x-2\">\n                        <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n                        <span className=\"text-sm text-green-600\">Online</span>\n                      </div>\n                    </div>\n                    <div className=\"flex justify-between items-center\">\n                      <span>Database</span>\n                      <div className=\"flex items-center space-x-2\">\n                        <div className=\"w-2 h-2 bg-yellow-500 rounded-full\"></div>\n                        <span className=\"text-sm text-yellow-600\">Demo Mode</span>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"flex items-center\">\n                    <Palette className=\"mr-2\" />\n                    Giao di·ªán\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <p className=\"text-gray-600\">C√†i ƒë·∫∑t giao di·ªán s·∫Ω c√≥ trong b·∫£n c·∫≠p nh·∫≠t sau...</p>\n                </CardContent>\n              </Card>\n\n              {currentUser.role === \"Label Manager\" && (\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center\">\n                      <Mail className=\"mr-2\" />\n                      C·∫•u h√¨nh Email\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <p className=\"text-gray-600\">C√†i ƒë·∫∑t SMTP c√≥ s·∫µn trong B·∫£ng ƒëi·ªÅu khi·ªÉn Qu·∫£n tr·ªã</p>\n                  </CardContent>\n                </Card>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;AAdA;;;;;;;;;;;;;;AAiBO,SAAS;;IACd,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,UAAO,AAAD;IACpC,MAAM,EAAE,MAAM,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,8IAAA,CAAA,kBAAe,AAAD;IAElD,iEAAiE;IAEjE,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QAC7C,SAAS;QACT,SAAS;QACT,SAAS;QACT,SAAS;IACX;IAEA,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,QAAQ,qBAAqB;;IAEpE,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QAC3D,MAAM;QACN,UAAU;QACV,UAAU;QACV,SAAS;QACT,aAAa;QACb,WAAW;YACT;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;IACH;IAEA,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QACnD,aAAa;QACb,SAAS;QACT,SAAS;QACT,YAAY;QACZ,aAAa;IACf;IAEA,oEAAoE;IAEpE,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,oBAAoB;YACpB;QACF;iCAAG,EAAE;IAEL,IAAI,CAAC,aAAa;QAChB,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAA2C;;;;;;kCACzD,6LAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;;;;;;IAIrC;IAEA,MAAM,eAAe;QACnB,kCAAkC;QAClC,MAAM,YAAY,aAAa,OAAO,CAAC;QACvC,IAAI,WAAW;YACb,WAAW;QACb;QAEA,+DAA+D;QAE/D,oBAAoB;QACpB,MAAM,WAAW,aAAa,OAAO,CAAC;QACtC,IAAI,UAAU;YACZ,eAAe,KAAK,KAAK,CAAC;QAC5B;QAEA,2BAA2B;QAC3B,MAAM,kBAAkB,aAAa,OAAO,CAAC;QAC7C,IAAI,iBAAiB;YACnB,sBAAsB,KAAK,KAAK,CAAC;QACnC;QAEA,uBAAuB;QACvB,MAAM,cAAc,aAAa,OAAO,CAAC;QACzC,IAAI,aAAa;YACf,kBAAkB,KAAK,KAAK,CAAC;QAC/B,OAAO;YACL,kFAAkF;YAClF,IAAI,UAAU;gBACZ,MAAM,YAAY,KAAK,KAAK,CAAC;gBAC7B,kBAAkB,CAAC,OAAS,CAAC;wBAC3B,GAAG,IAAI;wBACP,aAAa,UAAU,OAAO;wBAC9B,SAAS,UAAU,OAAO;wBAC1B,SAAS,UAAU,OAAO;wBAC1B,YAAY,UAAU,OAAO;oBAC/B,CAAC;YACH;QACF;IAEA,kEAAkE;IACpE;IAEA,8EAA8E;IAE9E,MAAM,wBAAwB;QAC5B,aAAa,OAAO,CAAC,kBAAkB,KAAK,SAAS,CAAC;QACtD,UAAU,kBAAkB;YAAC;SAA2B,EAAE;QAC1D,iBAAiB;QACjB,MAAM,UAAU,SAAS,aAAa,CAAC;QACvC,IAAI,SAAS;YACX,QAAQ,IAAI,GAAG,YAAY,OAAO;QACpC;QACA,eAAe;QACf,SAAS,KAAK,GAAG,AAAC,GAAsB,OAApB,YAAY,OAAO,EAAC;IAC1C;IAEA,MAAM,+BAA+B;QACnC,aAAa,OAAO,CAAC,yBAAyB,KAAK,SAAS,CAAC;QAC7D,OAAO,aAAa,CAAC,IAAI,YAAY,oBAAoB;YAAE,QAAQ;QAAmB;QACtF,UAAU,kBAAkB;YAAC;SAA6B,EAAE;IAC9D;IAEA,MAAM,2BAA2B;QAC/B,aAAa,OAAO,CAAC,qBAAqB,KAAK,SAAS,CAAC;QACzD,OAAO,aAAa,CAAC,IAAI,YAAY,gBAAgB;YAAE,QAAQ;QAAe;QAC9E,UAAU,kBAAkB;YAAC;SAAyB,EAAE;IAC1D;IAEA,iFAAiF;IAEjF,4FAA4F;IAC5F,MAAM,YAAY,SAAC,OAAe;YAAoB,wEAA4B;QAChF,MAAM,QAAQ,IAAI,YAAY,0BAA0B;YACtD,QAAQ;gBACN;gBACA,SAAS,SAAS,IAAI,CAAC;gBACvB;YACF;QACF;QACA,OAAO,aAAa,CAAC;IACvB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;;0CACZ,6LAAC,6MAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;4BAAyB;;;;;;;kCAG/C,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAK,WAAU;kDAAgB;;;;;;oCAAY;kDAAC,6LAAC,qIAAA,CAAA,kBAAe;wCAAC,QAAQ,OAAO,IAAI;;;;;;;;;;;;0CAEnF,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAK,WAAU;kDAAgB;;;;;;oCAAU;kDAAC,6LAAC,qIAAA,CAAA,kBAAe;wCAAC,QAAQ,OAAO,QAAQ;;;;;;;;;;;;0CAErF,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAK,WAAU;kDAAgB;;;;;;oCAAe;kDAAC,6LAAC,qIAAA,CAAA,kBAAe;wCAAC,QAAQ,OAAO,YAAY;;;;;;;;;;;;;;;;;;;;;;;;0BAKlG,6LAAC,4HAAA,CAAA,OAAI;gBAAC,cAAa;gBAAM,WAAU;;kCACjC,6LAAC,4HAAA,CAAA,WAAQ;wBAAC,WAAU;;0CAClB,6LAAC,4HAAA,CAAA,cAAW;gCAAC,OAAM;0CAAM;;;;;;0CACzB,6LAAC,4HAAA,CAAA,cAAW;gCAAC,OAAM;0CAAO;;;;;;0CAC1B,6LAAC,4HAAA,CAAA,cAAW;gCAAC,OAAM;0CAAa;;;;;;0CAChC,6LAAC,4HAAA,CAAA,cAAW;gCAAC,OAAM;0CAAS;;;;;;0CAC5B,6LAAC,4HAAA,CAAA,cAAW;gCAAC,OAAM;0CAAQ;;;;;;;;;;;;kCAI7B,6LAAC,4HAAA,CAAA,cAAW;wBAAC,OAAM;kCACjB,cAAA,6LAAC,4HAAA,CAAA,OAAI;4BAAC,WAAU;;8CACd,6LAAC,4HAAA,CAAA,aAAU;8CACT,cAAA,6LAAC,4HAAA,CAAA,YAAS;wCAAC,WAAU;;0DACnB,6LAAC,uMAAA,CAAA,QAAK;gDAAC,WAAU;;;;;;4CAAS;;;;;;;;;;;;8CAI9B,6LAAC,4HAAA,CAAA,cAAW;oCAAC,WAAU;;sDACrB,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;;sEACC,6LAAC,6HAAA,CAAA,QAAK;sEAAC;;;;;;sEACP,6LAAC,6HAAA,CAAA,QAAK;4DACJ,OAAO,YAAY,OAAO;4DAC1B,UAAU,CAAC,IAAM,eAAe;oEAAE,GAAG,WAAW;oEAAE,SAAS,EAAE,MAAM,CAAC,KAAK;gEAAC;4DAC1E,aAAY;4DACZ,WAAU;;;;;;;;;;;;8DAGd,6LAAC;;sEACC,6LAAC,6HAAA,CAAA,QAAK;sEAAC;;;;;;sEACP,6LAAC,6HAAA,CAAA,QAAK;4DACJ,OAAO,YAAY,OAAO;4DAC1B,UAAU,CAAC,IAAM,eAAe;oEAAE,GAAG,WAAW;oEAAE,SAAS,EAAE,MAAM,CAAC,KAAK;gEAAC;4DAC1E,aAAa,YAAY,OAAO;4DAChC,WAAU;;;;;;;;;;;;8DAGd,6LAAC;;sEACC,6LAAC,6HAAA,CAAA,QAAK;sEAAC;;;;;;sEACP,6LAAC,6HAAA,CAAA,QAAK;4DACJ,OAAO,YAAY,OAAO;4DAC1B,UAAU,CAAC,IAAM,eAAe;oEAAE,GAAG,WAAW;oEAAE,SAAS,EAAE,MAAM,CAAC,KAAK;gEAAC;4DAC1E,aAAa,YAAY,OAAO;4DAChC,WAAU;;;;;;;;;;;;8DAGd,6LAAC;;sEACC,6LAAC,6HAAA,CAAA,QAAK;sEAAC;;;;;;sEACP,6LAAC,6HAAA,CAAA,QAAK;4DACJ,OAAO,YAAY,OAAO;4DAC1B,UAAU,CAAC,IAAM,eAAe;oEAAE,GAAG,WAAW;oEAAE,SAAS,EAAE,MAAM,CAAC,KAAK;gEAAC;4DAC1E,aAAa,YAAY,OAAO;4DAChC,WAAU;;;;;;;;;;;;;;;;;;sDAKhB,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAG,WAAU;8DAA6B;;;;;;8DAC3C,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DACC,KAAK,YAAY,OAAO,IAAI;4DAC5B,KAAI;4DACJ,WAAU;4DACV,SAAS,CAAC;;gEACL,EAAE,MAAM,CAAsB,GAAG,GAAG,YAAY,OAAO,IAAI;4DAChE;;;;;;sEAEF,6LAAC;;8EACC,6LAAC;oEAAG,WAAU;8EAA4B,YAAY,OAAO;;;;;;8EAC7D,6LAAC;oEAAE,WAAU;;wEAAwB;wEAAE,YAAY,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;sDAKhE,6LAAC,8HAAA,CAAA,SAAM;4CACL,SAAS;4CACT,WAAU;;8DAEV,6LAAC,qMAAA,CAAA,OAAI;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;;;;;;;;;;;;;;;;;;kCAWzC,6LAAC,4HAAA,CAAA,cAAW;wBAAC,OAAM;kCACjB,cAAA,6LAAC,4HAAA,CAAA,OAAI;4BAAC,WAAU;;8CACd,6LAAC,4HAAA,CAAA,aAAU;8CACT,cAAA,6LAAC,4HAAA,CAAA,YAAS;wCAAC,WAAU;;0DACnB,6LAAC,2MAAA,CAAA,UAAO;gDAAC,WAAU;;;;;;4CAAS;;;;;;;;;;;;8CAIhC,6LAAC,4HAAA,CAAA,cAAW;oCAAC,WAAU;;sDACrB,6LAAC;;8DACC,6LAAC,6HAAA,CAAA,QAAK;8DAAC;;;;;;8DACP,6LAAC,8HAAA,CAAA,SAAM;oDACL,OAAO,mBAAmB,IAAI;oDAC9B,eAAe,CAAC,QAAU,sBAAsB;4DAAE,GAAG,kBAAkB;4DAAE,MAAM;wDAAM;;sEAErF,6LAAC,8HAAA,CAAA,gBAAa;4DAAC,WAAU;sEACvB,cAAA,6LAAC,8HAAA,CAAA,cAAW;;;;;;;;;;sEAEd,6LAAC,8HAAA,CAAA,gBAAa;;8EACZ,6LAAC,8HAAA,CAAA,aAAU;oEAAC,OAAM;8EAAW;;;;;;8EAC7B,6LAAC,8HAAA,CAAA,aAAU;oEAAC,OAAM;8EAAQ;;;;;;;;;;;;;;;;;;;;;;;;wCAK/B,mBAAmB,IAAI,KAAK,4BAC3B,6LAAC;;8DACC,6LAAC,6HAAA,CAAA,QAAK;8DAAC;;;;;;8DACP,6LAAC,gIAAA,CAAA,WAAQ;oDACP,OAAO,mBAAmB,QAAQ;oDAClC,UAAU,CAAC,IAAM,sBAAsB;4DAAE,GAAG,kBAAkB;4DAAE,UAAU,EAAE,MAAM,CAAC,KAAK;wDAAC;oDACzF,aAAY;oDACZ,WAAU;oDACV,MAAM;;;;;;;;;;;;wCAKX,mBAAmB,IAAI,KAAK,yBAC3B,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAI,WAAU;;sEACb,6LAAC,8HAAA,CAAA,SAAM;4DACL,SAAS,mBAAmB,WAAW;4DACvC,iBAAiB,CAAC,UAChB,sBAAsB;oEAAE,GAAG,kBAAkB;oEAAE,aAAa;gEAAQ;;;;;;sEAGxE,6LAAC,6HAAA,CAAA,QAAK;sEAAC;;;;;;;;;;;;gDAGR,CAAC,mBAAmB,WAAW,kBAC9B,6LAAC;;sEACC,6LAAC,6HAAA,CAAA,QAAK;sEAAC;;;;;;sEACP,6LAAC,6HAAA,CAAA,QAAK;4DACJ,OAAO,mBAAmB,QAAQ;4DAClC,UAAU,CAAC,IAAM,sBAAsB;oEAAE,GAAG,kBAAkB;oEAAE,UAAU,EAAE,MAAM,CAAC,KAAK;gEAAC;4DACzF,aAAY;4DACZ,WAAU;;;;;;;;;;;;8DAKhB,6LAAC;;sEACC,6LAAC,6HAAA,CAAA,QAAK;sEAAC;;;;;;sEACP,6LAAC,gIAAA,CAAA,WAAQ;4DACP,OAAO,mBAAmB,SAAS,CAAC,IAAI,CAAC;4DACzC,UAAU,CAAC,IACT,sBAAsB;oEACpB,GAAG,kBAAkB;oEACrB,WAAW,EAAE,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,MAAM,CAAC,CAAC,KAAO,GAAG,IAAI;gEAC9D;4DAEF,aAAY;4DACZ,WAAU;4DACV,MAAM;;;;;;;;;;;;;;;;;;sDAMd,6LAAC;;8DACC,6LAAC,6HAAA,CAAA,QAAK;;wDAAC;wDAAQ,mBAAmB,OAAO;;;;;;;8DACzC,6LAAC;oDACC,MAAK;oDACL,KAAI;oDACJ,KAAI;oDACJ,MAAK;oDACL,OAAO,mBAAmB,OAAO;oDACjC,UAAU,CAAC,IACT,sBAAsB;4DAAE,GAAG,kBAAkB;4DAAE,SAAS,OAAO,UAAU,CAAC,EAAE,MAAM,CAAC,KAAK;wDAAE;oDAE5F,WAAU;;;;;;;;;;;;sDAId,6LAAC,8HAAA,CAAA,SAAM;4CACL,SAAS;4CACT,WAAU;;8DAEV,6LAAC,qMAAA,CAAA,OAAI;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;;;;;;;;;;;;;;;;;;kCAQzC,6LAAC,4HAAA,CAAA,cAAW;wBAAC,OAAM;kCACjB,cAAA,6LAAC,4HAAA,CAAA,OAAI;4BAAC,WAAU;;8CACd,6LAAC,4HAAA,CAAA,aAAU;8CACT,cAAA,6LAAC,4HAAA,CAAA,YAAS;wCAAC,WAAU;;0DACnB,6LAAC,2MAAA,CAAA,YAAS;gDAAC,WAAU;;;;;;4CAAS;;;;;;;;;;;;8CAIlC,6LAAC,4HAAA,CAAA,cAAW;oCAAC,WAAU;;sDACrB,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;;sEACC,6LAAC,6HAAA,CAAA,QAAK;sEAAC;;;;;;sEACP,6LAAC,6HAAA,CAAA,QAAK;4DACJ,OAAO,eAAe,WAAW;4DACjC,UAAU,CAAC,IAAM,kBAAkB;oEAAE,GAAG,cAAc;oEAAE,aAAa,EAAE,MAAM,CAAC,KAAK;gEAAC;4DACpF,aAAa,YAAY,OAAO;4DAChC,WAAU;;;;;;;;;;;;8DAGd,6LAAC;;sEACC,6LAAC,6HAAA,CAAA,QAAK;sEAAC;;;;;;sEACP,6LAAC,6HAAA,CAAA,QAAK;4DACJ,OAAO,eAAe,OAAO;4DAC7B,UAAU,CAAC,IAAM,kBAAkB;oEAAE,GAAG,cAAc;oEAAE,SAAS,EAAE,MAAM,CAAC,KAAK;gEAAC;4DAChF,aAAY;4DACZ,WAAU;;;;;;;;;;;;8DAGd,6LAAC;;sEACC,6LAAC,6HAAA,CAAA,QAAK;sEAAC;;;;;;sEACP,6LAAC,6HAAA,CAAA,QAAK;4DACJ,OAAO,eAAe,OAAO;4DAC7B,UAAU,CAAC,IAAM,kBAAkB;oEAAE,GAAG,cAAc;oEAAE,SAAS,EAAE,MAAM,CAAC,KAAK;gEAAC;4DAChF,aAAa,YAAY,OAAO;4DAChC,WAAU;;;;;;;;;;;;8DAGd,6LAAC;;sEACC,6LAAC,6HAAA,CAAA,QAAK;sEAAC;;;;;;sEACP,6LAAC,6HAAA,CAAA,QAAK;4DACJ,OAAO,eAAe,UAAU;4DAChC,UAAU,CAAC,IAAM,kBAAkB;oEAAE,GAAG,cAAc;oEAAE,YAAY,EAAE,MAAM,CAAC,KAAK;gEAAC;4DACnF,aAAa,YAAY,OAAO;4DAChC,WAAU;;;;;;;;;;;;;;;;;;sDAKhB,6LAAC;;8DACC,6LAAC,6HAAA,CAAA,QAAK;8DAAC;;;;;;8DACP,6LAAC,6HAAA,CAAA,QAAK;oDACJ,OAAO,eAAe,WAAW;oDACjC,UAAU,CAAC,IAAM,kBAAkB;4DAAE,GAAG,cAAc;4DAAE,aAAa,EAAE,MAAM,CAAC,KAAK;wDAAC;oDACpF,aAAY;oDACZ,WAAU;;;;;;;;;;;;sDAId,6LAAC,8HAAA,CAAA,SAAM;4CACL,SAAS;4CACT,WAAU;;8DAEV,6LAAC,qMAAA,CAAA,OAAI;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;;;;;;;;;;;;;;;;;;kCAQzC,6LAAC,4HAAA,CAAA,cAAW;wBAAC,OAAM;kCACjB,cAAA,6LAAC,4HAAA,CAAA,OAAI;4BAAC,WAAU;;8CACd,6LAAC,4HAAA,CAAA,aAAU;8CACT,cAAA,6LAAC,4HAAA,CAAA,YAAS;wCAAC,WAAU;;0DACnB,6LAAC,qNAAA,CAAA,aAAU;gDAAC,WAAU;;;;;;4CAAS;4CACZ,YAAY,OAAO;;;;;;;;;;;;8CAG1C,6LAAC,4HAAA,CAAA,cAAW;oCAAC,WAAU;8CACrB,cAAA,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;;oDAAG;oDAAiC,YAAY,OAAO;;;;;;;0DAExD,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;;kEACC,6LAAC;;0EACC,6LAAC;0EAAO;;;;;;4DAAuB;;;;;;;kEAEjC,6LAAC;;0EACC,6LAAC;0EAAO;;;;;;4DAAiB;;;;;;;;;;;;;0DAI7B,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;;kEACC,6LAAC;;0EACC,6LAAC;0EAAO;;;;;;4DAAsB;;;;;;;kEAEhC,6LAAC;;0EACC,6LAAC;0EAAO;;;;;;4DAA0B;;;;;;;kEAEpC,6LAAC;;0EACC,6LAAC;0EAAO;;;;;;4DAA0B;;;;;;;kEAEpC,6LAAC;;0EACC,6LAAC;0EAAO;;;;;;4DAA4B;;;;;;;;;;;;;0DAIxC,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;0DAAE;;;;;;0DACH,6LAAC;;kEACC,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;kEAAG;;;;;;;;;;;;0DAGN,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;0DAAE;;;;;;0DACH,6LAAC;;kEACC,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;kEAAG;;;;;;;;;;;;0DAGN,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;;kEACC,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;kEAAG;;;;;;;;;;;;0DAGN,6LAAC;0DAAG;;;;;;0DACJ,6LAAC;0DAAE;;;;;;0DACH,6LAAC;;kEACC,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;kEAAG;;;;;;;;;;;;4CAGL,YAAY,IAAI,KAAK,iCACpB,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;kEAAE;;;;;;kEACH,6LAAC;;0EACC,6LAAC;0EAAG;;;;;;0EACJ,6LAAC;0EAAG;;;;;;0EACJ,6LAAC;0EAAG;;;;;;0EACJ,6LAAC;0EAAG;;;;;;;;;;;;kEAGN,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;;0EACC,6LAAC;0EAAG;;;;;;0EACJ,6LAAC;0EAAG;;;;;;0EACJ,6LAAC;0EAAG;;;;;;0EACJ,6LAAC;0EAAG;;;;;;;;;;;;kEAGN,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;;0EACC,6LAAC;0EAAG;;;;;;0EACJ,6LAAC;0EAAG;;;;;;0EACJ,6LAAC;0EAAG;;;;;;0EACJ,6LAAC;0EAAG;;;;;;;;;;;;;;;;;;0DAKV,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;;0EACC,6LAAC;0EAAG;;;;;;0EACJ,6LAAC;0EAAG;;;;;;0EACJ,6LAAC;0EAAG;;;;;;0EACJ,6LAAC;0EAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAShB,6LAAC,4HAAA,CAAA,cAAW;wBAAC,OAAM;kCACjB,cAAA,6LAAC,4HAAA,CAAA,OAAI;4BAAC,WAAU;;8CACd,6LAAC,4HAAA,CAAA,aAAU;8CACT,cAAA,6LAAC,4HAAA,CAAA,YAAS;wCAAC,WAAU;;0DACnB,6LAAC,6MAAA,CAAA,WAAQ;gDAAC,WAAU;;;;;;4CAAS;;;;;;;;;;;;8CAIjC,6LAAC,4HAAA,CAAA,cAAW;oCAAC,WAAU;;sDACrB,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;;8EACC,6LAAC,6HAAA,CAAA,QAAK;oEAAC,WAAU;;wEAAwB;wEAAkB,YAAY,eAAe,eAAe;;;;;;;8EACrG,6LAAC;oEAAI,WAAU;;sFACb,6LAAC;4EAAI,WAAU;;8FACb,6LAAC;oFAAK,WAAU;8FAAU;;;;;;8FAC1B,6LAAC,8HAAA,CAAA,SAAM;oFACL,SAAS,YAAY;oFACrB,iBAAiB,CAAC;wFAChB,IAAI,WAAW,YAAY,QAAQ;4FACjC,iBAAiB;4FACjB,aAAa,OAAO,CAAC,YAAY;4FACjC,WAAW;4FACX,OAAO,QAAQ,CAAC,MAAM;wFACxB;oFACF;;;;;;;;;;;;sFAGJ,6LAAC;4EAAE,WAAU;sFAA6B;;;;;;;;;;;;;;;;;;sEAM9C,6LAAC;sEACC,cAAA,6LAAC;gEAAI,WAAU;;kFACb,6LAAC;wEAAI,WAAU;;0FACb,6LAAC;gFAAK,WAAU;0FAAU;;;;;;0FAC1B,6LAAC,8HAAA,CAAA,SAAM;gFACL,SAAS,YAAY;gFACrB,iBAAiB,CAAC;oFAChB,IAAI,WAAW,YAAY,cAAc;wFACvC,uBAAuB;wFACvB,aAAa,OAAO,CAAC,YAAY;wFACjC,WAAW;wFACX,OAAO,QAAQ,CAAC,MAAM;oFACxB;gFACF;;;;;;;;;;;;kFAGJ,6LAAC;wEAAE,WAAU;kFAA6B;;;;;;;;;;;;;;;;;;;;;;;8DAOhD,6LAAC;oDAAI,WAAU;8DACb,cAAA,6LAAC;;0EACC,6LAAC,6HAAA,CAAA,QAAK;gEAAC,WAAU;0EAAwB;;;;;;0EACzC,6LAAC;gEAAI,WAAU;;kFACb,6LAAC;wEAAG,WAAU;kFAAmC;;;;;;kFACjD,6LAAC;wEAAG,WAAU;;0FACZ,6LAAC;0FAAG;;;;;;0FACJ,6LAAC;0FAAG;;;;;;0FACJ,6LAAC;0FAAG;;;;;;0FACJ,6LAAC;0FAAG;;;;;;0FACJ,6LAAC;0FAAG;;;;;;;;;;;;;;;;;;0EAIR,6LAAC;gEAAI,WAAU;;kFACb,6LAAC;wEAAG,WAAU;kFAAqC;;;;;;kFACnD,6LAAC;wEAAG,WAAU;;0FACZ,6LAAC;0FAAG;;;;;;0FACJ,6LAAC;0FAAG;;;;;;0FACJ,6LAAC;0FAAG;;;;;;0FACJ,6LAAC;0FAAG;;;;;;0FACJ,6LAAC;0FAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sDAOd,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAG,WAAU;kEAAqC;;;;;;kEACnD,6LAAC;wDAAE,WAAU;kEAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAWjD,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,4HAAA,CAAA,OAAI;oBAAC,WAAU;;sCACd,6LAAC,4HAAA,CAAA,aAAU;sCACT,cAAA,6LAAC,4HAAA,CAAA,YAAS;gCAAC,WAAU;;kDACnB,6LAAC,6MAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;oCAAS;;;;;;;;;;;;sCAIjC,6LAAC,4HAAA,CAAA,cAAW;sCACV,cAAA,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,4HAAA,CAAA,OAAI;;0DACH,6LAAC,4HAAA,CAAA,aAAU;0DACT,cAAA,6LAAC,4HAAA,CAAA,YAAS;oDAAC,WAAU;;sEACnB,6LAAC,6MAAA,CAAA,WAAQ;4DAAC,WAAU;;;;;;wDAAS;;;;;;;;;;;;0DAIjC,6LAAC,4HAAA,CAAA,cAAW;0DACV,cAAA,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;8EAAK;;;;;;8EACN,6LAAC;oEAAI,WAAU;;sFACb,6LAAC;4EAAI,WAAU;;;;;;sFACf,6LAAC;4EAAK,WAAU;sFAAyB;;;;;;;;;;;;;;;;;;sEAG7C,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;8EAAK;;;;;;8EACN,6LAAC;oEAAI,WAAU;;sFACb,6LAAC;4EAAI,WAAU;;;;;;sFACf,6LAAC;4EAAK,WAAU;sFAA0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kDAOpD,6LAAC,4HAAA,CAAA,OAAI;;0DACH,6LAAC,4HAAA,CAAA,aAAU;0DACT,cAAA,6LAAC,4HAAA,CAAA,YAAS;oDAAC,WAAU;;sEACnB,6LAAC,2MAAA,CAAA,UAAO;4DAAC,WAAU;;;;;;wDAAS;;;;;;;;;;;;0DAIhC,6LAAC,4HAAA,CAAA,cAAW;0DACV,cAAA,6LAAC;oDAAE,WAAU;8DAAgB;;;;;;;;;;;;;;;;;oCAIhC,YAAY,IAAI,KAAK,iCACpB,6LAAC,4HAAA,CAAA,OAAI;;0DACH,6LAAC,4HAAA,CAAA,aAAU;0DACT,cAAA,6LAAC,4HAAA,CAAA,YAAS;oDAAC,WAAU;;sEACnB,6LAAC,qMAAA,CAAA,OAAI;4DAAC,WAAU;;;;;;wDAAS;;;;;;;;;;;;0DAI7B,6LAAC,4HAAA,CAAA,cAAW;0DACV,cAAA,6LAAC;oDAAE,WAAU;8DAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUjD;GA1sBgB;;QACgB,kIAAA,CAAA,UAAO;QACD,8IAAA,CAAA,kBAAe;;;KAFrC","debugId":null}},
    {"offset": {"line": 8487, "column": 0}, "map": {"version":3,"sources":["file:///F:/studio.ankun/components/views/users-view.tsx"],"sourcesContent":["\"use client\"\n\n// T√¥i l√† An Kun\nimport { useState, useEffect } from \"react\"\nimport type { User } from \"@/types/user\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Users, UserPlus, Shield } from \"lucide-react\"\n\nexport function UsersView() {\n  const [usersList, setUsersList] = useState<User[]>([])\n  const [loading, setLoading] = useState(true)\n  const [artistCount, setArtistCount] = useState(0)\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        setLoading(true)\n        \n        // Fetch artists from API\n        const response = await fetch('/api/artists')\n        const data = await response.json()\n        \n        if (data.success && data.artists) {\n          setUsersList(data.artists)\n          setArtistCount(data.count ?? data.artists.length)\n        } else {\n          console.error('Failed to fetch users:', data.error)\n        }\n      } catch (error) {\n        console.error('Error fetching users:', error)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchUsers()\n  }, [])\n\n  return (\n    <div className=\"p-2 md:p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-3xl font-bold text-gray-900 flex items-center\">\n          <Users className=\"mr-3 text-purple-400\" />\n          Qu·∫£n L√Ω Ng∆∞·ªùi D√πng\n        </h2>\n        <Button className=\"bg-purple-600 hover:bg-purple-700\">\n          <UserPlus className=\"h-4 w-4 mr-2\" />\n          Th√™m Ng∆∞·ªùi D√πng\n        </Button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">T·ªïng Ng∆∞·ªùi D√πng</CardTitle>\n            <Users className=\"h-4 w-4 text-purple-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{loading ? \"...\" : usersList.length}</div>\n            <p className=\"text-xs text-gray-500\">Ng∆∞·ªùi d√πng ho·∫°t ƒë·ªông</p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Qu·∫£n L√Ω Nh√£n Hi·ªáu</CardTitle>\n            <Shield className=\"h-4 w-4 text-blue-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">\n              {usersList.filter((u) => u.role === \"Label Manager\").length}\n            </div>\n            <p className=\"text-xs text-gray-500\">Ng∆∞·ªùi d√πng qu·∫£n tr·ªã</p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Ngh·ªá Sƒ©</CardTitle>\n            <Users className=\"h-4 w-4 text-green-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">\n              {usersList.filter((u) => u.role === \"Artist\").length}\n            </div>\n            <p className=\"text-xs text-gray-500\">T√†i kho·∫£n ngh·ªá sƒ©</p>\n          </CardContent>\n        </Card>\n      </div>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Danh S√°ch Ng∆∞·ªùi D√πng</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            {usersList.map((user) => (\n              <div key={user.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                <div>\n                  <h3 className=\"font-semibold\">{user.fullName}</h3>\n                  <p className=\"text-sm text-gray-600\">@{user.username} ‚Ä¢ {user.email}</p>\n                  <p className=\"text-xs text-gray-500\">{user.role}</p>\n                </div>\n                <div className=\"flex space-x-2\">\n                  <Button variant=\"outline\" size=\"sm\">Ch·ªânh S·ª≠a</Button>\n                  <Button variant=\"destructive\" size=\"sm\">X√≥a</Button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n// T√¥i l√† An Kun\n// ƒê√¢y l√† n∆°i qu·∫£n l√Ω ng∆∞·ªùi d√πng\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 8887, "column": 0}, "map": {"version":3,"sources":["file:///F:/studio.ankun/components/views/admin-panel-view.tsx"],"sourcesContent":["// T√¥i l√† An Kun\n// H·ªó tr·ª£ d·ª± √°n, Copilot, Gemini\n// T√°c gi·∫£ ki√™m xu·∫•t b·∫£n b·ªüi An Kun Studio Digital Music\n\n\"use client\"\n\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Shield, Database, Users, Settings, Plus, Edit, Trash2, RefreshCw } from \"lucide-react\"\nimport { DebugTools } from \"@/components/debug-tools\"\nimport { useAuth } from \"@/components/auth-provider\"\nimport { useState, useEffect } from \"react\"\nimport type { User } from \"@/types/user\"\nimport type { Submission } from \"@/types/submission\"\nimport { logger } from \"@/lib/logger\"\n\ninterface AdminPanelViewProps {\n  readonly showModal: (title: string, message: string, type?: \"success\" | \"error\") => void\n}\n\ninterface SystemStats {\n  database: { connected: boolean; type: string }\n  users: { totalArtists: number; totalManagers: number; activeUsers: number }\n  content: { totalSubmissions: number; pendingSubmissions: number; approvedSubmissions: number }\n  system: { uptime: number; memory: any; version: string; environment: string }\n}\n\nexport function AdminPanelView({ showModal }: AdminPanelViewProps) {\n  const { user: currentUser } = useAuth();\n  const [stats, setStats] = useState<SystemStats | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [activeTab, setActiveTab] = useState<'overview' | 'users' | 'submissions'>('overview')\n  const [users, setUsers] = useState<User[]>([])\n  const [submissions, setSubmissions] = useState<Submission[]>([])\n  const [usersLoading, setUsersLoading] = useState(false)\n  const [submissionsLoading, setSubmissionsLoading] = useState(false)\n\n  useEffect(() => {\n    const fetchStats = async () => {\n      try {\n        const response = await fetch('/api/admin/stats')\n        const data = await response.json()\n\n        if (data.success) {\n          setStats(data.data)\n        } else {\n          console.error('Failed to fetch admin stats:', data.error)\n        }\n      } catch (error) {\n        console.error('Error fetching admin stats:', error)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    if (currentUser?.role === \"Label Manager\") {\n      fetchStats()\n    }\n  }, [currentUser])\n\n  if (!currentUser) {\n    return (\n      <div className=\"p-6 min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-xl font-semibold text-gray-700 mb-2\">ƒêang t·∫£i th√¥ng tin</h2>\n          <p className=\"text-gray-500\">Vui l√≤ng ch·ªù trong gi√¢y l√°t...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (currentUser.role !== \"Label Manager\") {\n    logger.warn('AdminPanelView: Access denied for non-label manager', {\n      component: 'AdminPanelView',\n      userId: currentUser.id,\n      role: currentUser.role\n    })\n\n    return (\n      <div className=\"p-6\">\n        <Card>\n          <CardContent className=\"text-center py-12\">\n            <Shield className=\"h-16 w-16 text-red-400 mx-auto mb-4\" />\n            <h3 className=\"text-xl font-semibold text-red-600 mb-2\">Access Denied</h3>\n            <p className=\"text-gray-500\">Only Label Managers can access the Admin Panel</p>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n\n  logger.info('AdminPanelView: Component rendered', {\n    component: 'AdminPanelView',\n    userId: currentUser.id\n  })\n\n  return (\n    <div className=\"p-6\">\n      <h2 className=\"text-3xl font-bold text-gray-900 mb-6 flex items-center\">\n        <Shield className=\"mr-3 text-purple-400\" />\n        Admin Panel\n      </h2>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center\">\n              <Database className=\"mr-2\" />\n              Database\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-center py-4\">\n              <div className={`w-2 h-2 rounded-full mx-auto mb-2 ${loading ? 'bg-gray-400' :\n                stats?.database.connected ? 'bg-green-500' : 'bg-red-500'\n                }`}></div>\n              <p className={`text-sm ${loading ? 'text-gray-600' :\n                stats?.database.connected ? 'text-green-600' : 'text-red-600'\n                }`}>\n                {loading ? 'Checking...' :\n                  stats?.database.connected ? `Connected (${stats.database.type})` : 'Disconnected'}\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center\">\n              <Users className=\"mr-2\" />\n              Users\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-center py-4\">\n              <div className=\"text-2xl font-bold\">\n                {loading ? '...' : stats?.users.totalArtists ?? 0}\n              </div>\n              <p className=\"text-sm text-gray-600\">Active Artists</p>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center\">\n              <Settings className=\"mr-2\" />\n              System\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-center py-4\">\n              <div className=\"text-lg font-bold\">\n                {loading ? '...' : stats?.system.version ?? 'Unknown'}\n              </div>\n              <p className=\"text-sm text-gray-600\">\n                {loading ? 'Loading...' : stats?.system.environment ?? 'Unknown'}\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"mb-8\">\n        <DebugTools />\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 9290, "column": 0}, "map": {"version":3,"sources":["file:///F:/studio.ankun/components/views/email-center-view.tsx"],"sourcesContent":["\"use client\"\n\nimport React, { useState, useEffect } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Mail, Send, Inbox, CheckCircle, RotateCw, FileText, Plus, Edit, Trash2, Copy, TestTube, Settings, Download } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Tabs, TabsList, TabsTrigger, TabsContent } from \"@/components/ui/tabs\";\nimport { Label } from \"@/components/ui/label\";\nimport { Input } from \"@/components/ui/input\";\nimport { Select, SelectTrigger, SelectValue, SelectContent, SelectItem } from \"@/components/ui/select\";\nimport { RichTextEditor } from \"@/components/rich-text-editor\";\n\n// Define types if not imported from elsewhere\ntype EmailTemplate = {\n  id: string;\n  name: string;\n  subject: string;\n  content: string;\n  htmlContent: string;\n  type: \"html\" | \"text\";\n  variables: string[];\n};\n\ntype EmailMessage = {\n  id: string;\n  from: string;\n  to: string;\n  subject: string;\n  content: string;\n  date: string;\n  read: boolean;\n  type: \"sent\" | \"received\";\n};\n\ntype EmailDetails = {\n  from: string;\n  to: string;\n  cc?: string;\n  bcc?: string;\n  subject: string;\n  textBody: string;\n  htmlBody?: string;\n};\n\ntype SmtpSettings = {\n  smtpServer: string;\n  smtpPort: string;\n  smtpUsername: string;\n  smtpPassword?: string;\n  connected: boolean;\n};\n\n// Dummy sendEmail function for demonstration; replace with actual implementation\nasync function sendEmail(_details: EmailDetails): Promise<{ success: boolean; message: string }> {\n  // Simulate sending email\n  return new Promise((resolve) => setTimeout(() => resolve({ success: true, message: \"Email sent successfully.\" }), 1000));\n}\n\ninterface EmailCenterViewProps {\n  showModal: (title: string, messages: string[], type?: \"error\" | \"success\") => void;\n}\n\nexport function EmailCenterView({ showModal }: EmailCenterViewProps) {\n  const [templates, setTemplates] = useState<EmailTemplate[]>([])\n  const [selectedTemplate, setSelectedTemplate] = useState<EmailTemplate | null>(null)\n  const [isEditing, setIsEditing] = useState(false)\n  const [emailMessages, setEmailMessages] = useState<EmailMessage[]>([])\n  const [syncStatus, setSyncStatus] = useState(\"Connected\")\n  const [lastSync, setLastSync] = useState(new Date().toLocaleString(\"vi-VN\"))\n  const [emailForm, setEmailForm] = useState({\n    from: \"\",\n    to: \"\",\n    cc: \"\",\n    bcc: \"\",\n    subject: \"\",\n    content: \"\",\n    htmlContent: \"\",\n    type: \"text\" as \"html\" | \"text\",\n  })\n\n  // Key for SMTP settings in localStorage, consistent with lib/email.ts and SettingsView.tsx\n  const SMTP_LOCALSTORAGE_KEY = \"emailSettings_v2\";\n\n  const [smtpSettings, setSmtpSettings] = useState<SmtpSettings>({\n    smtpServer: \"\", // Initialize with empty or default values\n    smtpPort: \"587\",\n    smtpUsername: \"\",\n    smtpPassword: \"\", // Password should ideally not be stored directly or be optional in display\n    connected: false, // Assume not connected until verified or loaded from storage\n  });\n\n  useEffect(() => {\n    loadTemplates()\n    loadEmailMessages()\n\n    // Load SMTP settings from localStorage\n    const savedSmtpSettings = localStorage.getItem(SMTP_LOCALSTORAGE_KEY);\n    if (savedSmtpSettings) {\n      try {\n        setSmtpSettings(JSON.parse(savedSmtpSettings) as SmtpSettings);\n      } catch (error) {\n        console.error(\"EmailCenterView: Failed to parse SMTP settings from localStorage\", error);\n      }\n    }\n\n    // Auto-sync emails every 30 seconds\n    const interval = setInterval(syncEmails, 30000)\n    return () => clearInterval(interval)\n  }, [])\n\n  const loadTemplates = () => {\n    const saved = localStorage.getItem(\"emailTemplates_v2\")\n    if (saved) {\n      setTemplates(JSON.parse(saved))\n    } else {\n      // Default templates\n      const defaultTemplates: EmailTemplate[] = [\n        {\n          id: \"status_update\",\n          name: \"C·∫≠p nh·∫≠t tr·∫°ng th√°i\",\n          subject: \"C·∫≠p nh·∫≠t tr·∫°ng th√°i b√†i h√°t [tenbaihat]\",\n          content: `Ch√†o [tennghesi],\n\nB√†i h√°t \"[tenbaihat]\" (ID: [id]) c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t.\nTr·∫°ng th√°i hi·ªán t·∫°i: [trangthai]\n\nNg√†y g·ª≠i: [ngaygui]\nNg√†y ph√°t h√†nh d·ª± ki·∫øn: [ngayphathanh]\n\nCh√∫ng t√¥i s·∫Ω th√¥ng b√°o khi c√≥ c·∫≠p nh·∫≠t m·ªõi.\n\nTr√¢n tr·ªçng,\n[tenmanager]\n[email]`,\n          htmlContent: \"\",\n          type: \"text\",\n          variables: [\"tennghesi\", \"tenbaihat\", \"id\", \"trangthai\", \"ngaygui\", \"ngayphathanh\", \"tenmanager\", \"email\"],\n        },\n        {\n          id: \"welcome\",\n          name: \"Ch√†o m·ª´ng ngh·ªá sƒ© m·ªõi\",\n          subject: \"Ch√†o m·ª´ng [tennghesi] ƒë·∫øn v·ªõi [tenlabel]!\",\n          content: `<h2>Ch√†o m·ª´ng [tennghesi]!</h2>\n<p>C·∫£m ∆°n b·∫°n ƒë√£ tham gia c·ªông ƒë·ªìng <strong>[tenlabel]</strong>.</p>\n<p>T√†i kho·∫£n c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c k√≠ch ho·∫°t th√†nh c√¥ng:</p>\n<ul>\n<li>Username: [username]</li>\n<li>Email: [email]</li>\n<li>Vai tr√≤: [vaitro]</li>\n</ul>\n<p>B·∫°n c√≥ th·ªÉ b·∫Øt ƒë·∫ßu t·∫£i nh·∫°c l√™n ngay b√¢y gi·ªù!</p>\n<br>\n<p>Tr√¢n tr·ªçng,<br>[tenmanager]</p>`,\n          htmlContent: \"\",\n          type: \"html\",\n          variables: [\"tennghesi\", \"tenlabel\", \"username\", \"email\", \"vaitro\", \"tenmanager\"],\n        },\n      ]\n      setTemplates(defaultTemplates)\n      saveTemplates(defaultTemplates)\n    }\n  }\n\n  const loadEmailMessages = () => {\n    const saved = localStorage.getItem(\"emailMessages_v2\")\n    if (saved) {\n      setEmailMessages(JSON.parse(saved))\n    } else {\n      // Start with empty messages - no sample data\n      setEmailMessages([])\n      localStorage.setItem(\"emailMessages_v2\", JSON.stringify([]))\n    }\n  }\n\n  const saveTemplates = (templatesData: EmailTemplate[]) => {\n    localStorage.setItem(\"emailTemplates_v2\", JSON.stringify(templatesData))\n  }\n\n  const syncEmails = () => {\n    setSyncStatus(\"Syncing...\")\n\n    // Simulate email sync\n    setTimeout(() => {\n      setSyncStatus(\"Connected\")\n      setLastSync(new Date().toLocaleString(\"vi-VN\"))\n\n      // Note: Remove fake email generation for production use\n      // Email sync will be handled by real SMTP service\n    }, 2000)\n  }\n\n  const handleCreateTemplate = () => {\n    const newTemplate: EmailTemplate = {\n      id: `template_${Date.now()}`,\n      name: \"M·∫´u email m·ªõi\",\n      subject: \"\",\n      content: \"\",\n      htmlContent: \"\",\n      type: \"text\",\n      variables: [],\n    }\n    setSelectedTemplate(newTemplate)\n    setIsEditing(true)\n  }\n\n  const handleSaveTemplate = () => {\n    if (!selectedTemplate) return\n\n    const updatedTemplates = templates.filter((t) => t.id !== selectedTemplate.id)\n    updatedTemplates.push(selectedTemplate)\n    setTemplates(updatedTemplates)\n    saveTemplates(updatedTemplates)\n    setIsEditing(false)\n    showModal(\"L∆∞u th√†nh c√¥ng\", [`ƒê√£ l∆∞u m·∫´u email \"${selectedTemplate.name}\"`], \"success\")\n  }\n\n  const handleDeleteTemplate = (templateId: string) => {\n    if (confirm(\"B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a m·∫´u email n√†y?\")) {\n      const updatedTemplates = templates.filter((t) => t.id !== templateId)\n      setTemplates(updatedTemplates)\n      saveTemplates(updatedTemplates)\n      if (selectedTemplate?.id === templateId) {\n        setSelectedTemplate(null)\n      }\n      showModal(\"X√≥a th√†nh c√¥ng\", [\"ƒê√£ x√≥a m·∫´u email\"], \"success\")\n    }\n  }\n\n  const handleTestEmail = () => {\n    if (!selectedTemplate) return\n\n    const testData = {\n      tennghesi: \"Nguy·ªÖn VƒÉn A\",\n      tenbaihat: \"B√†i h√°t test\",\n      id: \"MH123456\",\n      trangthai: \"ƒê√£ duy·ªát, ƒëang ch·ªù ph√°t h√†nh!\",\n      ngaygui: new Date().toLocaleDateString(\"vi-VN\"),\n      ngayphathanh: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toLocaleDateString(\"vi-VN\"),\n      tenmanager: \"An Kun Studio\",\n      email: \"manager@yourdomain.com\",\n      tenlabel: \"An Kun Studio\",\n      username: \"test_user\",\n      vaitro: \"Ngh·ªá sƒ©\",\n    }\n\n    let testContent = selectedTemplate.content\n    Object.entries(testData).forEach(([key, value]) => {\n      testContent = testContent.replace(new RegExp(`\\\\[${key}\\\\]`, \"g\"), value)\n    })\n\n    showModal(\"Test email\", [testContent], \"success\")\n  }\n\n  const handleSendEmail = async () => {\n    if (!emailForm.to || !emailForm.subject || !emailForm.content) {\n      showModal(\"L·ªói g·ª≠i email\", [\"Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin\"], \"error\")\n      return\n    }\n\n    const emailDetails: EmailDetails = {\n      from: emailForm.from,\n      to: emailForm.to,\n      cc: emailForm.cc,\n      bcc: emailForm.bcc,\n      subject: emailForm.subject,\n      textBody: emailForm.type === \"text\" ? emailForm.content : \"Vui l√≤ng xem n·ªôi dung HTML.\", // C·∫ßn c∆° ch·∫ø convert HTML to text\n      htmlBody: emailForm.type === \"html\" ? emailForm.htmlContent : undefined,\n    }\n\n    const result = await sendEmail(emailDetails)\n\n    if (result.success) {\n      const newMessage: EmailMessage = {\n        id: `msg_${Date.now()}`,\n        ...emailDetails,\n        content: emailForm.content, // L∆∞u n·ªôi dung g·ªëc ƒë·ªÉ hi·ªÉn th·ªã\n        date: new Date().toLocaleString(\"vi-VN\"),\n        read: true,\n        type: \"sent\",\n      }\n      const updatedMessages = [newMessage, ...emailMessages]\n      setEmailMessages(updatedMessages)\n      localStorage.setItem(\"emailMessages_v2\", JSON.stringify(updatedMessages))\n      showModal(\"G·ª≠i email th√†nh c√¥ng\", [result.message], \"success\")\n      setEmailForm({ from: \"\", to: \"\", cc: \"\", bcc: \"\", subject: \"\", content: \"\", htmlContent: \"\", type: \"text\" })\n    } else {\n      showModal(\"L·ªói g·ª≠i email\", [result.message], \"error\")\n    }\n  }\n\n  const copyTemplateVariables = (template: EmailTemplate) => {\n    const variables = template.variables.map((v) => `[${v}]`).join(\", \")\n    navigator.clipboard.writeText(variables)\n    showModal(\"Copy th√†nh c√¥ng\", [`ƒê√£ copy c√°c bi·∫øn: ${variables}`], \"success\")\n  }\n\n  const markAsRead = (messageId: string) => {\n    const updatedMessages = emailMessages.map((msg) => (msg.id === messageId ? { ...msg, read: true } : msg))\n    setEmailMessages(updatedMessages)\n    localStorage.setItem(\"emailMessages_v2\", JSON.stringify(updatedMessages))\n  }\n\n  const unreadCount = emailMessages.filter((msg) => !msg.read && msg.type === \"received\").length\n\n  return (\n    <div className=\"p-6 font-sans\">\n      <h2 className=\"text-3xl font-bold text-white mb-6 flex items-center\">\n        <Mail className=\"mr-3 text-purple-400\" />\n        Trung t√¢m email\n        {syncStatus === \"Connected\" && <CheckCircle className=\"ml-2 h-5 w-5 text-green-400\" />}\n      </h2>\n\n      <Tabs defaultValue=\"inbox\" className=\"space-y-6\">\n        <TabsList className=\"grid w-full grid-cols-5 font-medium\">\n          <TabsTrigger value=\"inbox\" className=\"relative\">\n            H·ªôp th∆∞\n            {unreadCount > 0 && (\n              <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">\n                {unreadCount}\n              </span>\n            )}\n          </TabsTrigger>\n          <TabsTrigger value=\"compose\">\n            So·∫°n email\n          </TabsTrigger>\n          <TabsTrigger value=\"templates\">\n            M·∫´u email\n          </TabsTrigger>\n          <TabsTrigger value=\"settings\">\n            C√†i ƒë·∫∑t SMTP\n          </TabsTrigger>\n          <TabsTrigger value=\"sync\">\n            ƒê·ªìng b·ªô\n          </TabsTrigger>\n        </TabsList>\n\n        {/* Inbox */}\n        <TabsContent value=\"inbox\" className=\"space-y-6\">\n          <Card className=\"bg-gray-800 border-gray-700\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center justify-between font-semibold\">\n                <span className=\"flex items-center\">\n                  <Inbox className=\"mr-2\" />\n                  H·ªôp th∆∞ ƒë·∫øn ({emailMessages.length})\n                </span>\n                <Button\n                  onClick={syncEmails}\n                  variant=\"outline\"\n                  disabled={syncStatus === \"Syncing...\"}\n                  className=\"font-medium\"\n                >\n                  <RotateCw className=\"mr-2 h-4 w-4\" />\n                  {syncStatus === \"Syncing...\" ? \"ƒêang ƒë·ªìng b·ªô...\" : \"ƒê·ªìng b·ªô\"}\n                </Button>\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-2\">\n                {emailMessages.map((message) => (\n                  <Card\n                    key={message.id}\n                    className={`cursor-pointer transition-colors ${message.read ? \"bg-gray-700\" : \"bg-blue-900/30\"\n                      } border-gray-600 hover:bg-gray-600`}\n                    onClick={() => markAsRead(message.id)}\n                  >\n                    <CardContent className=\"p-4\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center space-x-2 mb-1\">\n                            <span\n                              className={`px-2 py-1 rounded text-xs font-dosis-medium ${message.type === \"sent\" ? \"bg-green-600\" : \"bg-blue-600\"\n                                }`} // Changed font-dosis-medium to font-medium\n                            >\n                              {message.type === \"sent\" ? \"ƒê√£ g·ª≠i\" : \"Nh·∫≠n\"}\n                            </span>\n                            {!message.read && message.type === \"received\" && (\n                              <span className=\"w-2 h-2 bg-red-500 rounded-full\"></span>\n                            )}\n                          </div>\n                          <h4 className=\"font-semibold text-white\">{message.subject}</h4>\n                          <p className=\"text-gray-400 text-sm font-sans\">\n                            {message.type === \"sent\" ? `ƒê·∫øn: ${message.to}` : `T·ª´: ${message.from}`}\n                          </p>\n                          <p className=\"text-gray-500 text-sm mt-1 line-clamp-2 font-sans\">{message.content}</p>\n                        </div>\n                        <div className=\"text-right\">\n                          <p className=\"text-xs text-gray-500 font-sans\">{message.date}</p>\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n\n              <div className=\"mt-4 text-center text-gray-500 text-sm font-sans\">L·∫ßn ƒë·ªìng b·ªô cu·ªëi: {lastSync}</div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Compose Email */}\n        <TabsContent value=\"compose\" className=\"space-y-6\">\n          <Card className=\"bg-gray-800 border-gray-700 font-sans\">\n            <CardHeader> {/* Removed font-dosis-semibold */}\n              <CardTitle className=\"flex items-center font-semibold\">\n                <Send className=\"mr-2\" />\n                So·∫°n email m·ªõi\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <Label className=\"font-medium\">T·ª´ (From)</Label>\n                  <Input\n                    value={emailForm.from}\n                    onChange={(e) => setEmailForm({ ...emailForm, from: e.target.value })}\n                    placeholder=\"your-email@example.com\"\n                    className=\"font-sans\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"font-medium\">ƒê·∫øn (To) *</Label>\n                  <Input\n                    value={emailForm.to}\n                    onChange={(e) => setEmailForm({ ...emailForm, to: e.target.value })}\n                    placeholder=\"recipient@example.com\"\n                    className=\"font-sans\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"font-medium\">CC</Label>\n                  <Input\n                    value={emailForm.cc}\n                    onChange={(e) => setEmailForm({ ...emailForm, cc: e.target.value })}\n                    placeholder=\"cc@domain.com\"\n                    className=\"font-sans\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"font-medium\">BCC</Label>\n                  <Input\n                    value={emailForm.bcc}\n                    onChange={(e) => setEmailForm({ ...emailForm, bcc: e.target.value })}\n                    placeholder=\"bcc@domain.com\"\n                    className=\"font-sans\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <Label className=\"font-medium\">Ch·ªß ƒë·ªÅ (Subject) *</Label>\n                <Input\n                  value={emailForm.subject}\n                  onChange={(e) => setEmailForm({ ...emailForm, subject: e.target.value })}\n                  placeholder=\"Ch·ªß ƒë·ªÅ email...\"\n                  className=\"font-sans\"\n                />\n              </div>\n\n              <div>\n                <Label className=\"font-medium\">Ph√¢n lo·∫°i n·ªôi dung</Label>\n                <Select\n                  value={emailForm.type}\n                  onValueChange={(value) => setEmailForm({ ...emailForm, type: value as \"html\" | \"text\" })}\n                >\n                  <SelectTrigger className=\"w-48 font-sans\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"text\" className=\"font-sans\">\n                      VƒÉn b·∫£n thu·∫ßn\n                    </SelectItem>\n                    <SelectItem value=\"html\" className=\"font-sans\">\n                      HTML\n                    </SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div>\n                <Label className=\"font-medium\">N·ªôi dung email *</Label>\n                <RichTextEditor\n                  value={emailForm.content}\n                  onChange={(content, html) =>\n                    setEmailForm({\n                      ...emailForm,\n                      content,\n                      htmlContent: html,\n                    })\n                  }\n                  mode={emailForm.type}\n                  placeholder=\"N·ªôi dung email...\"\n                />\n              </div>\n\n              <div className=\"flex space-x-2\">\n                <Button onClick={handleSendEmail} className=\"bg-blue-600 hover:bg-blue-700 font-medium\">\n                  <Send className=\"mr-2 h-4 w-4\" />\n                  G·ª≠i\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  onClick={() =>\n                    setEmailForm({\n                      from: \"\",\n                      to: \"\",\n                      cc: \"\",\n                      bcc: \"\",\n                      subject: \"\",\n                      content: \"\",\n                      htmlContent: \"\",\n                      type: \"text\",\n                    })\n                  }\n                  className=\"font-medium\"\n                >\n                  X√≥a form\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Email Templates */}\n        <TabsContent value=\"templates\" className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n            {/* Templates List */}\n            <Card className=\"bg-gray-800 border-gray-700 font-sans\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center justify-between font-semibold\">\n                  <span className=\"flex items-center\">\n                    <FileText className=\"mr-2\" />\n                    M·∫´u email ({templates.length})\n                  </span>\n                  <Button\n                    onClick={handleCreateTemplate}\n                    size=\"sm\"\n                    className=\"bg-green-600 hover:bg-green-700 font-medium\"\n                  >\n                    <Plus className=\"h-4 w-4\" />\n                  </Button>\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-2\">\n                {templates.map((template) => (\n                  <div\n                    key={template.id}\n                    role=\"button\"\n                    tabIndex={0}\n                    aria-pressed={selectedTemplate?.id === template.id}\n                    className={`p-3 rounded-lg cursor-pointer transition-colors email-template-card text-left w-full ${selectedTemplate?.id === template.id ? \"bg-purple-600\" : \"bg-gray-700 hover:bg-gray-600\"\n                      }`}\n                    onClick={() => setSelectedTemplate(template)}\n                    onKeyDown={(e) => {\n                      if (e.key === 'Enter' || e.key === ' ') {\n                        e.preventDefault()\n                        setSelectedTemplate(template)\n                      }\n                    }}\n                  >\n                    <div className=\"flex items-center justify-between font-sans\">\n                      <div>\n                        <h4 className=\"font-semibold text-white\">{template.name}</h4>\n                        <p className=\"text-xs text-gray-400\">{template.type.toUpperCase()}</p>\n                      </div>\n                      <div className=\"flex space-x-1\">\n                        <div\n                          role=\"button\"\n                          tabIndex={0}\n                          aria-label=\"Edit template\"\n                          className=\"h-8 w-8 p-0 font-sans inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground cursor-pointer\"\n                          onClick={(e) => {\n                            e.stopPropagation()\n                            setSelectedTemplate(template)\n                            setIsEditing(true)\n                          }}\n                          onKeyDown={(e) => {\n                            if (e.key === 'Enter' || e.key === ' ') {\n                              e.preventDefault()\n                              e.stopPropagation()\n                              setSelectedTemplate(template)\n                              setIsEditing(true)\n                            }\n                          }}\n                        >\n                          <Edit className=\"h-4 w-4\" />\n                        </div>\n                        <div\n                          role=\"button\"\n                          tabIndex={0}\n                          aria-label=\"Delete template\"\n                          className=\"h-8 w-8 p-0 text-red-400 hover:text-red-300 font-sans inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground cursor-pointer\"\n                          onClick={(e) => {\n                            e.stopPropagation()\n                            handleDeleteTemplate(template.id)\n                          }}\n                          onKeyDown={(e) => {\n                            if (e.key === 'Enter' || e.key === ' ') {\n                              e.preventDefault()\n                              e.stopPropagation()\n                              handleDeleteTemplate(template.id)\n                            }\n                          }}\n                        >\n                          <Trash2 className=\"h-4 w-4\" />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </CardContent>\n            </Card>\n\n            {/* Template Editor */}\n            <div className=\"lg:col-span-2\">\n              {selectedTemplate ? (\n                <Card className=\"bg-gray-800 border-gray-700 font-sans\"> {/* Removed font-dosis-semibold */}\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center justify-between font-semibold\">\n                      <span>{isEditing ? \"Ch·ªânh s·ª≠a\" : \"Xem\"} m·∫´u email</span>\n                      <div className=\"flex space-x-2\">\n                        <Button\n                          onClick={() => copyTemplateVariables(selectedTemplate)}\n                          variant=\"outline\" // Removed font-dosis-medium\n                          size=\"sm\"\n                          className=\"font-medium\"\n                        >\n                          <Copy className=\"mr-2 h-4 w-4\" />\n                          Copy bi·∫øn\n                        </Button>\n                        <Button onClick={handleTestEmail} variant=\"outline\" size=\"sm\" className=\"font-medium\">\n                          <TestTube className=\"mr-2 h-4 w-4\" />\n                          Test\n                        </Button>\n                        {isEditing ? (\n                          <>\n                            <Button\n                              onClick={handleSaveTemplate} // Removed font-dosis-medium\n                              className=\"bg-green-600 hover:bg-green-700 font-medium\"\n                            >\n                              L∆∞u\n                            </Button>\n                            <Button variant=\"outline\" onClick={() => setIsEditing(false)} className=\"font-medium\">\n                              H·ªßy\n                            </Button>\n                          </>\n                        ) : ( // Removed font-dosis-medium\n                          <Button variant=\"outline\" onClick={() => setIsEditing(true)} className=\"font-medium\">\n                            <Edit className=\"mr-2 h-4 w-4\" />\n                            S·ª≠a\n                          </Button>\n                        )}\n                      </div>\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div>\n                      <Label className=\"font-medium\">T√™n m·∫´u</Label>\n                      <Input\n                        value={selectedTemplate.name}\n                        onChange={(e) => setSelectedTemplate({ ...selectedTemplate, name: e.target.value })}\n                        disabled={!isEditing}\n                        className=\"font-sans\"\n                      />\n                    </div>\n\n                    <div>\n                      <Label className=\"font-medium\">Ch·ªß ƒë·ªÅ email</Label>\n                      <Input\n                        value={selectedTemplate.subject}\n                        onChange={(e) => setSelectedTemplate({ ...selectedTemplate, subject: e.target.value })}\n                        disabled={!isEditing}\n                        placeholder=\"Ch·ªß ƒë·ªÅ email...\"\n                        className=\"font-sans\"\n                      />\n                    </div>\n\n                    <div>\n                      <Label className=\"font-medium\">Lo·∫°i n·ªôi dung</Label>\n                      <Select\n                        value={selectedTemplate.type}\n                        onValueChange={(value) =>\n                          setSelectedTemplate({ ...selectedTemplate, type: value as \"html\" | \"text\" })\n                        }\n                        disabled={!isEditing}\n                      >\n                        <SelectTrigger className=\"font-sans\">\n                          <SelectValue />\n                        </SelectTrigger>\n                        <SelectContent>\n                          <SelectItem value=\"text\" className=\"font-sans\">\n                            VƒÉn b·∫£n thu·∫ßn\n                          </SelectItem>\n                          <SelectItem value=\"html\" className=\"font-sans\">\n                            HTML\n                          </SelectItem>\n                        </SelectContent>\n                      </Select>\n                    </div>\n\n                    <div>\n                      <Label className=\"font-medium\">N·ªôi dung email</Label>\n                      {isEditing ? (\n                        <RichTextEditor\n                          value={selectedTemplate.content}\n                          onChange={(content, html) =>\n                            setSelectedTemplate({\n                              ...selectedTemplate,\n                              content,\n                              htmlContent: html,\n                            })\n                          }\n                          mode={selectedTemplate.type}\n                          placeholder=\"N·ªôi dung email...\"\n                        />\n                      ) : (\n                        <div className=\"border border-gray-600 rounded-lg p-4 min-h-[200px] bg-gray-700\">\n                          {selectedTemplate.type === \"html\" ? (\n                            <div dangerouslySetInnerHTML={{ __html: selectedTemplate.content }} />\n                          ) : (\n                            <pre className=\"whitespace-pre-wrap text-sm font-sans\">{selectedTemplate.content}</pre>\n                          )}\n                        </div>\n                      )}\n                    </div>\n\n                    <div> {/* Removed font-dosis-medium */}\n                      <Label className=\"font-medium\">Bi·∫øn s·∫µn c√≥</Label>\n                      <div className=\"flex flex-wrap gap-2 mt-2\">\n                        {[\n                          \"tennghesi\",\n                          \"tenbaihat\",\n                          \"id\",\n                          \"trangthai\",\n                          \"ngaygui\",\n                          \"ngayphathanh\",\n                          \"tenmanager\",\n                          \"email\",\n                          \"tenlabel\",\n                          \"username\",\n                          \"vaitro\",\n                        ].map((variable) => (\n                          <button\n                            key={variable}\n                            type=\"button\"\n                            className=\"px-2 py-1 bg-purple-600 text-white text-xs rounded cursor-pointer hover:bg-purple-700\"\n                            onClick={() => {\n                              if (isEditing) {\n                                const newContent = selectedTemplate.content + `[${variable}]`\n                                setSelectedTemplate({ ...selectedTemplate, content: newContent })\n                              }\n                            }}\n                            onKeyDown={(e) => {\n                              if ((e.key === \"Enter\" || e.key === \" \") && isEditing) {\n                                e.preventDefault();\n                                const newContent = selectedTemplate.content + `[${variable}]`\n                                setSelectedTemplate({ ...selectedTemplate, content: newContent })\n                              }\n                            }}\n                            tabIndex={0}\n                            aria-label={`Ch√®n bi·∫øn ${variable}`}\n                          >\n                            [{variable}]\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              ) : (\n                <Card className=\"bg-gray-800 border-gray-700\">\n                  <CardContent className=\"p-8 text-center\">\n                    <FileText className=\"mx-auto h-12 w-12 text-gray-500 mb-4 font-sans\" />\n                    <p className=\"text-gray-400 font-sans\">Ch·ªçn m·ªôt m·∫´u email ƒë·ªÉ xem ho·∫∑c ch·ªânh s·ª≠a</p>\n                  </CardContent>\n                </Card>\n              )}\n            </div>\n          </div>\n        </TabsContent>\n\n        {/* SMTP Settings */}\n        <TabsContent value=\"settings\" className=\"space-y-6\">\n          <Card className=\"bg-gray-800 border-gray-700 font-sans\">\n            <CardHeader> {/* Removed font-dosis-semibold */}\n              <CardTitle className=\"flex items-center font-semibold\">\n                <Settings className=\"mr-2\" />\n                C√†i ƒë·∫∑t SMTP\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <Label className=\"font-dosis-medium\">SMTP Server</Label>\n                  <Input\n                    value={smtpSettings.smtpServer}\n                    onChange={(e) => setSmtpSettings({ ...smtpSettings, smtpServer: e.target.value })}\n                    placeholder=\"smtp.mail.me.com\"\n                    className=\"font-dosis\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"font-dosis-medium\">Port</Label>\n                  <Input\n                    value={smtpSettings.smtpPort}\n                    onChange={(e) => setSmtpSettings({ ...smtpSettings, smtpPort: e.target.value })}\n                    placeholder=\"587\"\n                    className=\"font-dosis\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"font-dosis-medium\">Username</Label>\n                  <Input\n                    value={smtpSettings.smtpUsername}\n                    onChange={(e) => setSmtpSettings({ ...smtpSettings, smtpUsername: e.target.value })}\n                    placeholder=\"your-email@example.com\"\n                    className=\"font-dosis\"\n                  />\n                </div>\n                <div>\n                  <Label className=\"font-dosis-medium\">Password</Label>\n                  <Input\n                    type=\"password\"\n                    value={smtpSettings.smtpPassword || \"\"} // Handle undefined password\n                    onChange={(e) => setSmtpSettings({ ...smtpSettings, smtpPassword: e.target.value })}\n                    placeholder=\"grsa-aaxz-midn-pjta\"\n                    className=\"font-dosis\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex items-center space-x-2\">\n                {smtpSettings.connected ? (\n                  <>\n                    <CheckCircle className=\"h-5 w-5 text-green-400\" />\n                    <span className=\"text-green-400 font-dosis\">ƒê√£ k·∫øt n·ªëi (theo c√†i ƒë·∫∑t ƒë√£ l∆∞u)</span>\n                  </>\n                ) : (\n                  <span className=\"text-yellow-400 font-dosis\">Ch∆∞a k·∫øt n·ªëi ho·∫∑c ch∆∞a l∆∞u c√†i ƒë·∫∑t.</span>\n                )}\n              </div>\n\n              <div className=\"flex space-x-2\">\n                <Button\n                  onClick={() => {\n                    localStorage.setItem(SMTP_LOCALSTORAGE_KEY, JSON.stringify({ ...smtpSettings, connected: false })) // Reset connected status on save, require re-test\n                    showModal(\"L∆∞u th√†nh c√¥ng\", [\"ƒê√£ l∆∞u c√†i ƒë·∫∑t SMTP. Vui l√≤ng test l·∫°i k·∫øt n·ªëi.\"], \"success\")\n                  }}\n                  className=\"bg-green-600 hover:bg-green-700 font-dosis-medium\"\n                >\n                  <Settings className=\"mr-2 h-4 w-4\" />\n                  L∆∞u c√†i ƒë·∫∑t\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  onClick={async () => {\n                    if (!smtpSettings.smtpUsername) {\n                      showModal(\"L·ªói Test SMTP\", [\"Vui l√≤ng nh·∫≠p Username SMTP.\"], \"error\");\n                      return;\n                    }\n                    // S·ª≠ d·ª•ng h√†m sendEmail ƒë·ªÉ test, g·ª≠i email test ƒë·∫øn ch√≠nh n√≥\n                    const testEmailDetails: EmailDetails = {\n                      from: smtpSettings.smtpUsername,\n                      to: smtpSettings.smtpUsername,\n                      subject: `Test Email - Email Center - ${new Date().toISOString()}`,\n                      textBody: `ƒê√¢y l√† email test t·ª´ Trung t√¢m Email.\\nC·∫•u h√¨nh SMTP c·ªßa b·∫°n ho·∫°t ƒë·ªông b√¨nh th∆∞·ªùng!`,\n                    };\n                    const result = await sendEmail(testEmailDetails);\n                    setSmtpSettings({ ...smtpSettings, connected: result.success }); // C·∫≠p nh·∫≠t tr·∫°ng th√°i connected\n                    showModal(result.success ? \"Test SMTP Th√†nh C√¥ng\" : \"Test SMTP Th·∫•t B·∫°i\", [result.message], result.success ? \"success\" : \"error\");\n                  }}\n                  className=\"font-dosis-medium\"\n                >\n                  <TestTube className=\"mr-2 h-4 w-4\" />\n                  Test k·∫øt n·ªëi\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Sync Tab */}\n        <TabsContent value=\"sync\" className=\"space-y-6\">\n          <Card className=\"bg-gray-800 border-gray-700\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center font-dosis-semibold\">\n                <RotateCw className=\"mr-2\" />\n                ƒê·ªìng b·ªô email\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div className=\"space-y-4\">\n                  <h4 className=\"font-dosis-semibold\">Tr·∫°ng th√°i ƒë·ªìng b·ªô:</h4>\n                  <div className=\"space-y-2\">\n                    <div className=\"flex justify-between items-center p-3 bg-gray-700 rounded\">\n                      <span className=\"font-dosis\">SMTP Connection</span>\n                      <span className=\"px-2 py-1 bg-green-600 text-white rounded text-sm font-dosis-medium\">\n                        Connected\n                      </span>\n                    </div>\n                    <div className=\"flex justify-between items-center p-3 bg-gray-700 rounded\">\n                      <span className=\"font-dosis\">Email Sync</span>\n                      <span\n                        className={`px-2 py-1 rounded text-sm font-dosis-medium ${syncStatus === \"Connected\" ? \"bg-green-600 text-white\" : \"bg-yellow-600 text-white\"\n                          }`}\n                      >\n                        {syncStatus}\n                      </span>\n                    </div>\n                    <div className=\"flex justify-between items-center p-3 bg-gray-700 rounded\">\n                      <span className=\"font-dosis\">Auto Sync</span>\n                      <span className=\"px-2 py-1 bg-blue-600 text-white rounded text-sm font-dosis-medium\">\n                        Enabled\n                      </span>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"space-y-4\">\n                  <h4 className=\"font-dosis-semibold\">Thao t√°c:</h4>\n                  <div className=\"space-y-2\">\n                    <Button\n                      onClick={syncEmails}\n                      className=\"w-full bg-blue-600 hover:bg-blue-700 font-dosis-medium\"\n                      disabled={syncStatus === \"Syncing...\"}\n                    >\n                      <RotateCw className=\"h-4 w-4 mr-2\" />\n                      {syncStatus === \"Syncing...\" ? \"ƒêang ƒë·ªìng b·ªô...\" : \"ƒê·ªìng b·ªô ngay\"}\n                    </Button>\n                    <Button\n                      onClick={() => showModal(\"Backup th√†nh c√¥ng\", [\"ƒê√£ backup to√†n b·ªô email\"], \"success\")}\n                      className=\"w-full bg-green-600 hover:bg-green-700 font-dosis-medium\"\n                    >\n                      <Download className=\"h-4 w-4 mr-2\" />\n                      Backup email\n                    </Button>\n                    <Button\n                      onClick={() => showModal(\"C√†i ƒë·∫∑t ƒë√£ l∆∞u\", [\"ƒê√£ b·∫≠t t·ª± ƒë·ªông ƒë·ªìng b·ªô m·ªói 30 gi√¢y\"], \"success\")}\n                      className=\"w-full bg-purple-600 hover:bg-purple-700 font-dosis-medium\"\n                    >\n                      <Settings className=\"h-4 w-4 mr-2\" />\n                      C√†i ƒë·∫∑t auto-sync\n                    </Button>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"border-t border-gray-600 pt-4\">\n                <h4 className=\"font-dosis-semibold mb-2\">L·ªãch s·ª≠ ƒë·ªìng b·ªô:</h4>\n                <div className=\"text-sm text-gray-400 space-y-1 font-dosis\">\n                  <p>‚Ä¢ {lastSync} - Email sync completed</p>\n                  <p>‚Ä¢ {new Date(Date.now() - 1800000).toLocaleString(\"vi-VN\")} - SMTP connection verified</p>\n                  <p>‚Ä¢ {new Date(Date.now() - 3600000).toLocaleString(\"vi-VN\")} - Auto-sync enabled</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  )\n}\n\n// Default export for compatibility\nexport default EmailCenterView\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 11451, "column": 0}, "map": {"version":3,"sources":["file:///F:/studio.ankun/components/views/logs-view.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\n// Import Badge ƒë√∫ng c√°ch t·ª´ ui/badge\nimport { Badge } from \"@/components/ui/badge\"\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { FileText, Download, Trash2, Filter, Search, RefreshCw } from \"lucide-react\"\nimport { logger, type LogEntry, type LogLevel } from \"@/lib/logger\"\nimport { useAuth } from \"@/components/auth-provider\"\n\nexport function LogsView() {\n    const { user: currentUser } = useAuth();\n    const [logs, setLogs] = useState<LogEntry[]>([])\n    const [filteredLogs, setFilteredLogs] = useState<LogEntry[]>([])\n    const [levelFilter, setLevelFilter] = useState<LogLevel | 'all'>('all')\n    const [componentFilter, setComponentFilter] = useState('all-components')\n    const [searchQuery, setSearchQuery] = useState('')\n    const [autoRefresh, setAutoRefresh] = useState(true)\n\n    useEffect(() => {\n        loadLogs()\n\n        if (autoRefresh) {\n            const interval = setInterval(loadLogs, 5000) // Refresh every 5 seconds\n            return () => clearInterval(interval)\n        }\n    }, [autoRefresh])\n\n    useEffect(() => {\n        filterLogs()\n    }, [logs, levelFilter, componentFilter, searchQuery])\n\n    const loadLogs = async () => {\n        try {\n            const response = await fetch('/api/logs')\n            const data = await response.json()\n\n            if (data.success) {\n                setLogs(data.logs || [])\n            } else {\n                console.error('Failed to fetch logs:', data.error)\n                // Fallback to local logs\n                const allLogs = logger.getLogs()\n                setLogs(allLogs)\n            }\n        } catch (error) {\n            console.error('Error fetching logs:', error)\n            // Fallback to local logs\n            const allLogs = logger.getLogs()\n            setLogs(allLogs)\n        }\n    }\n\n    const filterLogs = () => {\n        let filtered = [...logs]\n\n        if (levelFilter !== 'all') {\n            filtered = filtered.filter(log => log.level === levelFilter)\n        }\n\n        if (componentFilter && componentFilter !== 'all-components') {\n            filtered = filtered.filter(log =>\n                log.component?.toLowerCase().includes(componentFilter.toLowerCase())\n            )\n        }\n\n        if (searchQuery) {\n            filtered = filtered.filter(log =>\n                log.message.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                JSON.stringify(log.data ?? {}).toLowerCase().includes(searchQuery.toLowerCase())\n            )\n        }\n\n        setFilteredLogs(filtered)\n    }\n\n    const clearLogs = () => {\n        logger.clearLogs()\n        setLogs([])\n        setFilteredLogs([])\n    }\n\n    const exportLogs = () => {\n        const logData = logger.exportLogs()\n        const blob = new Blob([logData], { type: 'application/json' })\n        const url = URL.createObjectURL(blob)\n        const a = document.createElement('a')\n        a.href = url\n        a.download = `aks-studio-logs-${new Date().toISOString().split('T')[0]}.json`\n        document.body.appendChild(a)\n        a.click()\n        document.body.removeChild(a)\n        URL.revokeObjectURL(url)\n    }\n\n    const getLevelColor = (level: LogLevel) => {\n        switch (level) {\n            case 'debug': return 'bg-gray-500'\n            case 'info': return 'bg-blue-500'\n            case 'warn': return 'bg-yellow-500'\n            case 'error': return 'bg-red-500'\n            default: return 'bg-gray-500'\n        }\n    }\n\n    const getUniqueComponents = () => {\n        const components = logs\n            .map(log => log.component)\n            .filter(Boolean)\n            .filter((value, index, self) => self.indexOf(value) === index)\n        return components\n    }\n\n    if (!currentUser) {\n        return (\n            <div className=\"p-6 min-h-screen flex items-center justify-center\">\n                <div className=\"text-center\">\n                    <h2 className=\"text-xl font-semibold text-gray-700 mb-2\">ƒêang t·∫£i th√¥ng tin</h2>\n                    <p className=\"text-gray-500\">Vui l√≤ng ch·ªù trong gi√¢y l√°t...</p>\n                </div>\n            </div>\n        );\n    }\n\n    if (currentUser.role !== \"Label Manager\") {\n        return (\n            <div className=\"p-6 min-h-screen flex items-center justify-center\">\n                <div className=\"text-center\">\n                    <h2 className=\"text-xl font-semibold text-red-600 mb-2\">Kh√¥ng c√≥ quy·ªÅn truy c·∫≠p</h2>\n                    <p className=\"text-gray-500\">Ch·ªâ Label Manager m·ªõi c√≥ th·ªÉ xem logs</p>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"p-6\">\n            <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-3xl font-bold text-gray-900 flex items-center\">\n                    <FileText className=\"mr-3 text-purple-400\" />\n                    System Logs ({filteredLogs.length})\n                </h2>\n                <div className=\"flex space-x-2\">\n                    <Button\n                        variant=\"outline\"\n                        onClick={() => setAutoRefresh(!autoRefresh)}\n                        className={autoRefresh ? \"bg-green-600/20\" : \"\"}\n                    >\n                        <RefreshCw className=\"h-4 w-4 mr-2\" />\n                        Auto Refresh\n                    </Button>\n                    <Button variant=\"outline\" onClick={exportLogs}>\n                        <Download className=\"h-4 w-4 mr-2\" />\n                        Export\n                    </Button>\n                    <Button variant=\"destructive\" onClick={clearLogs}>\n                        <Trash2 className=\"h-4 w-4 mr-2\" />\n                        Clear\n                    </Button>\n                </div>\n            </div>\n\n            {/* Filters */}\n            <Card className=\"mb-6\">\n                <CardHeader>\n                    <CardTitle className=\"flex items-center\">\n                        <Filter className=\"mr-2\" />\n                        Filters\n                    </CardTitle>\n                </CardHeader>\n                <CardContent>\n                    <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                        <div>\n                            <Label>Level</Label>\n                            <Select value={levelFilter} onValueChange={(value) => setLevelFilter(value as LogLevel | 'all')}>\n                                <SelectTrigger>\n                                    <SelectValue />\n                                </SelectTrigger>\n                                <SelectContent>\n                                    <SelectItem value=\"all\">All Levels</SelectItem>\n                                    <SelectItem value=\"debug\">Debug</SelectItem>\n                                    <SelectItem value=\"info\">Info</SelectItem>\n                                    <SelectItem value=\"warn\">Warning</SelectItem>\n                                    <SelectItem value=\"error\">Error</SelectItem>\n                                </SelectContent>\n                            </Select>\n                        </div>\n\n                        <div>\n                            <Label>Component</Label>\n                            <Select value={componentFilter} onValueChange={setComponentFilter}>\n                                <SelectTrigger>\n                                    <SelectValue placeholder=\"All Components\" />\n                                </SelectTrigger>\n                                <SelectContent>\n                                    <SelectItem value=\"all-components\">All Components</SelectItem>\n                                    {getUniqueComponents().filter(c => c).map(component => (\n                                        <SelectItem key={component} value={component!}>\n                                            {component}\n                                        </SelectItem>\n                                    ))}\n                                </SelectContent>\n                            </Select>\n                        </div>\n\n                        <div>\n                            <Label>Search</Label>\n                            <div className=\"relative\">\n                                <Search className=\"absolute left-2 top-2.5 h-4 w-4 text-gray-400\" />\n                                <Input\n                                    placeholder=\"Search logs...\"\n                                    value={searchQuery}\n                                    onChange={(e) => setSearchQuery(e.target.value)}\n                                    className=\"pl-8\"\n                                />\n                            </div>\n                        </div>\n\n                        <div>\n                            <Label>Actions</Label>\n                            <Button variant=\"outline\" onClick={loadLogs} className=\"w-full\">\n                                <RefreshCw className=\"h-4 w-4 mr-2\" />\n                                Refresh\n                            </Button>\n                        </div>\n                    </div>\n                </CardContent>\n            </Card>\n\n            {/* Logs Display */}\n            <Card>\n                <CardContent className=\"p-0\">\n                    <ScrollArea className=\"h-[600px]\">\n                        {filteredLogs.length === 0 ? (\n                            <div className=\"p-8 text-center text-gray-400\">\n                                <FileText className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\n                                <p>No logs found matching the current filters.</p>\n                            </div>\n                        ) : (\n                            <div className=\"space-y-2 p-4\">\n                                {filteredLogs.map((log, index) => (\n                                    <Card key={`${log.id}-${index}`} className=\"bg-gray-50\">\n                                        <CardContent className=\"p-4\">\n                                            <div className=\"flex items-start justify-between mb-2\">\n                                                <div className=\"flex items-center space-x-2\">\n                                                    <Badge className={`${getLevelColor(log.level)} text-white`}>\n                                                        {log.level.toUpperCase()}\n                                                    </Badge>\n                                                    {log.component && (\n                                                        <Badge variant=\"outline\">\n                                                            {log.component}\n                                                        </Badge>\n                                                    )}\n                                                    {log.action && (\n                                                        <Badge variant=\"secondary\">\n                                                            {log.action}\n                                                        </Badge>\n                                                    )}\n                                                </div>\n                                                <span className=\"text-xs text-gray-400\">\n                                                    {new Date(log.timestamp).toLocaleString()}\n                                                </span>\n                                            </div>\n\n                                            <p className=\"text-gray-700 mb-2\">{log.message}</p>\n\n                                            {log.userId && (\n                                                <p className=\"text-xs text-gray-500 mb-2\">User: {log.userId}</p>\n                                            )}\n\n                                            {log.data && (\n                                                <details className=\"mt-2\">\n                                                    <summary className=\"text-sm text-gray-500 cursor-pointer hover:text-gray-700\">\n                                                        Show Data\n                                                    </summary>\n                                                    <Textarea\n                                                        value={JSON.stringify(log.data, null, 2)}\n                                                        readOnly\n                                                        className=\"mt-2 font-mono text-xs\"\n                                                        rows={6}\n                                                    />\n                                                </details>\n                                            )}\n                                        </CardContent>\n                                    </Card>\n                                ))}\n                            </div>\n                        )}\n                    </ScrollArea>\n                </CardContent>\n            </Card>\n        </div>\n    )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}