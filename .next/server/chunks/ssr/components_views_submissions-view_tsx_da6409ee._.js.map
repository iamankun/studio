{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///F:/studio.ankun/components/views/submissions-view.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport Image from \"next/image\"\nimport { Button } from \"@/components/ui/button\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { SubmissionDetailModal } from \"@/components/modals/submission-detail-modal\"\nimport { useAuth } from \"@/components/auth-provider\"\nimport { AuthorizationService } from \"@/lib/authorization-service\"\nimport type { Submission } from \"@/types/submission\"\nimport { getStatusColor, getStatusText } from \"@/types/submission\"\nimport { Eye, Download, Volume2, FileText, Music, Upload, Edit, Trash2, CheckCircle, XCircle } from \"lucide-react\"\n\ninterface SubmissionsViewProps {\n  submissions: Submission[]\n  viewType: string\n  onUpdateStatus: (submissionId: string, newStatus: string) => void\n  showModal: (title: string, messages: string[], type?: \"error\" | \"success\") => void\n  onViewChange?: (view: string) => void\n}\n\nexport function SubmissionsView({\n  viewType,\n  onUpdateStatus,\n  showModal,\n  onViewChange,\n  submissions,\n}: Readonly<SubmissionsViewProps>) {\n  const { user: currentUser } = useAuth();\n  const [selectedSubmission, setSelectedSubmission] = useState<Submission | null>(null)\n  const [isDetailModalOpen, setIsDetailModalOpen] = useState(false)\n  const [searchTerm, setSearchTerm] = useState(\"\") // Thêm state tìm kiếm\n\n  if (!currentUser) {\n    return (\n      <div className=\"p-6 min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-xl font-semibold text-gray-700 mb-2\">Đang tải thông tin</h2>\n          <p className=\"text-gray-500\">Vui lòng chờ trong giây lát...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const displaySubmissions =\n    viewType === \"mySubmissions\"\n      ? submissions.filter((sub) => sub.uploaderUsername === currentUser.username)\n      : submissions\n\n  // Lọc submissions theo từ khóa tìm kiếm\n  const filteredDisplaySubmissions = displaySubmissions.filter(submission => {\n    if (!searchTerm) return true;\n    const searchText = searchTerm.toLowerCase();\n\n    // Safely convert any property to string before checking\n    const safeIncludes = (value: string | number | undefined | null): boolean => {\n      if (value === null || value === undefined) return false;\n      return String(value).toLowerCase().includes(searchText);\n    };\n\n    return (\n      safeIncludes(submission.artistName) ||\n      safeIncludes(submission.songTitle) ||\n      safeIncludes(submission.albumName) ||\n      safeIncludes(submission.id) ||\n      safeIncludes(submission.isrc) ||\n      safeIncludes(submission.status)\n    );\n  });\n\n  const handleViewDetails = (submissionId: string) => {\n    const submission = submissions.find((s) => s.id === submissionId)\n    if (submission) {\n      setSelectedSubmission(submission)\n      setIsDetailModalOpen(true)\n    }\n  }\n\n  const handleDownloadImage = (submission: Submission) => {\n    if (submission.imageUrl && submission.imageUrl.startsWith(\"data:\")) {\n      const link = document.createElement(\"a\")\n      link.href = submission.imageUrl\n      link.download = `${submission.songTitle}_cover.jpg`\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n      showModal(\"Tải Xuống Thành Công\", [`Đã tải ảnh bìa \"${submission.songTitle}\"`], \"success\")\n    } else {\n      showModal(\"Thông Báo\", [\"Không thể tải xuống ảnh bìa.\"], \"error\")\n    }\n  }\n\n  const handleDownloadAudio = (submission: Submission) => {\n    // In a real app, this would download the actual audio files\n    showModal(\n      \"Tải Xuống Audio\",\n      [\n        `Đang chuẩn bị tải ${submission.audioFilesCount} file audio cho \"${submission.songTitle}\". Tính năng đang phát triển.`,\n      ],\n      \"success\",\n    )\n  }\n\n  // Xử lý xóa submission\n  const handleDeleteSubmission = async (submissionId: string) => {\n    try {\n      console.log(`Đang xóa submission ${submissionId}`);\n\n      const response = await fetch(`/api/submissions/${submissionId}`, {\n        method: 'DELETE',\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        // Cập nhật state local sau khi xóa thành công\n        // Note: Có thể cần reload toàn bộ danh sách nếu được quản lý bởi component cha\n        showModal(\"Xóa thành công\", [`Đã xóa bài nộp \"${selectedSubmission?.songTitle || ''}\" thành công`], \"success\");\n        setIsDetailModalOpen(false); // Đóng modal\n        setSelectedSubmission(null); // Xóa submission đã chọn\n      } else {\n        showModal(\"Lỗi xóa bài nộp\", [data.message || \"Không thể xóa bài nộp\"], \"error\");\n      }\n    } catch (error) {\n      console.error(\"Error deleting submission:\", error);\n      showModal(\"Lỗi xóa bài nộp\", [\"Đã xảy ra lỗi khi thực hiện xóa bài nộp\"], \"error\");\n    }\n  };\n\n  const statuses = [\n    \"Đã nhận, đang chờ duyệt\",\n    \"Đã duyệt, từ chối phát hành\",\n    \"Đã duyệt, đang chờ phát hành!\",\n    \"Đã phát hành, đang chờ ra mắt\",\n    \"Hoàn thành phát hành!\",\n  ]\n\n  // Nếu là Label Manager thì xem toàn bộ, còn artist chỉ xem số liệu của mình\n  const isLabelManager = currentUser.role === \"Label Manager\";\n  const filteredSubmissions = isLabelManager\n    ? submissions\n    : submissions.filter((sub) => sub.uploaderUsername === currentUser.username);\n\n  // Tính toán các số liệu thống kê\n  const totalSubmissions = filteredSubmissions.length;\n\n  // Đã duyệt (status === \"Đã duyệt, đang chờ phát hành!\" hoặc \"Hoàn thành phát hành!\" hoặc \"Đã phát hành, đang chờ ra mắt\")\n  const approvedSubmissions = filteredSubmissions.filter((sub) => [\n    \"Đã duyệt, đang chờ phát hành!\",\n    \"Hoàn thành phát hành!\",\n    \"Đã phát hành, đang chờ ra mắt\"\n  ].includes(sub.status)).length;\n\n  // Chờ duyệt (status === \"Đã nhận, đang chờ duyệt\")\n  const pendingSubmissions = filteredSubmissions.filter((sub) => sub.status === \"Đã nhận, đang chờ duyệt\").length;\n\n  // Từ chối phát hành (status === \"Đã duyệt, từ chối phát hành\")\n  const rejectedSubmissions = filteredSubmissions.filter((sub) => sub.status === \"Đã duyệt, từ chối phát hành\").length;\n\n  // Đang phát hành (status === \"Đã phát hành, đang chờ ra mắt\")\n  const inProgressSubmissions = filteredSubmissions.filter((sub) => sub.status === \"Đã phát hành, đang chờ ra mắt\").length;\n\n  // Hoàn thành phát hành (status === \"Hoàn thành phát hành!\")\n  const completedSubmissions = filteredSubmissions.filter((sub) => sub.status === \"Hoàn thành phát hành!\").length;\n\n  // Tổng số track (trackInfos)\n  const totalTracks = filteredSubmissions.reduce((sum, sub) => {\n    return sum + (Array.isArray(sub.trackInfos) ? sub.trackInfos.length : 0);\n  }, 0);\n\n  // Tổng số audio (audioUrls hoặc audioUrl)\n  const totalAudios = filteredSubmissions.reduce((sum, sub) => {\n    const audioCount = Array.isArray(sub.audioUrls)\n      ? sub.audioUrls.length\n      : (sub.audioUrl ? 1 : 0);\n    return sum + audioCount;\n  }, 0);\n\n  // Tổng hợp thông tin submissions theo thể loại\n  const submissionsByCategory = filteredSubmissions.reduce((acc, sub) => {\n    const category = sub.mainCategory || 'other_main';\n    if (!acc[category]) {\n      acc[category] = 0;\n    }\n    acc[category]++;\n    return acc;\n  }, {} as Record<string, number>);\n\n  // Tổng hợp thông tin submissions theo nền tảng\n  const submissionsByPlatform = filteredSubmissions.reduce((acc, sub) => {\n    if (Array.isArray(sub.platforms)) {\n      sub.platforms.forEach(platform => {\n        if (!acc[platform]) {\n          acc[platform] = 0;\n        }\n        acc[platform]++;\n      });\n    }\n    return acc;\n  }, {} as Record<string, number>);\n\n  // Chuyển đổi định dạng ngày cho submissions\n  const formatDate = (dateString: string) => {\n    if (!dateString) return \"N/A\";\n    try {\n      return new Date(dateString).toLocaleDateString(\"vi-VN\", {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric'\n      });\n    } catch {\n      return dateString;\n    }\n  };\n\n  // Hàm chuyển đổi mã thể loại thành tên hiển thị\n  const getCategoryName = (categoryCode: string): string => {\n    const categoryNames: Record<string, string> = {\n      'pop': 'Pop',\n      'singer-songwriter': 'Singer-Songwriter',\n      'hiphoprap': 'Hip Hop/Rap',\n      'edm': 'EDM',\n      'rnb': 'R&B',\n      'ballad': 'Ballad',\n      'acoustic': 'Acoustic',\n      'indie': 'Indie',\n      'other_main': 'Khác'\n    };\n    return categoryNames[categoryCode] || categoryCode;\n  };\n\n  // Hàm chuyển đổi mã nền tảng thành tên hiển thị\n  const getPlatformName = (platformCode: string): string => {\n    const platformNames: Record<string, string> = {\n      'youtube': 'YouTube',\n      'spotify': 'Spotify',\n      'apple_music': 'Apple Music',\n      'soundcloud': 'SoundCloud',\n      'other_platform': 'Khác'\n    };\n    return platformNames[platformCode] || platformCode;\n  };\n\n  // Handle updating submission data (for UPC and distribution link)\n  const handleUpdateSubmission = async (submissionId: string, updatedData: Partial<Submission>) => {\n    try {\n      console.log(`Sending update for submission ${submissionId}:`, updatedData);\n\n      // Chỉ gửi UPC và distributionLink để tránh lỗi với dữ liệu lớn\n      const dataToSend = {\n        upc: updatedData.upc,\n        distributionLink: updatedData.distributionLink\n      };\n\n      const response = await fetch(`/api/submissions/${submissionId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(dataToSend),\n      });\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`HTTP error ${response.status}: ${errorText}`);\n      }\n\n      const data = await response.json();\n\n      if (data.success) {\n        // Cập nhật lại submission trong state local\n        // Note: submissions state might be managed by parent component, so we don't update it directly\n\n        // Cập nhật selectedSubmission nếu đang được xem\n        if (selectedSubmission && selectedSubmission.id === submissionId) {\n          setSelectedSubmission({ ...selectedSubmission, ...dataToSend });\n        }\n\n        showModal(\"Cập nhật thành công\", [\"Thông tin phân phối đã được cập nhật thành công\"], \"success\");\n      } else {\n        showModal(\"Lỗi cập nhật\", [data.error || \"Không thể cập nhật thông tin\"], \"error\");\n      }\n    } catch (error) {\n      console.error(\"Error updating submission:\", error);\n      const errorMessage = error instanceof Error ? error.message : \"Đã xảy ra lỗi khi cập nhật thông tin\";\n      showModal(\"Lỗi cập nhật\", [errorMessage], \"error\");\n    }\n  };\n\n  // Handler functions for new authorization-based actions\n  const handleEditSubmission = (submission: Submission) => {\n    // For now, just open the detail modal in edit mode\n    // In a full implementation, this would open an edit form\n    setSelectedSubmission(submission)\n    setIsDetailModalOpen(true)\n    showModal(\"Chỉnh sửa bài nộp\", [`Mở form chỉnh sửa cho \"${submission.songTitle}\"`], \"success\")\n  }\n\n  const handleApproveSubmission = async (submissionId: string) => {\n    try {\n      const response = await fetch('/api/submissions/approve-reject', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          submissionId,\n          action: 'approve',\n        }),\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        // Update the submission status locally\n        onUpdateStatus(submissionId, 'approved')\n        showModal(\"Duyệt thành công\", [\"Bài nộp đã được duyệt\"], \"success\")\n      } else {\n        showModal(\"Lỗi duyệt bài\", [data.message || \"Không thể duyệt bài nộp\"], \"error\")\n      }\n    } catch (error) {\n      console.error(\"Error approving submission:\", error)\n      showModal(\"Lỗi duyệt bài\", [\"Đã xảy ra lỗi khi duyệt bài nộp\"], \"error\")\n    }\n  }\n\n  const handleRejectSubmission = async (submissionId: string) => {\n    // For now, reject without comment. In full implementation, would show a comment dialog\n    const comment = prompt(\"Nhập lý do từ chối (tùy chọn):\")\n\n    try {\n      const response = await fetch('/api/submissions/approve-reject', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          submissionId,\n          action: 'reject',\n          comment: comment || undefined,\n        }),\n      })\n\n      const data = await response.json()\n\n      if (data.success) {\n        // Update the submission status locally\n        onUpdateStatus(submissionId, 'rejected')\n        showModal(\"Từ chối thành công\", [\"Bài nộp đã bị từ chối\"], \"success\")\n      } else {\n        showModal(\"Lỗi từ chối bài\", [data.message || \"Không thể từ chối bài nộp\"], \"error\")\n      }\n    } catch (error) {\n      console.error(\"Error rejecting submission:\", error)\n      showModal(\"Lỗi từ chối bài\", [\"Đã xảy ra lỗi khi từ chối bài nộp\"], \"error\")\n    }\n  }\n\n  return (\n    <div className=\"p-2 md:p-6\">\n      <div className=\"mb-6 flex flex-col md:flex-row md:justify-between md:items-center gap-4\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Submissions</h1>\n          <p className=\"text-gray-600\">Quản lý các bài nhạc bạn đã gửi lên hệ thống</p>\n        </div>\n        <div className=\"w-full md:w-64\">\n          <div className=\"relative\">\n            <input\n              type=\"text\"\n              placeholder=\"Tìm kiếm submissions...\"\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n            <button\n              className=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400\"\n              onClick={() => setSearchTerm(\"\")}\n            >\n              {searchTerm ? \"×\" : \"🔍\"}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n        <Card className=\"bg-gray-800 border-gray-700\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">Tổng submissions</CardTitle>\n            <FileText className=\"h-4 w-4 text-purple-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-white\">{totalSubmissions}</div>\n            <p className=\"text-xs text-gray-400\">Tổng số bài gửi lên</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-gray-800 border-gray-700\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">Đã duyệt</CardTitle>\n            <Music className=\"h-4 w-4 text-green-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-white\">{approvedSubmissions}</div>\n            <p className=\"text-xs text-gray-400\">Sẵn sàng phát hành</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-gray-800 border-gray-700\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">Chờ duyệt</CardTitle>\n            <FileText className=\"h-4 w-4 text-yellow-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-white\">{pendingSubmissions}</div>\n            <p className=\"text-xs text-gray-400\">Đang chờ kiểm duyệt</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-gray-800 border-gray-700\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">Bị từ chối</CardTitle>\n            <FileText className=\"h-4 w-4 text-red-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-white\">{rejectedSubmissions}</div>\n            <p className=\"text-xs text-gray-400\">Đã bị từ chối phát hành</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-gray-800 border-gray-700\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">Đang phát hành</CardTitle>\n            <Volume2 className=\"h-4 w-4 text-blue-400\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-white\">{inProgressSubmissions}</div>\n            <p className=\"text-xs text-gray-400\">Đang chờ ra mắt</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-gray-800 border-gray-700\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">Hoàn thành phát hành</CardTitle>\n            <Music className=\"h-4 w-4 text-pink-400\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-white\">{completedSubmissions}</div>\n            <p className=\"text-xs text-gray-400\">Đã hoàn thành phát hành</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-gray-800 border-gray-700\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">Tổng số track</CardTitle>\n            <Music className=\"h-4 w-4 text-blue-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-white\">{totalTracks}</div>\n            <p className=\"text-xs text-gray-400\">Các track đã gửi</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-gray-800 border-gray-700\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">Tổng file âm thanh</CardTitle>\n            <Music className=\"h-4 w-4 text-purple-400\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-white\">{totalAudios}</div>\n            <p className=\"text-xs text-gray-400\">Các file âm thanh đã gửi</p>\n          </CardContent>\n        </Card>\n      </div>\n\n      <Card className=\"mt-6 bg-gray-800 border border-gray-700\">\n        <CardHeader className=\"flex items-center justify-between\">\n          <div className=\"flex items-center\">\n            <Volume2 className=\"mr-3 text-purple-400 w-8 h-8\" />\n            <div>\n              <CardTitle className=\"text-white\">\n                {searchTerm ? \"Kết quả tìm kiếm\" : \"Danh sách submissions\"}\n              </CardTitle>\n              {searchTerm && (\n                <p className=\"text-xs text-gray-400 mt-1\">\n                  Tìm thấy {filteredDisplaySubmissions.length} kết quả cho &ldquo;{searchTerm}&rdquo;\n                </p>\n              )}\n            </div>\n          </div>\n          <Button\n            className=\"bg-purple-600 hover:bg-purple-700 text-white\"\n            onClick={() => onViewChange?.(\"upload\")}\n          >\n            <Upload className=\"h-4 w-4 mr-2\" />\n            Upload New Track\n          </Button>\n        </CardHeader>\n        <CardContent className=\"p-0\">\n          {filteredDisplaySubmissions.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <Music className=\"h-12 w-12 text-gray-600 mx-auto mb-4\" />\n              <p className=\"text-gray-400\">\n                {searchTerm ? \"Không tìm thấy submissions khớp với từ khóa\" : \"Không tìm thấy submissions nào\"}\n              </p>\n              <p className=\"text-sm text-gray-500 mt-2\">\n                {searchTerm ? \"Thử tìm với từ khóa khác\" : \"Tải lên bài hát đầu tiên của bạn để bắt đầu\"}\n              </p>\n              <Button\n                className=\"mt-4 bg-purple-600 hover:bg-purple-700 text-white\"\n                onClick={() => onViewChange?.(\"upload\")}\n              >\n                <Upload className=\"h-4 w-4 mr-2\" />\n                Upload Track\n              </Button>\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-700\">\n                <thead className=\"bg-gray-750\">\n                  <tr>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      ISRC\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      ID\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      Ảnh Bìa\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      Nghệ Sĩ\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      Tên Bài Hát\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      Audio\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      Ngày Gửi\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      Ngày Phát Hành\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      Trạng Thái\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-400 uppercase tracking-wider\">\n                      Hành Động\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-gray-800 divide-y divide-gray-700\">\n                    {filteredDisplaySubmissions.map((submission) => (\n                    <tr key={submission.id} className=\"hover:bg-gray-750 transition-colors duration-150\">\n                      <td className=\"px-4 py-3\">\n                        <span className=\"text-xs font-mono text-green-400\">{submission.isrc || \"N/A\"}</span>\n                      </td>\n                      <td className=\"px-4 py-3\">\n                        <span className=\"text-xs font-mono text-purple-400\">{submission.id}</span>\n                      </td>\n                      <td className=\"px-4 py-3\">\n                        <div className=\"flex items-center space-x-2\">\n                            <div className=\"relative h-10 w-10 overflow-hidden rounded-md border border-gray-600\">\n                              <Image\n                                src={\n                                  submission.artistName === \"Various Artist\"\n                                    ? \"/placeholders/various-artist.jpg\"\n                                    : (submission.imageUrl || \"/placeholders/default-cover.jpg\")\n                                }\n                                alt=\"Cover\"\n                                width={40}\n                                height={40}\n                                className=\"h-10 w-10 object-cover\"\n                                style={{ objectPosition: 'center' }}\n                                unoptimized={submission.imageUrl?.startsWith(\"data:\")}\n                                onError={(e) => {\n                                  // Fallback to default image if loading fails\n                                  const target = e.target as HTMLImageElement;\n                                  target.src = submission.artistName === \"Various Artist\"\n                                    ? \"/placeholders/various-artist.jpg\"\n                                    : \"/placeholders/default-cover.jpg\";\n                                }}\n                              />\n                            </div>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={() => handleDownloadImage(submission)}\n                            className=\"p-1\"\n                            title=\"Tải xuống ảnh bìa\"\n                          >\n                            <Download className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                      </td>\n                      <td className=\"px-4 py-3\">\n                        <span className=\"text-sm text-gray-200 font-medium\">{submission.artistName}</span>\n                      </td>\n                      <td className=\"px-4 py-3\">\n                        <span className=\"text-sm text-gray-300\">{submission.songTitle}</span>\n                        <p className=\"text-xs text-gray-500\">{submission.audioFilesCount} track(s)</p>\n                      </td>\n                      <td className=\"px-4 py-3\">\n                          <div className=\"flex flex-col gap-1\">\n                            {/* Nếu là album/ep có nhiều bài, hiển thị từng player */}\n                            {Array.isArray(submission.audioUrls) && submission.audioUrls.length > 0 ? (\n                              submission.audioUrls.map((url, idx) => (\n                                <div key={url} className=\"flex items-center space-x-2\">\n                                  <audio controls src={url} className=\"h-8\" preload=\"none\" style={{ maxWidth: 180 }} />\n                                  <span className=\"text-xs text-gray-400\">Track {idx + 1}</span>\n                                </div>\n                              ))\n                            ) : submission.audioUrl ? (\n                                <div className=\"flex items-center space-x-2\">\n                                  <audio controls src={submission.audioUrl} className=\"h-8\" preload=\"none\" style={{ maxWidth: 180 }} />\n                                  <span className=\"text-xs text-gray-400\">Single</span>\n                                </div>\n                            ) : (\n                                  <span className=\"text-xs text-gray-500\">Không có audio</span>\n                            )}\n                            <div className=\"flex items-center space-x-2 mt-1\">\n                              <Button\n                                variant=\"ghost\"\n                                size=\"sm\"\n                                onClick={() => handleDownloadAudio(submission)}\n                                className=\"p-1\"\n                                title=\"Tải xuống audio\"\n                              >\n                                <Download className=\"h-4 w-4\" />\n                              </Button>\n                            </div>\n                        </div>\n                      </td>\n                      <td className=\"px-4 py-3\">\n                          <span className=\"text-sm text-gray-400\">{formatDate(submission.submissionDate)}</span>\n                      </td>\n                      <td className=\"px-4 py-3\">\n                        <span className=\"text-sm text-gray-400\">\n                            {submission.releaseDate ? formatDate(submission.releaseDate) : \"N/A\"}\n                        </span>\n                      </td>\n                      <td className=\"px-4 py-3\">\n                          <span className={`status-badge ${getStatusColor(submission.status)}`}>\n                            {getStatusText(submission.status)}\n                          </span>\n                      </td>\n                      <td className=\"px-4 py-3 text-sm space-x-2 whitespace-nowrap\">\n                          {/* View button - everyone can view */}\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => handleViewDetails(submission.id)}\n                          className=\"text-xs\"\n                        >\n                          <Eye className=\"h-4 w-4 mr-1\" />\n                          Xem\n                          </Button>                        {/* Edit button - only for artists editing their own submissions in pending status, or label managers */}\n                          {(AuthorizationService.canEditSubmission(currentUser, {\n                            id: submission.id,\n                            track_title: submission.songTitle,\n                            artist_name: submission.artistName,\n                            user_id: submission.userId,\n                            genre: submission.mainCategory || 'pop',\n                            submission_date: submission.submissionDate,\n                            status: 'pending' // Default to pending for authorization check\n                          }).allowed) && (\n                              <Button\n                                variant=\"outline\"\n                                size=\"sm\"\n                                onClick={() => handleEditSubmission(submission)}\n                                className=\"text-xs text-blue-400 hover:text-blue-300\"\n                              >\n                                <Edit className=\"h-4 w-4 mr-1\" />\n                                Sửa\n                              </Button>\n                            )}\n\n                          {/* Delete button - only for label managers */}\n                          {AuthorizationService.canDeleteSubmission(currentUser).allowed && (\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => handleDeleteSubmission(submission.id)}\n                              className=\"text-xs text-red-400 hover:text-red-300\"\n                            >\n                              <Trash2 className=\"h-4 w-4 mr-1\" />\n                              Xóa\n                            </Button>\n                          )}\n\n                          {/* Approve/Reject buttons - only for label managers */}\n                          {AuthorizationService.canApproveRejectSubmission(currentUser).allowed && (\n                            <>\n                              <Button\n                                variant=\"outline\"\n                                size=\"sm\"\n                                onClick={() => handleApproveSubmission(submission.id)}\n                                className=\"text-xs text-green-400 hover:text-green-300\"\n                              >\n                                <CheckCircle className=\"h-4 w-4 mr-1\" />\n                                Duyệt\n                              </Button>\n                              <Button\n                                variant=\"outline\"\n                                size=\"sm\"\n                                onClick={() => handleRejectSubmission(submission.id)}\n                                className=\"text-xs text-red-400 hover:text-red-300\"\n                              >\n                                <XCircle className=\"h-4 w-4 mr-1\" />\n                                Hủy\n                              </Button>\n                            </>\n                          )}\n\n                          {/* Status selector for label managers */}\n                        {currentUser.role === \"Label Manager\" && (\n                          <Select\n                            value={submission.status}\n                            onValueChange={(newStatus) => onUpdateStatus(submission.id, newStatus)}\n                          >\n                            <SelectTrigger className=\"w-auto text-xs py-1.5 h-auto\">\n                              <SelectValue />\n                            </SelectTrigger>\n                            <SelectContent>\n                              {statuses.map((status) => (\n                                <SelectItem key={status} value={status} className=\"text-xs\">\n                                  {status}\n                                </SelectItem>\n                              ))}\n                            </SelectContent>\n                          </Select>\n                        )}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Card hiển thị phân tích theo thể loại */}\n      {Object.keys(submissionsByCategory).length > 0 && (\n        <Card className=\"bg-gray-800 border-gray-700 col-span-1 md:col-span-2 lg:col-span-4\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">Phân loại theo thể loại</CardTitle>\n            <FileText className=\"h-4 w-4 text-indigo-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex flex-wrap gap-2\">\n              {Object.entries(submissionsByCategory).map(([category, count]) => (\n                <div key={category} className=\"px-2 py-1 bg-gray-700 rounded-md text-xs\">\n                  <span className=\"font-semibold\">{getCategoryName(category)}</span>: {count}\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Card hiển thị phân tích theo nền tảng */}\n      {Object.keys(submissionsByPlatform).length > 0 && (\n        <Card className=\"bg-gray-800 border-gray-700 col-span-1 md:col-span-2 lg:col-span-4\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium text-gray-300\">Phân loại theo nền tảng</CardTitle>\n            <FileText className=\"h-4 w-4 text-orange-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex flex-wrap gap-2\">\n              {Object.entries(submissionsByPlatform).map(([platform, count]) => (\n                <div key={platform} className=\"px-2 py-1 bg-gray-700 rounded-md text-xs\">\n                  <span className=\"font-semibold\">{getPlatformName(platform)}</span>: {count}\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {selectedSubmission && (\n        <SubmissionDetailModal\n          isOpen={isDetailModalOpen}\n          onClose={() => setIsDetailModalOpen(false)}\n          submission={selectedSubmission}\n          onUpdateStatus={onUpdateStatus}\n          onUpdateSubmission={handleUpdateSubmission}\n          showModal={showModal}\n          isLabelManager={isLabelManager}\n          onDeleteSubmission={handleDeleteSubmission}\n        />\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAZA;;;;;;;;;;;;AAsBO,SAAS,gBAAgB,EAC9B,QAAQ,EACR,cAAc,EACd,SAAS,EACT,YAAY,EACZ,WAAW,EACoB;IAC/B,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IACpC,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAqB;IAChF,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3D,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,IAAI,sBAAsB;;IAEvE,IAAI,CAAC,aAAa;QAChB,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA2C;;;;;;kCACzD,8OAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;;;;;;IAIrC;IAEA,MAAM,qBACJ,aAAa,kBACT,YAAY,MAAM,CAAC,CAAC,MAAQ,IAAI,gBAAgB,KAAK,YAAY,QAAQ,IACzE;IAEN,wCAAwC;IACxC,MAAM,6BAA6B,mBAAmB,MAAM,CAAC,CAAA;QAC3D,IAAI,CAAC,YAAY,OAAO;QACxB,MAAM,aAAa,WAAW,WAAW;QAEzC,wDAAwD;QACxD,MAAM,eAAe,CAAC;YACpB,IAAI,UAAU,QAAQ,UAAU,WAAW,OAAO;YAClD,OAAO,OAAO,OAAO,WAAW,GAAG,QAAQ,CAAC;QAC9C;QAEA,OACE,aAAa,WAAW,UAAU,KAClC,aAAa,WAAW,SAAS,KACjC,aAAa,WAAW,SAAS,KACjC,aAAa,WAAW,EAAE,KAC1B,aAAa,WAAW,IAAI,KAC5B,aAAa,WAAW,MAAM;IAElC;IAEA,MAAM,oBAAoB,CAAC;QACzB,MAAM,aAAa,YAAY,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QACpD,IAAI,YAAY;YACd,sBAAsB;YACtB,qBAAqB;QACvB;IACF;IAEA,MAAM,sBAAsB,CAAC;QAC3B,IAAI,WAAW,QAAQ,IAAI,WAAW,QAAQ,CAAC,UAAU,CAAC,UAAU;YAClE,MAAM,OAAO,SAAS,aAAa,CAAC;YACpC,KAAK,IAAI,GAAG,WAAW,QAAQ;YAC/B,KAAK,QAAQ,GAAG,GAAG,WAAW,SAAS,CAAC,UAAU,CAAC;YACnD,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,KAAK,KAAK;YACV,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,UAAU,wBAAwB;gBAAC,CAAC,gBAAgB,EAAE,WAAW,SAAS,CAAC,CAAC,CAAC;aAAC,EAAE;QAClF,OAAO;YACL,UAAU,aAAa;gBAAC;aAA+B,EAAE;QAC3D;IACF;IAEA,MAAM,sBAAsB,CAAC;QAC3B,4DAA4D;QAC5D,UACE,mBACA;YACE,CAAC,kBAAkB,EAAE,WAAW,eAAe,CAAC,iBAAiB,EAAE,WAAW,SAAS,CAAC,6BAA6B,CAAC;SACvH,EACD;IAEJ;IAEA,uBAAuB;IACvB,MAAM,yBAAyB,OAAO;QACpC,IAAI;YACF,QAAQ,GAAG,CAAC,CAAC,oBAAoB,EAAE,cAAc;YAEjD,MAAM,WAAW,MAAM,MAAM,CAAC,iBAAiB,EAAE,cAAc,EAAE;gBAC/D,QAAQ;YACV;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,KAAK,OAAO,EAAE;gBAChB,8CAA8C;gBAC9C,+EAA+E;gBAC/E,UAAU,kBAAkB;oBAAC,CAAC,gBAAgB,EAAE,oBAAoB,aAAa,GAAG,YAAY,CAAC;iBAAC,EAAE;gBACpG,qBAAqB,QAAQ,aAAa;gBAC1C,sBAAsB,OAAO,yBAAyB;YACxD,OAAO;gBACL,UAAU,mBAAmB;oBAAC,KAAK,OAAO,IAAI;iBAAwB,EAAE;YAC1E;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,UAAU,mBAAmB;gBAAC;aAA0C,EAAE;QAC5E;IACF;IAEA,MAAM,WAAW;QACf;QACA;QACA;QACA;QACA;KACD;IAED,4EAA4E;IAC5E,MAAM,iBAAiB,YAAY,IAAI,KAAK;IAC5C,MAAM,sBAAsB,iBACxB,cACA,YAAY,MAAM,CAAC,CAAC,MAAQ,IAAI,gBAAgB,KAAK,YAAY,QAAQ;IAE7E,iCAAiC;IACjC,MAAM,mBAAmB,oBAAoB,MAAM;IAEnD,0HAA0H;IAC1H,MAAM,sBAAsB,oBAAoB,MAAM,CAAC,CAAC,MAAQ;YAC9D;YACA;YACA;SACD,CAAC,QAAQ,CAAC,IAAI,MAAM,GAAG,MAAM;IAE9B,mDAAmD;IACnD,MAAM,qBAAqB,oBAAoB,MAAM,CAAC,CAAC,MAAQ,IAAI,MAAM,KAAK,2BAA2B,MAAM;IAE/G,+DAA+D;IAC/D,MAAM,sBAAsB,oBAAoB,MAAM,CAAC,CAAC,MAAQ,IAAI,MAAM,KAAK,+BAA+B,MAAM;IAEpH,8DAA8D;IAC9D,MAAM,wBAAwB,oBAAoB,MAAM,CAAC,CAAC,MAAQ,IAAI,MAAM,KAAK,iCAAiC,MAAM;IAExH,4DAA4D;IAC5D,MAAM,uBAAuB,oBAAoB,MAAM,CAAC,CAAC,MAAQ,IAAI,MAAM,KAAK,yBAAyB,MAAM;IAE/G,6BAA6B;IAC7B,MAAM,cAAc,oBAAoB,MAAM,CAAC,CAAC,KAAK;QACnD,OAAO,MAAM,CAAC,MAAM,OAAO,CAAC,IAAI,UAAU,IAAI,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC;IACzE,GAAG;IAEH,0CAA0C;IAC1C,MAAM,cAAc,oBAAoB,MAAM,CAAC,CAAC,KAAK;QACnD,MAAM,aAAa,MAAM,OAAO,CAAC,IAAI,SAAS,IAC1C,IAAI,SAAS,CAAC,MAAM,GACnB,IAAI,QAAQ,GAAG,IAAI;QACxB,OAAO,MAAM;IACf,GAAG;IAEH,+CAA+C;IAC/C,MAAM,wBAAwB,oBAAoB,MAAM,CAAC,CAAC,KAAK;QAC7D,MAAM,WAAW,IAAI,YAAY,IAAI;QACrC,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE;YAClB,GAAG,CAAC,SAAS,GAAG;QAClB;QACA,GAAG,CAAC,SAAS;QACb,OAAO;IACT,GAAG,CAAC;IAEJ,+CAA+C;IAC/C,MAAM,wBAAwB,oBAAoB,MAAM,CAAC,CAAC,KAAK;QAC7D,IAAI,MAAM,OAAO,CAAC,IAAI,SAAS,GAAG;YAChC,IAAI,SAAS,CAAC,OAAO,CAAC,CAAA;gBACpB,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE;oBAClB,GAAG,CAAC,SAAS,GAAG;gBAClB;gBACA,GAAG,CAAC,SAAS;YACf;QACF;QACA,OAAO;IACT,GAAG,CAAC;IAEJ,4CAA4C;IAC5C,MAAM,aAAa,CAAC;QAClB,IAAI,CAAC,YAAY,OAAO;QACxB,IAAI;YACF,OAAO,IAAI,KAAK,YAAY,kBAAkB,CAAC,SAAS;gBACtD,MAAM;gBACN,OAAO;gBACP,KAAK;YACP;QACF,EAAE,OAAM;YACN,OAAO;QACT;IACF;IAEA,gDAAgD;IAChD,MAAM,kBAAkB,CAAC;QACvB,MAAM,gBAAwC;YAC5C,OAAO;YACP,qBAAqB;YACrB,aAAa;YACb,OAAO;YACP,OAAO;YACP,UAAU;YACV,YAAY;YACZ,SAAS;YACT,cAAc;QAChB;QACA,OAAO,aAAa,CAAC,aAAa,IAAI;IACxC;IAEA,gDAAgD;IAChD,MAAM,kBAAkB,CAAC;QACvB,MAAM,gBAAwC;YAC5C,WAAW;YACX,WAAW;YACX,eAAe;YACf,cAAc;YACd,kBAAkB;QACpB;QACA,OAAO,aAAa,CAAC,aAAa,IAAI;IACxC;IAEA,kEAAkE;IAClE,MAAM,yBAAyB,OAAO,cAAsB;QAC1D,IAAI;YACF,QAAQ,GAAG,CAAC,CAAC,8BAA8B,EAAE,aAAa,CAAC,CAAC,EAAE;YAE9D,+DAA+D;YAC/D,MAAM,aAAa;gBACjB,KAAK,YAAY,GAAG;gBACpB,kBAAkB,YAAY,gBAAgB;YAChD;YAEA,MAAM,WAAW,MAAM,MAAM,CAAC,iBAAiB,EAAE,cAAc,EAAE;gBAC/D,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,MAAM,IAAI,MAAM,CAAC,WAAW,EAAE,SAAS,MAAM,CAAC,EAAE,EAAE,WAAW;YAC/D;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,KAAK,OAAO,EAAE;gBAChB,4CAA4C;gBAC5C,+FAA+F;gBAE/F,gDAAgD;gBAChD,IAAI,sBAAsB,mBAAmB,EAAE,KAAK,cAAc;oBAChE,sBAAsB;wBAAE,GAAG,kBAAkB;wBAAE,GAAG,UAAU;oBAAC;gBAC/D;gBAEA,UAAU,uBAAuB;oBAAC;iBAAkD,EAAE;YACxF,OAAO;gBACL,UAAU,gBAAgB;oBAAC,KAAK,KAAK,IAAI;iBAA+B,EAAE;YAC5E;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YAC9D,UAAU,gBAAgB;gBAAC;aAAa,EAAE;QAC5C;IACF;IAEA,wDAAwD;IACxD,MAAM,uBAAuB,CAAC;QAC5B,mDAAmD;QACnD,yDAAyD;QACzD,sBAAsB;QACtB,qBAAqB;QACrB,UAAU,qBAAqB;YAAC,CAAC,uBAAuB,EAAE,WAAW,SAAS,CAAC,CAAC,CAAC;SAAC,EAAE;IACtF;IAEA,MAAM,0BAA0B,OAAO;QACrC,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,mCAAmC;gBAC9D,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB;oBACA,QAAQ;gBACV;YACF;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,KAAK,OAAO,EAAE;gBAChB,uCAAuC;gBACvC,eAAe,cAAc;gBAC7B,UAAU,oBAAoB;oBAAC;iBAAwB,EAAE;YAC3D,OAAO;gBACL,UAAU,iBAAiB;oBAAC,KAAK,OAAO,IAAI;iBAA0B,EAAE;YAC1E;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,UAAU,iBAAiB;gBAAC;aAAkC,EAAE;QAClE;IACF;IAEA,MAAM,yBAAyB,OAAO;QACpC,uFAAuF;QACvF,MAAM,UAAU,OAAO;QAEvB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,mCAAmC;gBAC9D,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB;oBACA,QAAQ;oBACR,SAAS,WAAW;gBACtB;YACF;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,KAAK,OAAO,EAAE;gBAChB,uCAAuC;gBACvC,eAAe,cAAc;gBAC7B,UAAU,sBAAsB;oBAAC;iBAAwB,EAAE;YAC7D,OAAO;gBACL,UAAU,mBAAmB;oBAAC,KAAK,OAAO,IAAI;iBAA4B,EAAE;YAC9E;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,UAAU,mBAAmB;gBAAC;aAAoC,EAAE;QACtE;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAwC;;;;;;0CACtD,8OAAC;gCAAE,WAAU;0CAAgB;;;;;;;;;;;;kCAE/B,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,MAAK;oCACL,aAAY;oCACZ,WAAU;oCACV,OAAO;oCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;8CAE/C,8OAAC;oCACC,WAAU;oCACV,SAAS,IAAM,cAAc;8CAE5B,aAAa,MAAM;;;;;;;;;;;;;;;;;;;;;;;0BAM5B,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,yHAAA,CAAA,OAAI;wBAAC,WAAU;;0CACd,8OAAC,yHAAA,CAAA,aAAU;gCAAC,WAAU;;kDACpB,8OAAC,yHAAA,CAAA,YAAS;wCAAC,WAAU;kDAAoC;;;;;;kDACzD,8OAAC,8MAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAEtB,8OAAC,yHAAA,CAAA,cAAW;;kDACV,8OAAC;wCAAI,WAAU;kDAAiC;;;;;;kDAChD,8OAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;;;;;;;kCAIzC,8OAAC,yHAAA,CAAA,OAAI;wBAAC,WAAU;;0CACd,8OAAC,yHAAA,CAAA,aAAU;gCAAC,WAAU;;kDACpB,8OAAC,yHAAA,CAAA,YAAS;wCAAC,WAAU;kDAAoC;;;;;;kDACzD,8OAAC,oMAAA,CAAA,QAAK;wCAAC,WAAU;;;;;;;;;;;;0CAEnB,8OAAC,yHAAA,CAAA,cAAW;;kDACV,8OAAC;wCAAI,WAAU;kDAAiC;;;;;;kDAChD,8OAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;;;;;;;kCAIzC,8OAAC,yHAAA,CAAA,OAAI;wBAAC,WAAU;;0CACd,8OAAC,yHAAA,CAAA,aAAU;gCAAC,WAAU;;kDACpB,8OAAC,yHAAA,CAAA,YAAS;wCAAC,WAAU;kDAAoC;;;;;;kDACzD,8OAAC,8MAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAEtB,8OAAC,yHAAA,CAAA,cAAW;;kDACV,8OAAC;wCAAI,WAAU;kDAAiC;;;;;;kDAChD,8OAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;;;;;;;kCAIzC,8OAAC,yHAAA,CAAA,OAAI;wBAAC,WAAU;;0CACd,8OAAC,yHAAA,CAAA,aAAU;gCAAC,WAAU;;kDACpB,8OAAC,yHAAA,CAAA,YAAS;wCAAC,WAAU;kDAAoC;;;;;;kDACzD,8OAAC,8MAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAEtB,8OAAC,yHAAA,CAAA,cAAW;;kDACV,8OAAC;wCAAI,WAAU;kDAAiC;;;;;;kDAChD,8OAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;;;;;;;kCAIzC,8OAAC,yHAAA,CAAA,OAAI;wBAAC,WAAU;;0CACd,8OAAC,yHAAA,CAAA,aAAU;gCAAC,WAAU;;kDACpB,8OAAC,yHAAA,CAAA,YAAS;wCAAC,WAAU;kDAAoC;;;;;;kDACzD,8OAAC,4MAAA,CAAA,UAAO;wCAAC,WAAU;;;;;;;;;;;;0CAErB,8OAAC,yHAAA,CAAA,cAAW;;kDACV,8OAAC;wCAAI,WAAU;kDAAiC;;;;;;kDAChD,8OAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;;;;;;;kCAIzC,8OAAC,yHAAA,CAAA,OAAI;wBAAC,WAAU;;0CACd,8OAAC,yHAAA,CAAA,aAAU;gCAAC,WAAU;;kDACpB,8OAAC,yHAAA,CAAA,YAAS;wCAAC,WAAU;kDAAoC;;;;;;kDACzD,8OAAC,oMAAA,CAAA,QAAK;wCAAC,WAAU;;;;;;;;;;;;0CAEnB,8OAAC,yHAAA,CAAA,cAAW;;kDACV,8OAAC;wCAAI,WAAU;kDAAiC;;;;;;kDAChD,8OAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;;;;;;;kCAIzC,8OAAC,yHAAA,CAAA,OAAI;wBAAC,WAAU;;0CACd,8OAAC,yHAAA,CAAA,aAAU;gCAAC,WAAU;;kDACpB,8OAAC,yHAAA,CAAA,YAAS;wCAAC,WAAU;kDAAoC;;;;;;kDACzD,8OAAC,oMAAA,CAAA,QAAK;wCAAC,WAAU;;;;;;;;;;;;0CAEnB,8OAAC,yHAAA,CAAA,cAAW;;kDACV,8OAAC;wCAAI,WAAU;kDAAiC;;;;;;kDAChD,8OAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;;;;;;;kCAIzC,8OAAC,yHAAA,CAAA,OAAI;wBAAC,WAAU;;0CACd,8OAAC,yHAAA,CAAA,aAAU;gCAAC,WAAU;;kDACpB,8OAAC,yHAAA,CAAA,YAAS;wCAAC,WAAU;kDAAoC;;;;;;kDACzD,8OAAC,oMAAA,CAAA,QAAK;wCAAC,WAAU;;;;;;;;;;;;0CAEnB,8OAAC,yHAAA,CAAA,cAAW;;kDACV,8OAAC;wCAAI,WAAU;kDAAiC;;;;;;kDAChD,8OAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;;;;;;;;;;;;;0BAK3C,8OAAC,yHAAA,CAAA,OAAI;gBAAC,WAAU;;kCACd,8OAAC,yHAAA,CAAA,aAAU;wBAAC,WAAU;;0CACpB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,4MAAA,CAAA,UAAO;wCAAC,WAAU;;;;;;kDACnB,8OAAC;;0DACC,8OAAC,yHAAA,CAAA,YAAS;gDAAC,WAAU;0DAClB,aAAa,qBAAqB;;;;;;4CAEpC,4BACC,8OAAC;gDAAE,WAAU;;oDAA6B;oDAC9B,2BAA2B,MAAM;oDAAC;oDAAqB;oDAAW;;;;;;;;;;;;;;;;;;;0CAKpF,8OAAC,2HAAA,CAAA,SAAM;gCACL,WAAU;gCACV,SAAS,IAAM,eAAe;;kDAE9B,8OAAC,sMAAA,CAAA,SAAM;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;;;;;;;kCAIvC,8OAAC,yHAAA,CAAA,cAAW;wBAAC,WAAU;kCACpB,2BAA2B,MAAM,KAAK,kBACrC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,oMAAA,CAAA,QAAK;oCAAC,WAAU;;;;;;8CACjB,8OAAC;oCAAE,WAAU;8CACV,aAAa,gDAAgD;;;;;;8CAEhE,8OAAC;oCAAE,WAAU;8CACV,aAAa,6BAA6B;;;;;;8CAE7C,8OAAC,2HAAA,CAAA,SAAM;oCACL,WAAU;oCACV,SAAS,IAAM,eAAe;;sDAE9B,8OAAC,sMAAA,CAAA,SAAM;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;;;;;;iDAKvC,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAM,WAAU;;kDACf,8OAAC;wCAAM,WAAU;kDACf,cAAA,8OAAC;;8DACC,8OAAC;oDAAG,WAAU;8DAAmF;;;;;;8DAGjG,8OAAC;oDAAG,WAAU;8DAAmF;;;;;;8DAGjG,8OAAC;oDAAG,WAAU;8DAAmF;;;;;;8DAGjG,8OAAC;oDAAG,WAAU;8DAAmF;;;;;;8DAGjG,8OAAC;oDAAG,WAAU;8DAAmF;;;;;;8DAGjG,8OAAC;oDAAG,WAAU;8DAAmF;;;;;;8DAGjG,8OAAC;oDAAG,WAAU;8DAAmF;;;;;;8DAGjG,8OAAC;oDAAG,WAAU;8DAAmF;;;;;;8DAGjG,8OAAC;oDAAG,WAAU;8DAAmF;;;;;;8DAGjG,8OAAC;oDAAG,WAAU;8DAAmF;;;;;;;;;;;;;;;;;kDAKrG,8OAAC;wCAAM,WAAU;kDACZ,2BAA2B,GAAG,CAAC,CAAC,2BACjC,8OAAC;gDAAuB,WAAU;;kEAChC,8OAAC;wDAAG,WAAU;kEACZ,cAAA,8OAAC;4DAAK,WAAU;sEAAoC,WAAW,IAAI,IAAI;;;;;;;;;;;kEAEzE,8OAAC;wDAAG,WAAU;kEACZ,cAAA,8OAAC;4DAAK,WAAU;sEAAqC,WAAW,EAAE;;;;;;;;;;;kEAEpE,8OAAC;wDAAG,WAAU;kEACZ,cAAA,8OAAC;4DAAI,WAAU;;8EACX,8OAAC;oEAAI,WAAU;8EACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;wEACJ,KACE,WAAW,UAAU,KAAK,mBACtB,qCACC,WAAW,QAAQ,IAAI;wEAE9B,KAAI;wEACJ,OAAO;wEACP,QAAQ;wEACR,WAAU;wEACV,OAAO;4EAAE,gBAAgB;wEAAS;wEAClC,aAAa,WAAW,QAAQ,EAAE,WAAW;wEAC7C,SAAS,CAAC;4EACR,6CAA6C;4EAC7C,MAAM,SAAS,EAAE,MAAM;4EACvB,OAAO,GAAG,GAAG,WAAW,UAAU,KAAK,mBACnC,qCACA;wEACN;;;;;;;;;;;8EAGN,8OAAC,2HAAA,CAAA,SAAM;oEACL,SAAQ;oEACR,MAAK;oEACL,SAAS,IAAM,oBAAoB;oEACnC,WAAU;oEACV,OAAM;8EAEN,cAAA,8OAAC,0MAAA,CAAA,WAAQ;wEAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;kEAI1B,8OAAC;wDAAG,WAAU;kEACZ,cAAA,8OAAC;4DAAK,WAAU;sEAAqC,WAAW,UAAU;;;;;;;;;;;kEAE5E,8OAAC;wDAAG,WAAU;;0EACZ,8OAAC;gEAAK,WAAU;0EAAyB,WAAW,SAAS;;;;;;0EAC7D,8OAAC;gEAAE,WAAU;;oEAAyB,WAAW,eAAe;oEAAC;;;;;;;;;;;;;kEAEnE,8OAAC;wDAAG,WAAU;kEACV,cAAA,8OAAC;4DAAI,WAAU;;gEAEZ,MAAM,OAAO,CAAC,WAAW,SAAS,KAAK,WAAW,SAAS,CAAC,MAAM,GAAG,IACpE,WAAW,SAAS,CAAC,GAAG,CAAC,CAAC,KAAK,oBAC7B,8OAAC;wEAAc,WAAU;;0FACvB,8OAAC;gFAAM,QAAQ;gFAAC,KAAK;gFAAK,WAAU;gFAAM,SAAQ;gFAAO,OAAO;oFAAE,UAAU;gFAAI;;;;;;0FAChF,8OAAC;gFAAK,WAAU;;oFAAwB;oFAAO,MAAM;;;;;;;;uEAF7C;;;;gFAKV,WAAW,QAAQ,iBACnB,8OAAC;oEAAI,WAAU;;sFACb,8OAAC;4EAAM,QAAQ;4EAAC,KAAK,WAAW,QAAQ;4EAAE,WAAU;4EAAM,SAAQ;4EAAO,OAAO;gFAAE,UAAU;4EAAI;;;;;;sFAChG,8OAAC;4EAAK,WAAU;sFAAwB;;;;;;;;;;;yFAGxC,8OAAC;oEAAK,WAAU;8EAAwB;;;;;;8EAE9C,8OAAC;oEAAI,WAAU;8EACb,cAAA,8OAAC,2HAAA,CAAA,SAAM;wEACL,SAAQ;wEACR,MAAK;wEACL,SAAS,IAAM,oBAAoB;wEACnC,WAAU;wEACV,OAAM;kFAEN,cAAA,8OAAC,0MAAA,CAAA,WAAQ;4EAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;kEAK9B,8OAAC;wDAAG,WAAU;kEACV,cAAA,8OAAC;4DAAK,WAAU;sEAAyB,WAAW,WAAW,cAAc;;;;;;;;;;;kEAEjF,8OAAC;wDAAG,WAAU;kEACZ,cAAA,8OAAC;4DAAK,WAAU;sEACX,WAAW,WAAW,GAAG,WAAW,WAAW,WAAW,IAAI;;;;;;;;;;;kEAGrE,8OAAC;wDAAG,WAAU;kEACV,cAAA,8OAAC;4DAAK,WAAW,CAAC,aAAa,EAAE,CAAA,GAAA,mHAAA,CAAA,iBAAc,AAAD,EAAE,WAAW,MAAM,GAAG;sEACjE,CAAA,GAAA,mHAAA,CAAA,gBAAa,AAAD,EAAE,WAAW,MAAM;;;;;;;;;;;kEAGtC,8OAAC;wDAAG,WAAU;;0EAEZ,8OAAC,2HAAA,CAAA,SAAM;gEACL,SAAQ;gEACR,MAAK;gEACL,SAAS,IAAM,kBAAkB,WAAW,EAAE;gEAC9C,WAAU;;kFAEV,8OAAC,gMAAA,CAAA,MAAG;wEAAC,WAAU;;;;;;oEAAiB;;;;;;;4DAEvB;4DACP,+HAAA,CAAA,uBAAoB,CAAC,iBAAiB,CAAC,aAAa;gEACpD,IAAI,WAAW,EAAE;gEACjB,aAAa,WAAW,SAAS;gEACjC,aAAa,WAAW,UAAU;gEAClC,SAAS,WAAW,MAAM;gEAC1B,OAAO,WAAW,YAAY,IAAI;gEAClC,iBAAiB,WAAW,cAAc;gEAC1C,QAAQ,UAAU,6CAA6C;4DACjE,GAAG,OAAO,kBACN,8OAAC,2HAAA,CAAA,SAAM;gEACL,SAAQ;gEACR,MAAK;gEACL,SAAS,IAAM,qBAAqB;gEACpC,WAAU;;kFAEV,8OAAC,2MAAA,CAAA,OAAI;wEAAC,WAAU;;;;;;oEAAiB;;;;;;;4DAMtC,+HAAA,CAAA,uBAAoB,CAAC,mBAAmB,CAAC,aAAa,OAAO,kBAC5D,8OAAC,2HAAA,CAAA,SAAM;gEACL,SAAQ;gEACR,MAAK;gEACL,SAAS,IAAM,uBAAuB,WAAW,EAAE;gEACnD,WAAU;;kFAEV,8OAAC,0MAAA,CAAA,SAAM;wEAAC,WAAU;;;;;;oEAAiB;;;;;;;4DAMtC,+HAAA,CAAA,uBAAoB,CAAC,0BAA0B,CAAC,aAAa,OAAO,kBACnE;;kFACE,8OAAC,2HAAA,CAAA,SAAM;wEACL,SAAQ;wEACR,MAAK;wEACL,SAAS,IAAM,wBAAwB,WAAW,EAAE;wEACpD,WAAU;;0FAEV,8OAAC,oNAAA,CAAA,cAAW;gFAAC,WAAU;;;;;;4EAAiB;;;;;;;kFAG1C,8OAAC,2HAAA,CAAA,SAAM;wEACL,SAAQ;wEACR,MAAK;wEACL,SAAS,IAAM,uBAAuB,WAAW,EAAE;wEACnD,WAAU;;0FAEV,8OAAC,4MAAA,CAAA,UAAO;gFAAC,WAAU;;;;;;4EAAiB;;;;;;;;;4DAO3C,YAAY,IAAI,KAAK,iCACpB,8OAAC,2HAAA,CAAA,SAAM;gEACL,OAAO,WAAW,MAAM;gEACxB,eAAe,CAAC,YAAc,eAAe,WAAW,EAAE,EAAE;;kFAE5D,8OAAC,2HAAA,CAAA,gBAAa;wEAAC,WAAU;kFACvB,cAAA,8OAAC,2HAAA,CAAA,cAAW;;;;;;;;;;kFAEd,8OAAC,2HAAA,CAAA,gBAAa;kFACX,SAAS,GAAG,CAAC,CAAC,uBACb,8OAAC,2HAAA,CAAA,aAAU;gFAAc,OAAO;gFAAQ,WAAU;0FAC/C;+EADc;;;;;;;;;;;;;;;;;;;;;;;+CA5KpB,WAAW,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YA8LnC,OAAO,IAAI,CAAC,uBAAuB,MAAM,GAAG,mBAC3C,8OAAC,yHAAA,CAAA,OAAI;gBAAC,WAAU;;kCACd,8OAAC,yHAAA,CAAA,aAAU;wBAAC,WAAU;;0CACpB,8OAAC,yHAAA,CAAA,YAAS;gCAAC,WAAU;0CAAoC;;;;;;0CACzD,8OAAC,8MAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;;;;;;;kCAEtB,8OAAC,yHAAA,CAAA,cAAW;kCACV,cAAA,8OAAC;4BAAI,WAAU;sCACZ,OAAO,OAAO,CAAC,uBAAuB,GAAG,CAAC,CAAC,CAAC,UAAU,MAAM,iBAC3D,8OAAC;oCAAmB,WAAU;;sDAC5B,8OAAC;4CAAK,WAAU;sDAAiB,gBAAgB;;;;;;wCAAiB;wCAAG;;mCAD7D;;;;;;;;;;;;;;;;;;;;;YAUnB,OAAO,IAAI,CAAC,uBAAuB,MAAM,GAAG,mBAC3C,8OAAC,yHAAA,CAAA,OAAI;gBAAC,WAAU;;kCACd,8OAAC,yHAAA,CAAA,aAAU;wBAAC,WAAU;;0CACpB,8OAAC,yHAAA,CAAA,YAAS;gCAAC,WAAU;0CAAoC;;;;;;0CACzD,8OAAC,8MAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;;;;;;;kCAEtB,8OAAC,yHAAA,CAAA,cAAW;kCACV,cAAA,8OAAC;4BAAI,WAAU;sCACZ,OAAO,OAAO,CAAC,uBAAuB,GAAG,CAAC,CAAC,CAAC,UAAU,MAAM,iBAC3D,8OAAC;oCAAmB,WAAU;;sDAC5B,8OAAC;4CAAK,WAAU;sDAAiB,gBAAgB;;;;;;wCAAiB;wCAAG;;mCAD7D;;;;;;;;;;;;;;;;;;;;;YASnB,oCACC,8OAAC,sJAAA,CAAA,wBAAqB;gBACpB,QAAQ;gBACR,SAAS,IAAM,qBAAqB;gBACpC,YAAY;gBACZ,gBAAgB;gBAChB,oBAAoB;gBACpB,WAAW;gBACX,gBAAgB;gBAChB,oBAAoB;;;;;;;;;;;;AAK9B","debugId":null}}]
}