{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///F:/studio.ankun/components/views/dashboard-view.tsx"],"sourcesContent":["// Tôi là An Kun \n// Hỗ trợ dự án, Copilot, Gemini\n// Tác giả kiêm xuất bản bởi An Kun Studio Digital Music\n\n\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Music, Upload, FileText, Users } from \"lucide-react\"\nimport { QuickDebug } from \"@/components/quick-debug\"\nimport { APIDebugger } from \"@/components/api-debugger\"\n\ninterface DashboardStats {\n    totalSubmissions: number\n    totalTracks: number\n    totalArtists: number\n}\n\nexport function DashboardView({ onViewChange }: { readonly onViewChange?: (view: string) => void }) {\n    const [stats, setStats] = useState<DashboardStats>({\n        totalSubmissions: 0,\n        totalTracks: 0,\n        totalArtists: 0\n    })\n    const [loading, setLoading] = useState(true)\n\n    useEffect(() => {\n        const fetchStats = async () => {\n            try {\n                setLoading(true)\n\n                // Fetch submissions with error handling\n                let submissionsData = { success: false, count: 0 }\n                try {\n                    const submissionsResponse = await fetch('/api/submissions')\n                    if (submissionsResponse.ok) {\n                        submissionsData = await submissionsResponse.json()\n                    } else {\n                        console.warn('Submissions API returned:', submissionsResponse.status)\n                    }\n                } catch (submissionsError) {\n                    console.error('Failed to fetch submissions:', submissionsError)\n                }\n\n                // Fetch artists with error handling\n                let artistsData = { success: false, count: 0 }\n                try {\n                    const artistsResponse = await fetch('/api/artists')\n                    if (artistsResponse.ok) {\n                        artistsData = await artistsResponse.json()\n                    } else {\n                        console.warn('Artists API returned:', artistsResponse.status)\n                    }\n                } catch (artistsError) {\n                    console.error('Failed to fetch artists:', artistsError)\n                }\n\n                // Update stats even if some fetches failed\n                const newStats = {\n                    totalSubmissions: submissionsData.success ? (submissionsData.count ?? 0) : 0,\n                    totalTracks: submissionsData.success ? (submissionsData.count ?? 0) : 0,\n                    totalArtists: artistsData.success ? (artistsData.count ?? 0) : 0\n                }\n\n                setStats(newStats)\n\n            } catch (error) {\n                console.error('Failed to fetch dashboard stats:', error)\n                // Set default values on error\n                setStats({\n                    totalSubmissions: 0,\n                    totalTracks: 0,\n                    totalArtists: 0\n                })\n            } finally {\n                setLoading(false)\n            }\n        }\n\n        fetchStats()\n    }, [])\n    return (\n        <div className=\"pt-4 p-6 pb-20 bg-background transition-all duration-300\">\n            {/* API Debug Tool */}\n            <QuickDebug />\n\n            {/* Welcome Header - Simplified */}\n            <div className=\"mb-8 bg-card rounded-lg shadow-sm p-6 border\">\n                <div className=\"text-center\">\n                    <h1 className=\"text-3xl font-bold text-foreground mb-2\">\n                        Dashboard - Nền tảng phân phối nhạc số\n                    </h1>\n                    <p className=\"text-muted-foreground\">\n                        Quản lý và theo dõi các bản phát hành âm nhạc của bạn\n                    </p>\n                </div>\n            </div>\n\n            {/* Statistics Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n                <Card className=\"bg-gradient-to-br from-purple-500 to-pink-500 text-white border-0 shadow-lg hover:shadow-xl transition-shadow\">\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                        <CardTitle className=\"text-sm font-medium opacity-90\">Tổng Submissions</CardTitle>\n                        <FileText className=\"h-5 w-5 opacity-80\" />\n                    </CardHeader>\n                    <CardContent>\n                        <div className=\"text-3xl font-bold\">{loading ? \"...\" : stats.totalSubmissions}</div>\n                        <p className=\"text-xs opacity-80 mt-1\">\n                            {stats.totalSubmissions === 0 ? \"Chưa có submission nào\" : `${stats.totalSubmissions} submissions`}\n                        </p>\n                    </CardContent>\n                </Card>\n\n                <Card className=\"bg-gradient-to-br from-blue-500 to-cyan-500 text-white border-0 shadow-lg hover:shadow-xl transition-shadow\">\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                        <CardTitle className=\"text-sm font-medium opacity-90\">Tracks Đã Phát Hành</CardTitle>\n                        <Music className=\"h-5 w-5 opacity-80\" />\n                    </CardHeader>\n                    <CardContent>\n                        <div className=\"text-3xl font-bold\">{loading ? \"...\" : stats.totalTracks}</div>\n                        <p className=\"text-xs opacity-80 mt-1\">\n                            {stats.totalTracks === 0 ? \"Chưa có track nào\" : \"Sẵn sàng phát hành\"}\n                        </p>\n                    </CardContent>\n                </Card>\n\n                <Card className=\"bg-gradient-to-br from-green-500 to-emerald-500 text-white border-0 shadow-lg hover:shadow-xl transition-shadow\">\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                        <CardTitle className=\"text-sm font-medium opacity-90\">Upload Nhanh</CardTitle>\n                        <Upload className=\"h-5 w-5 opacity-80\" />\n                    </CardHeader>\n                    <CardContent>\n                        <div className=\"text-3xl font-bold\">Sẵn Sàng</div>\n                        <p className=\"text-xs opacity-80 mt-1\">Tải nhạc lên ngay</p>\n                    </CardContent>\n                </Card>\n\n                <Card className=\"bg-gradient-to-br from-orange-500 to-red-500 text-white border-0 shadow-lg hover:shadow-xl transition-shadow\">\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                        <CardTitle className=\"text-sm font-medium opacity-90\">Nghệ Sĩ</CardTitle>\n                        <Users className=\"h-5 w-5 opacity-80\" />\n                    </CardHeader>\n                    <CardContent>\n                        <div className=\"text-3xl font-bold\">{loading ? \"...\" : stats.totalArtists}</div>\n                        <p className=\"text-xs opacity-80 mt-1\">Nghệ sĩ đang hoạt động</p>\n                    </CardContent>\n                </Card>\n            </div>\n\n            {/* Main Content Cards */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                <Card className=\"shadow-sm border\">\n                    <CardHeader className=\"border-b\">\n                        <CardTitle className=\"text-foreground flex items-center space-x-2\">\n                            <FileText className=\"h-5 w-5 text-primary\" />\n                            <span>Hoạt Động Gần Đây</span>\n                        </CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"p-6\">\n                        <div className=\"text-center py-12 text-muted-foreground\">\n                            <div className=\"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4\">\n                                <FileText className=\"h-8 w-8 text-muted-foreground\" />\n                            </div>\n                            <h3 className=\"font-medium text-foreground mb-2\">Chưa có hoạt động nào</h3>\n                            <p className=\"text-sm text-muted-foreground mb-4\">\n                                Tải lên track đầu tiên để bắt đầu!\n                            </p>\n                            <button\n                                className=\"px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm hover:bg-primary/90 transition-colors\"\n                                onClick={() => onViewChange?.(\"upload\")}\n                            >\n                                Bắt Đầu Upload\n                            </button>\n                        </div>\n                    </CardContent>\n                </Card>\n\n                <Card className=\"shadow-sm border\">\n                    <CardHeader className=\"border-b\">\n                        <CardTitle className=\"text-foreground flex items-center space-x-2\">\n                            <div className=\"w-3 h-3 bg-green-500 rounded-full\"></div>\n                            <span>Trạng Thái Hệ Thống</span>\n                        </CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"p-6\">\n                        <div className=\"space-y-4\">\n                            <div className=\"flex items-center justify-between p-3 bg-green-500/10 rounded-lg\">\n                                <div className=\"flex items-center space-x-3\">\n                                    <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n                                    <span className=\"font-medium text-foreground\">Nền Tảng</span>\n                                </div>\n                                <span className=\"text-sm text-green-600 font-medium\">Trực Tuyến</span>\n                            </div>\n\n                            <div className=\"flex items-center justify-between p-3 bg-green-500/10 rounded-lg\">\n                                <div className=\"flex items-center space-x-3\">\n                                    <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n                                    <span className=\"font-medium text-foreground\">Dịch Vụ Upload</span>\n                                </div>\n                                <span className=\"text-sm text-green-600 font-medium\">Sẵn Sàng</span>\n                            </div>\n\n                            <div className=\"flex items-center justify-between p-3 bg-yellow-500/10 rounded-lg\">\n                                <div className=\"flex items-center space-x-3\">\n                                    <div className=\"w-2 h-2 bg-yellow-500 rounded-full\"></div>\n                                    <span className=\"font-medium text-foreground\">Phân Phối</span>\n                                </div>\n                                <span className=\"text-sm text-yellow-600 font-medium\">Chế Độ Demo</span>\n                            </div>\n                        </div>\n                    </CardContent>\n                </Card>\n            </div>\n\n            {/* API Debugger - Temporary */}\n            <div className=\"mt-8\">\n                <Card>\n                    <CardHeader>\n                        <CardTitle>🔧 API Debug Tool</CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                        <APIDebugger />\n                    </CardContent>\n                </Card>\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 697, "column": 0}, "map": {"version":3,"sources":["file:///F:/studio.ankun/components/views/my-profile-view.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport { User, Mail, Calendar, Shield, Copy, Sparkles } from \"lucide-react\"\nimport { AwesomeIcon } from \"@/components/ui/awesome-icon\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { useAuth } from \"@/components/auth-provider\"\nimport Image from \"next/image\"\n\ninterface MyProfileViewProps {\n  showModal: (title: string, message: string, type?: \"success\" | \"error\") => void\n}\n\nexport function MyProfileView({ showModal }: MyProfileViewProps) {\n  const { user: currentUser, login } = useAuth();\n\n  const [formData, setFormData] = useState({\n    username: \"\",\n    fullName: \"\",\n    email: \"\",\n    bio: \"\",\n    avatar: \"\",\n    socialLinks: {\n      facebook: \"\",\n      youtube: \"\",\n      spotify: \"\",\n      appleMusic: \"\",\n      tiktok: \"\",\n      instagram: \"\",\n    },\n  });\n  // No need to store the File object since we're uploading immediately\n  const [avatarPreview, setAvatarPreview] = useState(\"/face.png\");\n\n  // Initialize form data when user data is available\n  useEffect(() => {\n    if (currentUser) {\n      setFormData({\n        username: currentUser.username || \"\",\n        fullName: currentUser.fullName || \"\",\n        email: currentUser.email || \"\",\n        bio: currentUser.bio || \"\",\n        avatar: currentUser.avatar || \"/face.png\",\n        socialLinks: {\n          facebook: currentUser.socialLinks?.facebook || \"\",\n          youtube: currentUser.socialLinks?.youtube || \"\",\n          spotify: currentUser.socialLinks?.spotify || \"\",\n          appleMusic: currentUser.socialLinks?.appleMusic || \"\",\n          tiktok: currentUser.socialLinks?.tiktok || \"\",\n          instagram: currentUser.socialLinks?.instagram || \"\",\n        },\n      });\n      setAvatarPreview(currentUser.avatar || \"/face.png\");\n    }\n  }, [currentUser]);\n\n  if (!currentUser) {\n    return (\n      <div className=\"p-6 min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-xl font-semibold text-gray-700 mb-2\">Đang tải thông tin</h2>\n          <p className=\"text-gray-500\">Vui lòng chờ trong giây lát...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const handleInputChange = (field: string, value: string) => {\n    if (field.startsWith(\"socialLinks.\")) {\n      const socialField = field.replace(\"socialLinks.\", \"\")\n      // Sử dụng normalizeInputValues để chuẩn hóa giá trị social links\n      const normalizedValue = normalizeInputValues(socialField, value)\n      setFormData((prev) => ({\n        ...prev,\n        socialLinks: {\n          ...prev.socialLinks,\n          [socialField]: normalizedValue,\n        },\n      }))\n    } else {\n      setFormData((prev) => ({ ...prev, [field]: value }))\n    }\n  }\n\n  const handleAvatarChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (file) {\n      // Chỉ validate loại file, không giới hạn kích thước\n      if (![\"image/jpeg\", \"image/png\", \"image/jpg\"].includes(file.type)) {\n        showModal(\"Lỗi Tải Ảnh\", \"Chỉ nhận JPG/PNG.\")\n        e.target.value = \"\"\n        return\n      }\n\n      // Hiển thị thông báo đang xử lý\n      showModal(\"Đang Xử Lý\", \"Đang tải và xử lý ảnh đại diện...\")\n\n      // Gửi file lên API avatar\n      const form = new FormData()\n      form.append(\"file\", file)\n      form.append(\"artistName\", currentUser.username || 'default-user')\n      form.append(\"userId\", currentUser.id || 'default-id')\n      form.append(\"role\", currentUser.role || 'Artist') // Thêm role để xác định bảng\n\n      try {\n        // Show loading state\n        showModal(\"Đang xử lý\", \"Đang tải ảnh lên, vui lòng đợi...\")\n\n        const res = await fetch(\"/api/upload/avatar\", {\n          method: \"POST\",\n          body: form\n        })\n\n        if (!res.ok) {\n          const errorText = await res.text();\n          console.error(\"API error response:\", errorText);\n          throw new Error(`HTTP error ${res.status}: ${errorText}`);\n        }\n\n        const data = await res.json()\n\n        if (data.success && data.url) {\n          // Cập nhật cả state preview và formData\n          setAvatarPreview(data.url)\n          setFormData(prev => ({ ...prev, avatar: data.url }))\n\n          // Hiển thị thông báo thành công\n          showModal(\"Thành công\", \"Ảnh đại diện đã được cập nhật\", \"success\")\n\n          // Cập nhật lại user context bằng cách gọi lại login (nếu cần, hoặc reload user info)\n          if (currentUser) {\n            await login(currentUser.username, \"\") // password rỗng, backend nên bỏ qua check nếu đã login\n          }\n        } else {\n          console.error(\"Upload failed:\", data);\n          showModal(\"Lỗi Upload\", data.message ?? \"Không upload được ảnh đại diện!\")\n        }\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : \"Lỗi không xác định\";\n        console.error(\"Detailed error:\", error);\n        showModal(\"Lỗi Upload\", `Không thể kết nối server: ${errorMessage}`)\n      }\n    }\n  }\n\n  const handleSuggestBio = () => {\n    const suggestedBios = [\n      `Là một ${currentUser.role} tài năng, ${formData.fullName || currentUser.username} luôn mang đến những làn gió mới cho âm nhạc Việt.`,\n      `Với đam mê cháy bỏng, ${formData.fullName || currentUser.username} đang từng bước khẳng định vị trí của mình. #GenZMusic`,\n      `Âm nhạc của ${formData.fullName || currentUser.username} là sự kết hợp độc đáo giữa truyền thống và hiện đại, chạm đến cảm xúc người nghe.`,\n      `${formData.fullName || currentUser.username} - nghệ sĩ GenZ với phong cách riêng biệt, luôn tìm tòi và sáng tạo trong từng giai điệu.`,\n      `Từ những beat chill đến những bản ballad sâu lắng, ${formData.fullName || currentUser.username} chinh phục trái tim người nghe bằng âm nhạc chân thành.`,\n    ]\n\n    const randomBio = suggestedBios[Math.floor(Math.random() * suggestedBios.length)]\n    setFormData((prev) => ({ ...prev, bio: randomBio }))\n    showModal(\"Gợi Ý Bio\", \"Đã có bio mẫu! Bạn có thể chỉnh sửa thêm nhé!\", \"success\")\n  }\n\n  const handleCopyLink = async (link: string, platform: string) => {\n    if (!link) {\n      showModal(\"Chưa có Link\", \"Vui lòng nhập link trước khi copy.\", \"error\")\n      return\n    }\n\n    try {\n      await navigator.clipboard.writeText(link)\n      showModal(\"Copy Thành Công\", `Đã copy link ${platform}: ${link}`, \"success\")\n    } catch (err) {\n      console.error(\"Clipboard copy failed:\", err);\n      showModal(\"Lỗi Copy\", \"Không thể copy link vào clipboard.\");\n    }\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    try {\n      showModal(\"Đang xử lý\", \"Đang cập nhật thông tin profile...\")\n\n      // Tạo data để gửi lên API (kèm theo thông tin avatar)\n      const updatedProfile = {\n        ...formData,\n        id: currentUser.id,\n        username: currentUser.username,\n        role: currentUser.role,\n        table: currentUser.role === \"Label Manager\" ? \"label_manager\" : \"artist\",\n        // Nếu formData.avatar không có, sử dụng avatarPreview nếu khác với mặc định\n        avatar: formData.avatar || (avatarPreview !== \"/face.png\" ? avatarPreview : currentUser.avatar),\n        // Đảm bảo socialLinks chỉ có giá trị không rỗng\n        socialLinks: Object.fromEntries(\n          Object.entries(formData.socialLinks).filter(([, value]) => value.trim() !== \"\")\n        )\n      }\n\n      console.log(\"Gửi dữ liệu cập nhật profile:\", updatedProfile)\n\n      // Gọi API để cập nhật thông tin\n      const response = await fetch(\"/api/profile/update\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(updatedProfile),\n      })\n\n      if (!response.ok) {\n        const errorText = await response.text()\n        throw new Error(`HTTP error ${response.status}: ${errorText}`)\n      }\n\n      const result = await response.json()\n\n      if (result.success) {\n        // Cập nhật lại user context bằng dữ liệu trả về từ API\n        if (result.user) {\n          // Cập nhật thông tin user trong localStorage\n          const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');\n          const updatedUser = {\n            ...currentUser,\n            fullName: result.user.fullName || currentUser.fullName,\n            email: result.user.email || currentUser.email,\n            bio: result.user.bio || currentUser.bio,\n            avatar: result.user.avatar || currentUser.avatar,\n            socialLinks: result.user.socialLinks || currentUser.socialLinks\n          };\n          localStorage.setItem('currentUser', JSON.stringify(updatedUser));\n\n          // Cập nhật lại user context bằng cách reload trang\n          // Đây là giải pháp tạm thời, cách tốt hơn là cập nhật context trực tiếp\n          window.location.reload();\n        }\n\n        showModal(\"Thành Công\", \"Đã cập nhật profile thành công!\", \"success\")\n      } else {\n        throw new Error(result.message || \"Cập nhật không thành công\")\n      }\n    } catch (error) {\n      console.error('Error updating profile:', error)\n      const errorMessage = error instanceof Error ? error.message : \"Lỗi không xác định\"\n      showModal(\"Lỗi Cập Nhật\", `Có lỗi xảy ra khi cập nhật profile: ${errorMessage}`, \"error\")\n    }\n  }\n\n  // Hàm để chuẩn hóa các giá trị social links trước khi lưu\n  const normalizeInputValues = (platform: string, value: string) => {\n    // Nếu giá trị rỗng, trả về chuỗi rỗng\n    if (!value.trim()) return \"\";\n\n    // Chuẩn hóa giá trị dựa trên nền tảng\n    switch (platform) {\n      case 'facebook':\n      case 'instagram':\n        // Xóa @ và các ký tự đặc biệt không cần thiết\n        return value.replace('@', '').trim();\n      case 'youtube':\n      case 'tiktok':\n        // Bảo toàn @ nếu có, nếu không thêm vào\n        if (value.startsWith('@')) return value.trim();\n        return `@${value.trim()}`;\n      case 'spotify':\n      case 'appleMusic':\n        // Chỉ lấy phần ID, xóa URL nếu có\n        if (value.includes('/')) {\n          const parts = value.split('/');\n          return parts[parts.length - 1].trim();\n        }\n        return value.trim();\n      default:\n        return value.trim();\n    }\n  }\n\n  return (\n    <div className=\"p-2 md:p-6\">\n      <h2 className=\"text-3xl font-bold text-white mb-6 flex items-center\">\n        <User className=\"mr-3 text-purple-400\" />\n        Hồ sơ nghệ sĩ của tôi\n      </h2>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        <div className=\"lg:col-span-2\">\n          <Card className=\"bg-gray-800 border border-gray-700 max-w-2xl mx-auto\">\n            <CardContent className=\"p-6 md:p-10\">\n              <form onSubmit={handleSubmit} className=\"space-y-6\">\n                <div>\n                  <Label htmlFor=\"username\">Tên đăng nhập</Label>\n                  <Input\n                    id=\"username\"\n                    value={formData.username}\n                    readOnly\n                    className=\"rounded-xl mt-1 bg-gray-600 cursor-not-allowed\"\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"fullName\">\n                    Họ tên đầy đủ<span className=\"text-red-500 font-bold ml-0.5\">*</span>\n                  </Label>\n                  <Input\n                    id=\"fullName\"\n                    value={formData.fullName}\n                    onChange={(e) => handleInputChange(\"fullName\", e.target.value)}\n                    required\n                    className=\"rounded-xl mt-1\"\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"email\">\n                    Email<span className=\"text-red-500 font-bold ml-0.5\">*</span>\n                  </Label>\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    value={formData.email}\n                    onChange={(e) => handleInputChange(\"email\", e.target.value)}\n                    required\n                    className=\"rounded-xl mt-1\"\n                  />\n                </div>\n\n                <div>\n                  <Label htmlFor=\"avatarFile\">Ảnh đại diện (JPG/PNG, tự động crop về 1:1)</Label>\n                  <Input\n                    id=\"avatarFile\"\n                    type=\"file\"\n                    accept=\"image/jpeg,image/png\"\n                    onChange={handleAvatarChange}\n                    className=\"mt-1\"\n                  />\n                  <div className=\"mt-3 rounded-full w-32 h-32 border-2 border-gray-600 mx-auto overflow-hidden\">\n                    <Image\n                      src={avatarPreview || \"/placeholder.svg\"}\n                      alt=\"Avatar Preview\"\n                      width={128}\n                      height={128}\n                      className=\"object-cover w-full h-full\"\n                      style={{ aspectRatio: \"1/1\" }}\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <Label htmlFor=\"bio\">Tiểu sử nghệ sĩ</Label>\n                  <Textarea\n                    id=\"bio\"\n                    value={formData.bio}\n                    onChange={(e) => handleInputChange(\"bio\", e.target.value)}\n                    rows={5}\n                    className=\"rounded-xl mt-1\"\n                    placeholder=\"Giới thiệu nghệ sĩ\"\n                  />\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={handleSuggestBio}\n                    className=\"mt-2 rounded-full\"\n                  >\n                    <Sparkles className=\"h-4 w-4 mr-2\" />\n                    Gợi Ý Bio\n                  </Button>\n                </div>\n\n                <div>\n                  <h3 className=\"text-lg font-semibold text-purple-400 pt-4 border-t border-gray-600 mb-4\">\n                    Liên kết mạng xã hội\n                  </h3>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    {Object.entries(formData.socialLinks).map(([platform, link]) => (\n                      <div key={platform}>\n                        <Label className=\"block text-xs font-medium text-gray-400 mb-1 capitalize\">\n                          {platform === \"appleMusic\" ? \"Apple Music\" : platform}\n                        </Label>\n                        <div className=\"flex\">\n                          <Input\n                            value={link}\n                            onChange={(e) => handleInputChange(`socialLinks.${platform}`, e.target.value)}\n                            className=\"rounded-xl rounded-r-none flex-grow\"\n                            placeholder={\n                              platform === 'facebook' ? 'iamankun' :\n                                platform === 'youtube' ? '@ankun_music' :\n                                  platform === 'spotify' ? '5NIqsUlRfxkY4d2WjhcmXs' :\n                                    platform === 'appleMusic' ? '1545463988' :\n                                      platform === 'tiktok' ? '@iamankun' :\n                                        platform === 'instagram' ? 'iamankun' :\n                                          `https://${platform}.com/...`\n                            }\n                          />\n                          <Button\n                            type=\"button\"\n                            variant=\"outline\"\n                            onClick={() => handleCopyLink(link ?? \"\", platform)}\n                            className=\"rounded-xl rounded-l-none border-l-0 px-3\"\n                          >\n                            <Copy className=\"h-4 w-4\" />\n                          </Button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"border-t border-gray-700 pt-6\">\n                  <h3 className=\"text-lg font-semibold text-purple-400 mb-4\">🔔 Test Notification System</h3>\n                  <div className=\"grid grid-cols-2 gap-2\">\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      onClick={() => showModal(\"Profile Test\", \"Profile notification with musical sound!\", \"success\")}\n                      className=\"text-sm\"\n                    >\n                      🎵 Success Sound\n                    </Button>\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      onClick={() => showModal(\"Error Test\", \"Error notification with alert sound!\", \"error\")}\n                      className=\"text-sm\"\n                    >\n                      🚨 Error Sound\n                    </Button>\n                  </div>\n                </div>\n\n                <Button type=\"submit\" className=\"w-full rounded-full bg-green-600 hover:bg-green-700 py-6\">\n                  <User className=\"h-5 w-5 mr-2\" />\n                  Lưu Thay Đổi\n                </Button>\n              </form>\n            </CardContent>\n          </Card>\n        </div>\n\n        <div>\n          <Card className=\"overflow-hidden border-none shadow-lg bg-gradient-to-b from-gray-800 to-gray-900\">\n            <div className=\"relative h-32 bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center\">\n              <div className=\"absolute -bottom-16 left-1/2 transform -translate-x-1/2\">\n                <div className=\"relative w-32 h-32 rounded-full overflow-hidden border-4 border-gray-900 shadow-xl animate-pulse-slow\">\n                  {avatarPreview ? (\n                    <Image\n                      src={avatarPreview}\n                      alt={currentUser.fullName ?? currentUser.username}\n                      width={128}\n                      height={128}\n                      className=\"object-cover w-full h-full\"\n                      priority\n                      onError={(e) => {\n                        e.currentTarget.src = \"/face.png\";\n                      }}\n                    />\n                  ) : (\n                    <div className=\"w-full h-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center\">\n                      <User className=\"h-16 w-16 text-white\" />\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n            <CardContent className=\"mt-20 space-y-4 text-center\">\n              <div>\n                <h2 className=\"text-3xl font-bold bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent flex items-center justify-center\">\n                  {formData.fullName || currentUser.fullName}\n                  {/* Show verified badge if artist has YouTube, Spotify, or Apple Music */}\n                  {(formData.socialLinks.youtube ||\n                    formData.socialLinks.spotify ||\n                    formData.socialLinks.appleMusic) && (\n                      <span className=\"ml-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-sm rounded-full w-6 h-6 flex items-center justify-center shadow-md\" title=\"Nghệ sĩ đã xác thực\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-4 h-4\">\n                          <path fillRule=\"evenodd\" d=\"M8.603 3.799A4.49 4.49 0 0112 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 013.498 1.307 4.491 4.491 0 011.307 3.497A4.49 4.49 0 0121.75 12a4.49 4.49 0 01-1.549 3.397 4.491 4.491 0 01-1.307 3.497 4.491 4.491 0 01-3.497 1.307A4.49 4.49 0 0112 21.75a4.49 4.49 0 01-3.397-1.549 4.49 4.49 0 01-3.498-1.306 4.491 4.491 0 01-1.307-3.498A4.49 4.49 0 012.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 011.307-3.497 4.49 4.49 0 013.497-1.307zm7.007 6.387a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z\" clipRule=\"evenodd\" />\n                        </svg>\n                      </span>\n                    )}\n                </h2>\n                <p className=\"text-gray-400 text-lg mt-1\">@{currentUser.username}</p>\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div className=\"flex items-center justify-center space-x-2\">\n                  <Mail className=\"h-4 w-4 text-gray-400\" />\n                  <span className=\"text-sm text-gray-300\">{currentUser.email}</span>\n                </div>\n                <div className=\"flex items-center justify-center space-x-2\">\n                  <Shield className=\"h-4 w-4 text-gray-400\" />\n                  <span className=\"text-sm text-gray-300\">{currentUser.role}</span>\n                </div>\n                <div className=\"flex items-center justify-center space-x-2 col-span-full\">\n                  <Calendar className=\"h-4 w-4 text-gray-400\" />\n                  <span className=\"text-sm text-gray-300\">\n                    Tham gia từ {new Date(currentUser.createdAt).toLocaleDateString()}\n                  </span>\n                </div>\n              </div>\n\n              {/* Label Admin Controls for Verification - Only visible for Label Manager role */}\n              {(currentUser.role === 'Label Manager') && (\n                <div className=\"mt-4 pt-4 border-t border-gray-700\">\n                  <h4 className=\"text-sm font-medium text-gray-400 mb-3\">Label Management Controls</h4>\n                  <div className=\"flex flex-wrap gap-2 justify-center\">\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"bg-gradient-to-r from-green-500/20 to-green-600/20 hover:from-green-500/40 hover:to-green-600/40 text-green-400\"\n                      onClick={() => {\n                        // In a real app, this would call an API to grant verification\n                        // For demo purposes, just show a modal\n                        showModal(\"Cấp Tích Xanh\", \"Đã cấp tích xanh cho nghệ sĩ thành công!\", \"success\")\n                      }}\n                    >\n                      <AwesomeIcon icon=\"fa-check-circle\" solid className=\"mr-2\" />\n                      Cấp Tích Xanh\n                    </Button>\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"bg-gradient-to-r from-red-500/20 to-red-600/20 hover:from-red-500/40 hover:to-red-600/40 text-red-400\"\n                      onClick={() => {\n                        // In a real app, this would call an API to remove verification\n                        // For demo purposes, just show a modal\n                        showModal(\"Hủy Tích Xanh\", \"Đã hủy tích xanh của nghệ sĩ thành công!\", \"success\")\n                      }}\n                    >\n                      <AwesomeIcon icon=\"fa-times-circle\" solid className=\"mr-2\" />\n                      Hủy Tích Xanh\n                    </Button>\n                  </div>\n                </div>\n              )}\n\n              {/* Social Media Links - Enhanced with icons */}\n              <div className=\"mt-4 pt-4 border-t border-gray-700\">\n                <h4 className=\"text-sm font-medium text-gray-400 mb-3\">Kết nối mạng xã hội</h4>\n                <div className=\"flex flex-wrap gap-2 justify-center\">\n                  {Object.entries(formData.socialLinks).map(([platform, value]) => {\n                    if (!value) return null;\n\n                    let url = '';\n                    let icon = null;\n\n                    switch (platform) {\n                      case 'facebook':\n                        url = `https://www.facebook.com/${value.replace('@', '')}`;\n                        icon = <AwesomeIcon icon=\"fa-facebook\" brands size=\"lg\" className=\"text-blue-600\" />;\n                        break;\n                      case 'youtube':\n                        // Handle formats with @\n                        url = value.startsWith('@')\n                          ? `https://www.youtube.com/${value}`\n                          : `https://www.youtube.com/@${value}`;\n                        icon = <AwesomeIcon icon=\"fa-youtube\" brands size=\"lg\" className=\"text-red-600\" />;\n                        break;\n                      case 'tiktok':\n                        // Handle formats with @\n                        url = value.startsWith('@')\n                          ? `https://www.tiktok.com/${value}`\n                          : `https://www.tiktok.com/@${value}`;\n                        icon = <AwesomeIcon icon=\"fa-tiktok\" brands size=\"lg\" className=\"text-black dark:text-white\" />;\n                        break;\n                      case 'instagram':\n                        url = `https://www.instagram.com/${value.replace('@', '')}`;\n                        icon = <AwesomeIcon icon=\"fa-instagram\" brands size=\"lg\" className=\"text-pink-600\" />;\n                        break;\n                      case 'spotify':\n                        // Direct to artist page with ID\n                        url = `https://open.spotify.com/artist/${value}`;\n                        icon = <AwesomeIcon icon=\"fa-spotify\" brands size=\"lg\" className=\"text-green-600\" />;\n                        break;\n                      case 'appleMusic':\n                        // Direct to artist page with ID\n                        url = `https://music.apple.com/artist/${value}`;\n                        icon = <AwesomeIcon icon=\"fa-apple\" brands size=\"lg\" className=\"text-gray-700 dark:text-gray-300\" />;\n                        break;\n                      default:\n                        url = value;\n                        icon = <AwesomeIcon icon=\"fa-link\" solid size=\"lg\" className=\"text-gray-600\" />;\n                    }\n\n                    return (\n                      <a\n                        key={platform}\n                        href={url}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"inline-flex items-center rounded-full px-3 py-2 bg-gradient-to-r from-gray-700/80 to-gray-800/80 backdrop-blur-sm hover:from-gray-600 hover:to-gray-700 hover:shadow-lg transition-all duration-300\"\n                      >\n                        <span className=\"mr-2\">{icon}</span>\n                        <span className=\"text-xs\">{platform === \"appleMusic\" ? \"Apple Music\" : platform}</span>\n                      </a>\n                    );\n                  })}\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AAMO,SAAS,cAAc,EAAE,SAAS,EAAsB;IAC7D,MAAM,EAAE,MAAM,WAAW,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAE3C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QACvC,UAAU;QACV,UAAU;QACV,OAAO;QACP,KAAK;QACL,QAAQ;QACR,aAAa;YACX,UAAU;YACV,SAAS;YACT,SAAS;YACT,YAAY;YACZ,QAAQ;YACR,WAAW;QACb;IACF;IACA,qEAAqE;IACrE,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnD,mDAAmD;IACnD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,aAAa;YACf,YAAY;gBACV,UAAU,YAAY,QAAQ,IAAI;gBAClC,UAAU,YAAY,QAAQ,IAAI;gBAClC,OAAO,YAAY,KAAK,IAAI;gBAC5B,KAAK,YAAY,GAAG,IAAI;gBACxB,QAAQ,YAAY,MAAM,IAAI;gBAC9B,aAAa;oBACX,UAAU,YAAY,WAAW,EAAE,YAAY;oBAC/C,SAAS,YAAY,WAAW,EAAE,WAAW;oBAC7C,SAAS,YAAY,WAAW,EAAE,WAAW;oBAC7C,YAAY,YAAY,WAAW,EAAE,cAAc;oBACnD,QAAQ,YAAY,WAAW,EAAE,UAAU;oBAC3C,WAAW,YAAY,WAAW,EAAE,aAAa;gBACnD;YACF;YACA,iBAAiB,YAAY,MAAM,IAAI;QACzC;IACF,GAAG;QAAC;KAAY;IAEhB,IAAI,CAAC,aAAa;QAChB,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA2C;;;;;;kCACzD,8OAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;;;;;;IAIrC;IAEA,MAAM,oBAAoB,CAAC,OAAe;QACxC,IAAI,MAAM,UAAU,CAAC,iBAAiB;YACpC,MAAM,cAAc,MAAM,OAAO,CAAC,gBAAgB;YAClD,iEAAiE;YACjE,MAAM,kBAAkB,qBAAqB,aAAa;YAC1D,YAAY,CAAC,OAAS,CAAC;oBACrB,GAAG,IAAI;oBACP,aAAa;wBACX,GAAG,KAAK,WAAW;wBACnB,CAAC,YAAY,EAAE;oBACjB;gBACF,CAAC;QACH,OAAO;YACL,YAAY,CAAC,OAAS,CAAC;oBAAE,GAAG,IAAI;oBAAE,CAAC,MAAM,EAAE;gBAAM,CAAC;QACpD;IACF;IAEA,MAAM,qBAAqB,OAAO;QAChC,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,MAAM;YACR,oDAAoD;YACpD,IAAI,CAAC;gBAAC;gBAAc;gBAAa;aAAY,CAAC,QAAQ,CAAC,KAAK,IAAI,GAAG;gBACjE,UAAU,eAAe;gBACzB,EAAE,MAAM,CAAC,KAAK,GAAG;gBACjB;YACF;YAEA,gCAAgC;YAChC,UAAU,cAAc;YAExB,0BAA0B;YAC1B,MAAM,OAAO,IAAI;YACjB,KAAK,MAAM,CAAC,QAAQ;YACpB,KAAK,MAAM,CAAC,cAAc,YAAY,QAAQ,IAAI;YAClD,KAAK,MAAM,CAAC,UAAU,YAAY,EAAE,IAAI;YACxC,KAAK,MAAM,CAAC,QAAQ,YAAY,IAAI,IAAI,WAAU,6BAA6B;YAE/E,IAAI;gBACF,qBAAqB;gBACrB,UAAU,cAAc;gBAExB,MAAM,MAAM,MAAM,MAAM,sBAAsB;oBAC5C,QAAQ;oBACR,MAAM;gBACR;gBAEA,IAAI,CAAC,IAAI,EAAE,EAAE;oBACX,MAAM,YAAY,MAAM,IAAI,IAAI;oBAChC,QAAQ,KAAK,CAAC,uBAAuB;oBACrC,MAAM,IAAI,MAAM,CAAC,WAAW,EAAE,IAAI,MAAM,CAAC,EAAE,EAAE,WAAW;gBAC1D;gBAEA,MAAM,OAAO,MAAM,IAAI,IAAI;gBAE3B,IAAI,KAAK,OAAO,IAAI,KAAK,GAAG,EAAE;oBAC5B,wCAAwC;oBACxC,iBAAiB,KAAK,GAAG;oBACzB,YAAY,CAAA,OAAQ,CAAC;4BAAE,GAAG,IAAI;4BAAE,QAAQ,KAAK,GAAG;wBAAC,CAAC;oBAElD,gCAAgC;oBAChC,UAAU,cAAc,iCAAiC;oBAEzD,qFAAqF;oBACrF,IAAI,aAAa;wBACf,MAAM,MAAM,YAAY,QAAQ,EAAE,KAAI,uDAAuD;oBAC/F;gBACF,OAAO;oBACL,QAAQ,KAAK,CAAC,kBAAkB;oBAChC,UAAU,cAAc,KAAK,OAAO,IAAI;gBAC1C;YACF,EAAE,OAAO,OAAO;gBACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG;gBAC9D,QAAQ,KAAK,CAAC,mBAAmB;gBACjC,UAAU,cAAc,CAAC,0BAA0B,EAAE,cAAc;YACrE;QACF;IACF;IAEA,MAAM,mBAAmB;QACvB,MAAM,gBAAgB;YACpB,CAAC,OAAO,EAAE,YAAY,IAAI,CAAC,WAAW,EAAE,SAAS,QAAQ,IAAI,YAAY,QAAQ,CAAC,kDAAkD,CAAC;YACrI,CAAC,sBAAsB,EAAE,SAAS,QAAQ,IAAI,YAAY,QAAQ,CAAC,sDAAsD,CAAC;YAC1H,CAAC,YAAY,EAAE,SAAS,QAAQ,IAAI,YAAY,QAAQ,CAAC,kFAAkF,CAAC;YAC5I,GAAG,SAAS,QAAQ,IAAI,YAAY,QAAQ,CAAC,yFAAyF,CAAC;YACvI,CAAC,mDAAmD,EAAE,SAAS,QAAQ,IAAI,YAAY,QAAQ,CAAC,wDAAwD,CAAC;SAC1J;QAED,MAAM,YAAY,aAAa,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,cAAc,MAAM,EAAE;QACjF,YAAY,CAAC,OAAS,CAAC;gBAAE,GAAG,IAAI;gBAAE,KAAK;YAAU,CAAC;QAClD,UAAU,aAAa,iDAAiD;IAC1E;IAEA,MAAM,iBAAiB,OAAO,MAAc;QAC1C,IAAI,CAAC,MAAM;YACT,UAAU,gBAAgB,sCAAsC;YAChE;QACF;QAEA,IAAI;YACF,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC;YACpC,UAAU,mBAAmB,CAAC,aAAa,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE;QACpE,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,0BAA0B;YACxC,UAAU,YAAY;QACxB;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,IAAI;YACF,UAAU,cAAc;YAExB,sDAAsD;YACtD,MAAM,iBAAiB;gBACrB,GAAG,QAAQ;gBACX,IAAI,YAAY,EAAE;gBAClB,UAAU,YAAY,QAAQ;gBAC9B,MAAM,YAAY,IAAI;gBACtB,OAAO,YAAY,IAAI,KAAK,kBAAkB,kBAAkB;gBAChE,4EAA4E;gBAC5E,QAAQ,SAAS,MAAM,IAAI,CAAC,kBAAkB,cAAc,gBAAgB,YAAY,MAAM;gBAC9F,gDAAgD;gBAChD,aAAa,OAAO,WAAW,CAC7B,OAAO,OAAO,CAAC,SAAS,WAAW,EAAE,MAAM,CAAC,CAAC,GAAG,MAAM,GAAK,MAAM,IAAI,OAAO;YAEhF;YAEA,QAAQ,GAAG,CAAC,iCAAiC;YAE7C,gCAAgC;YAChC,MAAM,WAAW,MAAM,MAAM,uBAAuB;gBAClD,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,MAAM,IAAI,MAAM,CAAC,WAAW,EAAE,SAAS,MAAM,CAAC,EAAE,EAAE,WAAW;YAC/D;YAEA,MAAM,SAAS,MAAM,SAAS,IAAI;YAElC,IAAI,OAAO,OAAO,EAAE;gBAClB,uDAAuD;gBACvD,IAAI,OAAO,IAAI,EAAE;oBACf,6CAA6C;oBAC7C,MAAM,cAAc,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,kBAAkB;oBACtE,MAAM,cAAc;wBAClB,GAAG,WAAW;wBACd,UAAU,OAAO,IAAI,CAAC,QAAQ,IAAI,YAAY,QAAQ;wBACtD,OAAO,OAAO,IAAI,CAAC,KAAK,IAAI,YAAY,KAAK;wBAC7C,KAAK,OAAO,IAAI,CAAC,GAAG,IAAI,YAAY,GAAG;wBACvC,QAAQ,OAAO,IAAI,CAAC,MAAM,IAAI,YAAY,MAAM;wBAChD,aAAa,OAAO,IAAI,CAAC,WAAW,IAAI,YAAY,WAAW;oBACjE;oBACA,aAAa,OAAO,CAAC,eAAe,KAAK,SAAS,CAAC;oBAEnD,mDAAmD;oBACnD,wEAAwE;oBACxE,OAAO,QAAQ,CAAC,MAAM;gBACxB;gBAEA,UAAU,cAAc,mCAAmC;YAC7D,OAAO;gBACL,MAAM,IAAI,MAAM,OAAO,OAAO,IAAI;YACpC;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;YACzC,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YAC9D,UAAU,gBAAgB,CAAC,oCAAoC,EAAE,cAAc,EAAE;QACnF;IACF;IAEA,0DAA0D;IAC1D,MAAM,uBAAuB,CAAC,UAAkB;QAC9C,sCAAsC;QACtC,IAAI,CAAC,MAAM,IAAI,IAAI,OAAO;QAE1B,sCAAsC;QACtC,OAAQ;YACN,KAAK;YACL,KAAK;gBACH,8CAA8C;gBAC9C,OAAO,MAAM,OAAO,CAAC,KAAK,IAAI,IAAI;YACpC,KAAK;YACL,KAAK;gBACH,wCAAwC;gBACxC,IAAI,MAAM,UAAU,CAAC,MAAM,OAAO,MAAM,IAAI;gBAC5C,OAAO,CAAC,CAAC,EAAE,MAAM,IAAI,IAAI;YAC3B,KAAK;YACL,KAAK;gBACH,kCAAkC;gBAClC,IAAI,MAAM,QAAQ,CAAC,MAAM;oBACvB,MAAM,QAAQ,MAAM,KAAK,CAAC;oBAC1B,OAAO,KAAK,CAAC,MAAM,MAAM,GAAG,EAAE,CAAC,IAAI;gBACrC;gBACA,OAAO,MAAM,IAAI;YACnB;gBACE,OAAO,MAAM,IAAI;QACrB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;;kCACZ,8OAAC,kMAAA,CAAA,OAAI;wBAAC,WAAU;;;;;;oBAAyB;;;;;;;0BAI3C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,yHAAA,CAAA,OAAI;4BAAC,WAAU;sCACd,cAAA,8OAAC,yHAAA,CAAA,cAAW;gCAAC,WAAU;0CACrB,cAAA,8OAAC;oCAAK,UAAU;oCAAc,WAAU;;sDACtC,8OAAC;;8DACC,8OAAC,0HAAA,CAAA,QAAK;oDAAC,SAAQ;8DAAW;;;;;;8DAC1B,8OAAC,0HAAA,CAAA,QAAK;oDACJ,IAAG;oDACH,OAAO,SAAS,QAAQ;oDACxB,QAAQ;oDACR,WAAU;;;;;;;;;;;;sDAId,8OAAC;;8DACC,8OAAC,0HAAA,CAAA,QAAK;oDAAC,SAAQ;;wDAAW;sEACX,8OAAC;4DAAK,WAAU;sEAAgC;;;;;;;;;;;;8DAE/D,8OAAC,0HAAA,CAAA,QAAK;oDACJ,IAAG;oDACH,OAAO,SAAS,QAAQ;oDACxB,UAAU,CAAC,IAAM,kBAAkB,YAAY,EAAE,MAAM,CAAC,KAAK;oDAC7D,QAAQ;oDACR,WAAU;;;;;;;;;;;;sDAId,8OAAC;;8DACC,8OAAC,0HAAA,CAAA,QAAK;oDAAC,SAAQ;;wDAAQ;sEAChB,8OAAC;4DAAK,WAAU;sEAAgC;;;;;;;;;;;;8DAEvD,8OAAC,0HAAA,CAAA,QAAK;oDACJ,IAAG;oDACH,MAAK;oDACL,OAAO,SAAS,KAAK;oDACrB,UAAU,CAAC,IAAM,kBAAkB,SAAS,EAAE,MAAM,CAAC,KAAK;oDAC1D,QAAQ;oDACR,WAAU;;;;;;;;;;;;sDAId,8OAAC;;8DACC,8OAAC,0HAAA,CAAA,QAAK;oDAAC,SAAQ;8DAAa;;;;;;8DAC5B,8OAAC,0HAAA,CAAA,QAAK;oDACJ,IAAG;oDACH,MAAK;oDACL,QAAO;oDACP,UAAU;oDACV,WAAU;;;;;;8DAEZ,8OAAC;oDAAI,WAAU;8DACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;wDACJ,KAAK,iBAAiB;wDACtB,KAAI;wDACJ,OAAO;wDACP,QAAQ;wDACR,WAAU;wDACV,OAAO;4DAAE,aAAa;wDAAM;;;;;;;;;;;;;;;;;sDAKlC,8OAAC;;8DACC,8OAAC,0HAAA,CAAA,QAAK;oDAAC,SAAQ;8DAAM;;;;;;8DACrB,8OAAC,6HAAA,CAAA,WAAQ;oDACP,IAAG;oDACH,OAAO,SAAS,GAAG;oDACnB,UAAU,CAAC,IAAM,kBAAkB,OAAO,EAAE,MAAM,CAAC,KAAK;oDACxD,MAAM;oDACN,WAAU;oDACV,aAAY;;;;;;8DAEd,8OAAC,2HAAA,CAAA,SAAM;oDACL,MAAK;oDACL,SAAQ;oDACR,MAAK;oDACL,SAAS;oDACT,WAAU;;sEAEV,8OAAC,0MAAA,CAAA,WAAQ;4DAAC,WAAU;;;;;;wDAAiB;;;;;;;;;;;;;sDAKzC,8OAAC;;8DACC,8OAAC;oDAAG,WAAU;8DAA2E;;;;;;8DAGzF,8OAAC;oDAAI,WAAU;8DACZ,OAAO,OAAO,CAAC,SAAS,WAAW,EAAE,GAAG,CAAC,CAAC,CAAC,UAAU,KAAK,iBACzD,8OAAC;;8EACC,8OAAC,0HAAA,CAAA,QAAK;oEAAC,WAAU;8EACd,aAAa,eAAe,gBAAgB;;;;;;8EAE/C,8OAAC;oEAAI,WAAU;;sFACb,8OAAC,0HAAA,CAAA,QAAK;4EACJ,OAAO;4EACP,UAAU,CAAC,IAAM,kBAAkB,CAAC,YAAY,EAAE,UAAU,EAAE,EAAE,MAAM,CAAC,KAAK;4EAC5E,WAAU;4EACV,aACE,aAAa,aAAa,aACxB,aAAa,YAAY,iBACvB,aAAa,YAAY,2BACvB,aAAa,eAAe,eAC1B,aAAa,WAAW,cACtB,aAAa,cAAc,aACzB,CAAC,QAAQ,EAAE,SAAS,QAAQ,CAAC;;;;;;sFAG7C,8OAAC,2HAAA,CAAA,SAAM;4EACL,MAAK;4EACL,SAAQ;4EACR,SAAS,IAAM,eAAe,QAAQ,IAAI;4EAC1C,WAAU;sFAEV,cAAA,8OAAC,kMAAA,CAAA,OAAI;gFAAC,WAAU;;;;;;;;;;;;;;;;;;2DAzBZ;;;;;;;;;;;;;;;;sDAiChB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAG,WAAU;8DAA6C;;;;;;8DAC3D,8OAAC;oDAAI,WAAU;;sEACb,8OAAC,2HAAA,CAAA,SAAM;4DACL,MAAK;4DACL,SAAQ;4DACR,SAAS,IAAM,UAAU,gBAAgB,4CAA4C;4DACrF,WAAU;sEACX;;;;;;sEAGD,8OAAC,2HAAA,CAAA,SAAM;4DACL,MAAK;4DACL,SAAQ;4DACR,SAAS,IAAM,UAAU,cAAc,wCAAwC;4DAC/E,WAAU;sEACX;;;;;;;;;;;;;;;;;;sDAML,8OAAC,2HAAA,CAAA,SAAM;4CAAC,MAAK;4CAAS,WAAU;;8DAC9B,8OAAC,kMAAA,CAAA,OAAI;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAQ3C,8OAAC;kCACC,cAAA,8OAAC,yHAAA,CAAA,OAAI;4BAAC,WAAU;;8CACd,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAI,WAAU;sDACZ,8BACC,8OAAC,6HAAA,CAAA,UAAK;gDACJ,KAAK;gDACL,KAAK,YAAY,QAAQ,IAAI,YAAY,QAAQ;gDACjD,OAAO;gDACP,QAAQ;gDACR,WAAU;gDACV,QAAQ;gDACR,SAAS,CAAC;oDACR,EAAE,aAAa,CAAC,GAAG,GAAG;gDACxB;;;;;qEAGF,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC,kMAAA,CAAA,OAAI;oDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;8CAM1B,8OAAC,yHAAA,CAAA,cAAW;oCAAC,WAAU;;sDACrB,8OAAC;;8DACC,8OAAC;oDAAG,WAAU;;wDACX,SAAS,QAAQ,IAAI,YAAY,QAAQ;wDAEzC,CAAC,SAAS,WAAW,CAAC,OAAO,IAC5B,SAAS,WAAW,CAAC,OAAO,IAC5B,SAAS,WAAW,CAAC,UAAU,mBAC7B,8OAAC;4DAAK,WAAU;4DAAqI,OAAM;sEACzJ,cAAA,8OAAC;gEAAI,OAAM;gEAA6B,SAAQ;gEAAY,MAAK;gEAAe,WAAU;0EACxF,cAAA,8OAAC;oEAAK,UAAS;oEAAU,GAAE;oEAA6iB,UAAS;;;;;;;;;;;;;;;;;;;;;;8DAK3lB,8OAAC;oDAAE,WAAU;;wDAA6B;wDAAE,YAAY,QAAQ;;;;;;;;;;;;;sDAGlE,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;;sEACb,8OAAC,kMAAA,CAAA,OAAI;4DAAC,WAAU;;;;;;sEAChB,8OAAC;4DAAK,WAAU;sEAAyB,YAAY,KAAK;;;;;;;;;;;;8DAE5D,8OAAC;oDAAI,WAAU;;sEACb,8OAAC,sMAAA,CAAA,SAAM;4DAAC,WAAU;;;;;;sEAClB,8OAAC;4DAAK,WAAU;sEAAyB,YAAY,IAAI;;;;;;;;;;;;8DAE3D,8OAAC;oDAAI,WAAU;;sEACb,8OAAC,0MAAA,CAAA,WAAQ;4DAAC,WAAU;;;;;;sEACpB,8OAAC;4DAAK,WAAU;;gEAAwB;gEACzB,IAAI,KAAK,YAAY,SAAS,EAAE,kBAAkB;;;;;;;;;;;;;;;;;;;wCAMnE,YAAY,IAAI,KAAK,iCACrB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAG,WAAU;8DAAyC;;;;;;8DACvD,8OAAC;oDAAI,WAAU;;sEACb,8OAAC,2HAAA,CAAA,SAAM;4DACL,MAAK;4DACL,SAAQ;4DACR,MAAK;4DACL,WAAU;4DACV,SAAS;gEACP,8DAA8D;gEAC9D,uCAAuC;gEACvC,UAAU,iBAAiB,4CAA4C;4DACzE;;8EAEA,8OAAC,oIAAA,CAAA,cAAW;oEAAC,MAAK;oEAAkB,KAAK;oEAAC,WAAU;;;;;;gEAAS;;;;;;;sEAG/D,8OAAC,2HAAA,CAAA,SAAM;4DACL,MAAK;4DACL,SAAQ;4DACR,MAAK;4DACL,WAAU;4DACV,SAAS;gEACP,+DAA+D;gEAC/D,uCAAuC;gEACvC,UAAU,iBAAiB,4CAA4C;4DACzE;;8EAEA,8OAAC,oIAAA,CAAA,cAAW;oEAAC,MAAK;oEAAkB,KAAK;oEAAC,WAAU;;;;;;gEAAS;;;;;;;;;;;;;;;;;;;sDAQrE,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAG,WAAU;8DAAyC;;;;;;8DACvD,8OAAC;oDAAI,WAAU;8DACZ,OAAO,OAAO,CAAC,SAAS,WAAW,EAAE,GAAG,CAAC,CAAC,CAAC,UAAU,MAAM;wDAC1D,IAAI,CAAC,OAAO,OAAO;wDAEnB,IAAI,MAAM;wDACV,IAAI,OAAO;wDAEX,OAAQ;4DACN,KAAK;gEACH,MAAM,CAAC,yBAAyB,EAAE,MAAM,OAAO,CAAC,KAAK,KAAK;gEAC1D,qBAAO,8OAAC,oIAAA,CAAA,cAAW;oEAAC,MAAK;oEAAc,MAAM;oEAAC,MAAK;oEAAK,WAAU;;;;;;gEAClE;4DACF,KAAK;gEACH,wBAAwB;gEACxB,MAAM,MAAM,UAAU,CAAC,OACnB,CAAC,wBAAwB,EAAE,OAAO,GAClC,CAAC,yBAAyB,EAAE,OAAO;gEACvC,qBAAO,8OAAC,oIAAA,CAAA,cAAW;oEAAC,MAAK;oEAAa,MAAM;oEAAC,MAAK;oEAAK,WAAU;;;;;;gEACjE;4DACF,KAAK;gEACH,wBAAwB;gEACxB,MAAM,MAAM,UAAU,CAAC,OACnB,CAAC,uBAAuB,EAAE,OAAO,GACjC,CAAC,wBAAwB,EAAE,OAAO;gEACtC,qBAAO,8OAAC,oIAAA,CAAA,cAAW;oEAAC,MAAK;oEAAY,MAAM;oEAAC,MAAK;oEAAK,WAAU;;;;;;gEAChE;4DACF,KAAK;gEACH,MAAM,CAAC,0BAA0B,EAAE,MAAM,OAAO,CAAC,KAAK,KAAK;gEAC3D,qBAAO,8OAAC,oIAAA,CAAA,cAAW;oEAAC,MAAK;oEAAe,MAAM;oEAAC,MAAK;oEAAK,WAAU;;;;;;gEACnE;4DACF,KAAK;gEACH,gCAAgC;gEAChC,MAAM,CAAC,gCAAgC,EAAE,OAAO;gEAChD,qBAAO,8OAAC,oIAAA,CAAA,cAAW;oEAAC,MAAK;oEAAa,MAAM;oEAAC,MAAK;oEAAK,WAAU;;;;;;gEACjE;4DACF,KAAK;gEACH,gCAAgC;gEAChC,MAAM,CAAC,+BAA+B,EAAE,OAAO;gEAC/C,qBAAO,8OAAC,oIAAA,CAAA,cAAW;oEAAC,MAAK;oEAAW,MAAM;oEAAC,MAAK;oEAAK,WAAU;;;;;;gEAC/D;4DACF;gEACE,MAAM;gEACN,qBAAO,8OAAC,oIAAA,CAAA,cAAW;oEAAC,MAAK;oEAAU,KAAK;oEAAC,MAAK;oEAAK,WAAU;;;;;;wDACjE;wDAEA,qBACE,8OAAC;4DAEC,MAAM;4DACN,QAAO;4DACP,KAAI;4DACJ,WAAU;;8EAEV,8OAAC;oEAAK,WAAU;8EAAQ;;;;;;8EACxB,8OAAC;oEAAK,WAAU;8EAAW,aAAa,eAAe,gBAAgB;;;;;;;2DAPlE;;;;;oDAUX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASlB","debugId":null}},
    {"offset": {"line": 1849, "column": 0}, "map": {"version":3,"sources":["file:///F:/studio.ankun/components/views/users-view.tsx"],"sourcesContent":["\"use client\"\n\n// Tôi là An Kun\nimport { useState, useEffect } from \"react\"\nimport type { User } from \"@/types/user\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Users, UserPlus, Shield } from \"lucide-react\"\n\nexport function UsersView() {\n  const [usersList, setUsersList] = useState<User[]>([])\n  const [loading, setLoading] = useState(true)\n  const [artistCount, setArtistCount] = useState(0)\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        setLoading(true)\n        \n        // Fetch artists from API\n        const response = await fetch('/api/artists')\n        const data = await response.json()\n        \n        if (data.success && data.artists) {\n          setUsersList(data.artists)\n          setArtistCount(data.count ?? data.artists.length)\n        } else {\n          console.error('Failed to fetch users:', data.error)\n        }\n      } catch (error) {\n        console.error('Error fetching users:', error)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchUsers()\n  }, [])\n\n  return (\n    <div className=\"p-2 md:p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-3xl font-bold text-gray-900 flex items-center\">\n          <Users className=\"mr-3 text-purple-400\" />\n          Quản Lý Người Dùng\n        </h2>\n        <Button className=\"bg-purple-600 hover:bg-purple-700\">\n          <UserPlus className=\"h-4 w-4 mr-2\" />\n          Thêm Người Dùng\n        </Button>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Tổng Người Dùng</CardTitle>\n            <Users className=\"h-4 w-4 text-purple-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{loading ? \"...\" : usersList.length}</div>\n            <p className=\"text-xs text-gray-500\">Người dùng hoạt động</p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Quản Lý Nhãn Hiệu</CardTitle>\n            <Shield className=\"h-4 w-4 text-blue-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">\n              {usersList.filter((u) => u.role === \"Label Manager\").length}\n            </div>\n            <p className=\"text-xs text-gray-500\">Người dùng quản trị</p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Nghệ Sĩ</CardTitle>\n            <Users className=\"h-4 w-4 text-green-500\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">\n              {usersList.filter((u) => u.role === \"Artist\").length}\n            </div>\n            <p className=\"text-xs text-gray-500\">Tài khoản nghệ sĩ</p>\n          </CardContent>\n        </Card>\n      </div>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Danh Sách Người Dùng</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            {usersList.map((user) => (\n              <div key={user.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                <div>\n                  <h3 className=\"font-semibold\">{user.fullName}</h3>\n                  <p className=\"text-sm text-gray-600\">@{user.username} • {user.email}</p>\n                  <p className=\"text-xs text-gray-500\">{user.role}</p>\n                </div>\n                <div className=\"flex space-x-2\">\n                  <Button variant=\"outline\" size=\"sm\">Chỉnh Sửa</Button>\n                  <Button variant=\"destructive\" size=\"sm\">Xóa</Button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n// Tôi là An Kun\n// Đây là nơi quản lý người dùng\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2233, "column": 0}, "map": {"version":3,"sources":["file:///F:/studio.ankun/components/views/admin-panel-view.tsx"],"sourcesContent":["// Tôi là An Kun\n// Hỗ trợ dự án, Copilot, Gemini\n// Tác giả kiêm xuất bản bởi An Kun Studio Digital Music\n\n\"use client\"\n\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Shield, Database, Users, Settings, Plus, Edit, Trash2, RefreshCw } from \"lucide-react\"\nimport { DebugTools } from \"@/components/debug-tools\"\nimport { useAuth } from \"@/components/auth-provider\"\nimport { useState, useEffect } from \"react\"\nimport type { User } from \"@/types/user\"\nimport type { Submission } from \"@/types/submission\"\nimport { logger } from \"@/lib/logger\"\n\ninterface AdminPanelViewProps {\n  readonly showModal: (title: string, message: string, type?: \"success\" | \"error\") => void\n}\n\ninterface SystemStats {\n  database: { connected: boolean; type: string }\n  users: { totalArtists: number; totalManagers: number; activeUsers: number }\n  content: { totalSubmissions: number; pendingSubmissions: number; approvedSubmissions: number }\n  system: { uptime: number; memory: any; version: string; environment: string }\n}\n\nexport function AdminPanelView({ showModal }: AdminPanelViewProps) {\n  const { user: currentUser } = useAuth();\n  const [stats, setStats] = useState<SystemStats | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [activeTab, setActiveTab] = useState<'overview' | 'users' | 'submissions'>('overview')\n  const [users, setUsers] = useState<User[]>([])\n  const [submissions, setSubmissions] = useState<Submission[]>([])\n  const [usersLoading, setUsersLoading] = useState(false)\n  const [submissionsLoading, setSubmissionsLoading] = useState(false)\n\n  useEffect(() => {\n    const fetchStats = async () => {\n      try {\n        const response = await fetch('/api/admin/stats')\n        const data = await response.json()\n\n        if (data.success) {\n          setStats(data.data)\n        } else {\n          console.error('Failed to fetch admin stats:', data.error)\n        }\n      } catch (error) {\n        console.error('Error fetching admin stats:', error)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    if (currentUser?.role === \"Label Manager\") {\n      fetchStats()\n    }\n  }, [currentUser])\n\n  if (!currentUser) {\n    return (\n      <div className=\"p-6 min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-xl font-semibold text-gray-700 mb-2\">Đang tải thông tin</h2>\n          <p className=\"text-gray-500\">Vui lòng chờ trong giây lát...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (currentUser.role !== \"Label Manager\") {\n    logger.warn('AdminPanelView: Access denied for non-label manager', {\n      component: 'AdminPanelView',\n      userId: currentUser.id,\n      role: currentUser.role\n    })\n\n    return (\n      <div className=\"p-6\">\n        <Card>\n          <CardContent className=\"text-center py-12\">\n            <Shield className=\"h-16 w-16 text-red-400 mx-auto mb-4\" />\n            <h3 className=\"text-xl font-semibold text-red-600 mb-2\">Access Denied</h3>\n            <p className=\"text-gray-500\">Only Label Managers can access the Admin Panel</p>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n\n  logger.info('AdminPanelView: Component rendered', {\n    component: 'AdminPanelView',\n    userId: currentUser.id\n  })\n\n  return (\n    <div className=\"p-6\">\n      <h2 className=\"text-3xl font-bold text-gray-900 mb-6 flex items-center\">\n        <Shield className=\"mr-3 text-purple-400\" />\n        Admin Panel\n      </h2>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8\">\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center\">\n              <Database className=\"mr-2\" />\n              Database\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-center py-4\">\n              <div className={`w-2 h-2 rounded-full mx-auto mb-2 ${loading ? 'bg-gray-400' :\n                stats?.database.connected ? 'bg-green-500' : 'bg-red-500'\n                }`}></div>\n              <p className={`text-sm ${loading ? 'text-gray-600' :\n                stats?.database.connected ? 'text-green-600' : 'text-red-600'\n                }`}>\n                {loading ? 'Checking...' :\n                  stats?.database.connected ? `Connected (${stats.database.type})` : 'Disconnected'}\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center\">\n              <Users className=\"mr-2\" />\n              Users\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-center py-4\">\n              <div className=\"text-2xl font-bold\">\n                {loading ? '...' : stats?.users.totalArtists ?? 0}\n              </div>\n              <p className=\"text-sm text-gray-600\">Active Artists</p>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center\">\n              <Settings className=\"mr-2\" />\n              System\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-center py-4\">\n              <div className=\"text-lg font-bold\">\n                {loading ? '...' : stats?.system.version ?? 'Unknown'}\n              </div>\n              <p className=\"text-sm text-gray-600\">\n                {loading ? 'Loading...' : stats?.system.environment ?? 'Unknown'}\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"mb-8\">\n        <DebugTools />\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2615, "column": 0}, "map": {"version":3,"sources":["file:///F:/studio.ankun/components/views/logs-view.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\n// Import Badge đúng cách từ ui/badge\nimport { Badge } from \"@/components/ui/badge\"\nimport { ScrollArea } from \"@/components/ui/scroll-area\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { FileText, Download, Trash2, Filter, Search, RefreshCw } from \"lucide-react\"\nimport { logger, type LogEntry, type LogLevel } from \"@/lib/logger\"\nimport { useAuth } from \"@/components/auth-provider\"\n\nexport function LogsView() {\n    const { user: currentUser } = useAuth();\n    const [logs, setLogs] = useState<LogEntry[]>([])\n    const [filteredLogs, setFilteredLogs] = useState<LogEntry[]>([])\n    const [levelFilter, setLevelFilter] = useState<LogLevel | 'all'>('all')\n    const [componentFilter, setComponentFilter] = useState('all-components')\n    const [searchQuery, setSearchQuery] = useState('')\n    const [autoRefresh, setAutoRefresh] = useState(true)\n\n    useEffect(() => {\n        loadLogs()\n\n        if (autoRefresh) {\n            const interval = setInterval(loadLogs, 5000) // Refresh every 5 seconds\n            return () => clearInterval(interval)\n        }\n    }, [autoRefresh])\n\n    useEffect(() => {\n        filterLogs()\n    }, [logs, levelFilter, componentFilter, searchQuery])\n\n    const loadLogs = async () => {\n        try {\n            const response = await fetch('/api/logs')\n            const data = await response.json()\n\n            if (data.success) {\n                setLogs(data.logs || [])\n            } else {\n                console.error('Failed to fetch logs:', data.error)\n                // Fallback to local logs\n                const allLogs = logger.getLogs()\n                setLogs(allLogs)\n            }\n        } catch (error) {\n            console.error('Error fetching logs:', error)\n            // Fallback to local logs\n            const allLogs = logger.getLogs()\n            setLogs(allLogs)\n        }\n    }\n\n    const filterLogs = () => {\n        let filtered = [...logs]\n\n        if (levelFilter !== 'all') {\n            filtered = filtered.filter(log => log.level === levelFilter)\n        }\n\n        if (componentFilter && componentFilter !== 'all-components') {\n            filtered = filtered.filter(log =>\n                log.component?.toLowerCase().includes(componentFilter.toLowerCase())\n            )\n        }\n\n        if (searchQuery) {\n            filtered = filtered.filter(log =>\n                log.message.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                JSON.stringify(log.data ?? {}).toLowerCase().includes(searchQuery.toLowerCase())\n            )\n        }\n\n        setFilteredLogs(filtered)\n    }\n\n    const clearLogs = () => {\n        logger.clearLogs()\n        setLogs([])\n        setFilteredLogs([])\n    }\n\n    const exportLogs = () => {\n        const logData = logger.exportLogs()\n        const blob = new Blob([logData], { type: 'application/json' })\n        const url = URL.createObjectURL(blob)\n        const a = document.createElement('a')\n        a.href = url\n        a.download = `aks-studio-logs-${new Date().toISOString().split('T')[0]}.json`\n        document.body.appendChild(a)\n        a.click()\n        document.body.removeChild(a)\n        URL.revokeObjectURL(url)\n    }\n\n    const getLevelColor = (level: LogLevel) => {\n        switch (level) {\n            case 'debug': return 'bg-gray-500'\n            case 'info': return 'bg-blue-500'\n            case 'warn': return 'bg-yellow-500'\n            case 'error': return 'bg-red-500'\n            default: return 'bg-gray-500'\n        }\n    }\n\n    const getUniqueComponents = () => {\n        const components = logs\n            .map(log => log.component)\n            .filter(Boolean)\n            .filter((value, index, self) => self.indexOf(value) === index)\n        return components\n    }\n\n    if (!currentUser) {\n        return (\n            <div className=\"p-6 min-h-screen flex items-center justify-center\">\n                <div className=\"text-center\">\n                    <h2 className=\"text-xl font-semibold text-gray-700 mb-2\">Đang tải thông tin</h2>\n                    <p className=\"text-gray-500\">Vui lòng chờ trong giây lát...</p>\n                </div>\n            </div>\n        );\n    }\n\n    if (currentUser.role !== \"Label Manager\") {\n        return (\n            <div className=\"p-6 min-h-screen flex items-center justify-center\">\n                <div className=\"text-center\">\n                    <h2 className=\"text-xl font-semibold text-red-600 mb-2\">Không có quyền truy cập</h2>\n                    <p className=\"text-gray-500\">Chỉ Label Manager mới có thể xem logs</p>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"p-6\">\n            <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-3xl font-bold text-gray-900 flex items-center\">\n                    <FileText className=\"mr-3 text-purple-400\" />\n                    System Logs ({filteredLogs.length})\n                </h2>\n                <div className=\"flex space-x-2\">\n                    <Button\n                        variant=\"outline\"\n                        onClick={() => setAutoRefresh(!autoRefresh)}\n                        className={autoRefresh ? \"bg-green-600/20\" : \"\"}\n                    >\n                        <RefreshCw className=\"h-4 w-4 mr-2\" />\n                        Auto Refresh\n                    </Button>\n                    <Button variant=\"outline\" onClick={exportLogs}>\n                        <Download className=\"h-4 w-4 mr-2\" />\n                        Export\n                    </Button>\n                    <Button variant=\"destructive\" onClick={clearLogs}>\n                        <Trash2 className=\"h-4 w-4 mr-2\" />\n                        Clear\n                    </Button>\n                </div>\n            </div>\n\n            {/* Filters */}\n            <Card className=\"mb-6\">\n                <CardHeader>\n                    <CardTitle className=\"flex items-center\">\n                        <Filter className=\"mr-2\" />\n                        Filters\n                    </CardTitle>\n                </CardHeader>\n                <CardContent>\n                    <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                        <div>\n                            <Label>Level</Label>\n                            <Select value={levelFilter} onValueChange={(value) => setLevelFilter(value as LogLevel | 'all')}>\n                                <SelectTrigger>\n                                    <SelectValue />\n                                </SelectTrigger>\n                                <SelectContent>\n                                    <SelectItem value=\"all\">All Levels</SelectItem>\n                                    <SelectItem value=\"debug\">Debug</SelectItem>\n                                    <SelectItem value=\"info\">Info</SelectItem>\n                                    <SelectItem value=\"warn\">Warning</SelectItem>\n                                    <SelectItem value=\"error\">Error</SelectItem>\n                                </SelectContent>\n                            </Select>\n                        </div>\n\n                        <div>\n                            <Label>Component</Label>\n                            <Select value={componentFilter} onValueChange={setComponentFilter}>\n                                <SelectTrigger>\n                                    <SelectValue placeholder=\"All Components\" />\n                                </SelectTrigger>\n                                <SelectContent>\n                                    <SelectItem value=\"all-components\">All Components</SelectItem>\n                                    {getUniqueComponents().filter(c => c).map(component => (\n                                        <SelectItem key={component} value={component!}>\n                                            {component}\n                                        </SelectItem>\n                                    ))}\n                                </SelectContent>\n                            </Select>\n                        </div>\n\n                        <div>\n                            <Label>Search</Label>\n                            <div className=\"relative\">\n                                <Search className=\"absolute left-2 top-2.5 h-4 w-4 text-gray-400\" />\n                                <Input\n                                    placeholder=\"Search logs...\"\n                                    value={searchQuery}\n                                    onChange={(e) => setSearchQuery(e.target.value)}\n                                    className=\"pl-8\"\n                                />\n                            </div>\n                        </div>\n\n                        <div>\n                            <Label>Actions</Label>\n                            <Button variant=\"outline\" onClick={loadLogs} className=\"w-full\">\n                                <RefreshCw className=\"h-4 w-4 mr-2\" />\n                                Refresh\n                            </Button>\n                        </div>\n                    </div>\n                </CardContent>\n            </Card>\n\n            {/* Logs Display */}\n            <Card>\n                <CardContent className=\"p-0\">\n                    <ScrollArea className=\"h-[600px]\">\n                        {filteredLogs.length === 0 ? (\n                            <div className=\"p-8 text-center text-gray-400\">\n                                <FileText className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\n                                <p>No logs found matching the current filters.</p>\n                            </div>\n                        ) : (\n                            <div className=\"space-y-2 p-4\">\n                                {filteredLogs.map((log, index) => (\n                                    <Card key={`${log.id}-${index}`} className=\"bg-gray-50\">\n                                        <CardContent className=\"p-4\">\n                                            <div className=\"flex items-start justify-between mb-2\">\n                                                <div className=\"flex items-center space-x-2\">\n                                                    <Badge className={`${getLevelColor(log.level)} text-white`}>\n                                                        {log.level.toUpperCase()}\n                                                    </Badge>\n                                                    {log.component && (\n                                                        <Badge variant=\"outline\">\n                                                            {log.component}\n                                                        </Badge>\n                                                    )}\n                                                    {log.action && (\n                                                        <Badge variant=\"secondary\">\n                                                            {log.action}\n                                                        </Badge>\n                                                    )}\n                                                </div>\n                                                <span className=\"text-xs text-gray-400\">\n                                                    {new Date(log.timestamp).toLocaleString()}\n                                                </span>\n                                            </div>\n\n                                            <p className=\"text-gray-700 mb-2\">{log.message}</p>\n\n                                            {log.userId && (\n                                                <p className=\"text-xs text-gray-500 mb-2\">User: {log.userId}</p>\n                                            )}\n\n                                            {log.data && (\n                                                <details className=\"mt-2\">\n                                                    <summary className=\"text-sm text-gray-500 cursor-pointer hover:text-gray-700\">\n                                                        Show Data\n                                                    </summary>\n                                                    <Textarea\n                                                        value={JSON.stringify(log.data, null, 2)}\n                                                        readOnly\n                                                        className=\"mt-2 font-mono text-xs\"\n                                                        rows={6}\n                                                    />\n                                                </details>\n                                            )}\n                                        </CardContent>\n                                    </Card>\n                                ))}\n                            </div>\n                        )}\n                    </ScrollArea>\n                </CardContent>\n            </Card>\n        </div>\n    )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}