exports.id=242,exports.ids=[242],exports.modules={305:(a,b,c)=>{"use strict";c.d(b,{DynamicBackground:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call DynamicBackground() from the server but DynamicBackground is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\studio.ankun\\components\\dynamic-background.tsx","DynamicBackground")},2586:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>k});var d=c(60687),e=c(6839),f=c(24934),g=c(19947),h=c(78122),i=c(37897),j=c(25366);function k({error:a,reset:b}){return(0,d.jsxs)("div",{className:"min-h-screen relative flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-950 to-purple-950",children:[(0,d.jsx)(e.DynamicBackground,{}),(0,d.jsxs)("div",{className:"relative z-10 text-center text-white max-w-md mx-auto p-6",children:[(0,d.jsx)("div",{className:"flex justify-center mb-6",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(g.A,{className:"h-20 w-20 text-red-500 animate-pulse"}),(0,d.jsx)("div",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs px-2 py-1 rounded-full",children:"505"})]})}),(0,d.jsx)("h1",{className:"text-4xl font-bold text-red-400 mb-4",children:"Server Error"}),(0,d.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Oops! Something went wrong"}),(0,d.jsxs)("div",{className:"bg-gray-800/80 backdrop-blur-md rounded-lg p-4 mb-6 text-left",children:[(0,d.jsx)("p",{className:"text-sm text-gray-300 mb-2",children:"Error Details:"}),(0,d.jsx)("p",{className:"text-xs text-red-300 font-mono break-words",children:a.message||"Unknown error occurred"}),a.digest&&(0,d.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:["Digest: ",a.digest]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)(f.$,{onClick:b,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 rounded-lg transition-colors",children:[(0,d.jsx)(h.A,{className:"mr-2 h-5 w-5"}),"Try Again"]}),(0,d.jsxs)(f.$,{onClick:()=>window.location.href="/",variant:"outline",className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700 py-3 rounded-lg transition-colors",children:[(0,d.jsx)(i.A,{className:"mr-2 h-5 w-5"}),"Go to Homepage"]}),(0,d.jsxs)(f.$,{onClick:()=>window.location.href="/log-console",variant:"link",className:"w-full text-gray-400 hover:text-gray-300 py-2",children:[(0,d.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"View System Logs"]})]}),(0,d.jsxs)("div",{className:"mt-6 text-xs text-gray-500",children:[(0,d.jsx)("p",{children:"If this problem persists, please contact support."}),(0,d.jsxs)("p",{className:"mt-1",children:["AKs Studio v2.0.0 – ",new Date().toLocaleDateString()]})]})]})]})}c(43210),c(46234)},2649:(a,b,c)=>{Promise.resolve().then(c.bind(c,22308))},6839:(a,b,c)=>{"use strict";c.d(b,{DynamicBackground:()=>g});var d=c(60687),e=c(43210);let f=({enableSound:a,onSoundToggle:b})=>(0,d.jsx)("button",{style:{position:"fixed",bottom:20,right:20,zIndex:50,background:"rgba(0,0,0,0.5)",color:"white",border:"none",borderRadius:"50%",width:40,height:40,cursor:"pointer"},onClick:()=>b(!a),"aria-label":a?"Mute background":"Unmute background",children:a?"\uD83D\uDD0A":"\uD83D\uDD07"});function g(){let[a,b]=(0,e.useState)(null),[c,g]=(0,e.useState)(!1),[h,i]=(0,e.useState)(0),[j,k]=(0,e.useState)(!1),l=(0,e.useMemo)(()=>{if(!a)return null;let b=null;if(a.randomVideo&&a.videoList&&a.videoList.length>0){var c;b=(c=a.videoList)[Math.floor(Math.random()*c.length)]}else a.videoUrl&&""!==a.videoUrl.trim()?b=function(a){let b=a.match(/(?:youtu\.be\/|youtube\.com\/(?:watch\?v=|embed\/|v\/))([\w-]{11})/);return b?b[1]:null}(a.videoUrl):a.videoList&&a.videoList.length>0&&(b=a.videoList[0]);return b||(b="dQw4w9WgXcQ"),b},[a?.randomVideo,a?.videoUrl,a?.videoList]);return a?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"fixed inset-0 z-0",children:["video"===a.type&&l?j?(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-red-900 to-purple-900 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-white text-center",children:[(0,d.jsx)("p",{className:"text-lg",children:"Video loading failed"}),(0,d.jsx)("p",{className:"text-sm opacity-75",children:"Retrying..."})]})}):(0,d.jsx)("iframe",{src:`https://www.youtube.com/embed/${l}?autoplay=1&mute=1&controls=0&loop=1&playlist=${l}&showinfo=0&rel=0&iv_load_policy=3&modestbranding=1&playsinline=1&enablejsapi=1&origin=${window.location.origin}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",className:"absolute inset-0 w-full h-full object-cover pointer-events-none select-none",style:{opacity:a.opacity},onLoad:a=>{let b=a.currentTarget;if(b?.contentWindow)try{b.contentWindow.postMessage('{"event":"command","func":"mute","args":""}',"https://www.youtube.com")}catch(a){console.warn("Could not mute video:",a)}},onError:()=>{console.warn("YouTube iframe failed to load, trying `fallback..."),k(!0),setTimeout(()=>{i(a=>a+1),k(!1)},2e3)}},h):(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500 to-purple-600"}),(0,d.jsx)("div",{className:`absolute inset-0 bg-black ${(a=>{let b=Math.max(.1,Math.min(.9,1-a));return b<=.1?"opacity-10":b<=.2?"opacity-20":b<=.3?"opacity-30":b<=.4?"opacity-40":b<=.5?"opacity-50":b<=.6?"opacity-60":b<=.7?"opacity-70":b<=.8?"opacity-80":"opacity-90"})(a.opacity)}`})]}),"video"===a.type&&l&&(0,d.jsx)(f,{enableSound:a.enableSound,onSoundToggle:c=>{if(a){let d={...a,enableSound:c};b(d),localStorage.setItem("backgroundSettings",JSON.stringify(d));let e=document.querySelector('iframe[title="YouTube Background Video"]');if(e?.contentWindow)try{e.contentWindow.postMessage('{"event":"command","func":"mute","args":""}',"https://www.youtube.com")}catch(a){console.warn("Could not update video sound:",a)}window.dispatchEvent(new CustomEvent("backgroundUpdate",{detail:d}))}}})]}):(0,d.jsx)("div",{className:"fixed inset-0 -z-10 bg-gradient-to-br from-indigo-500 to-purple-600"})}},12482:(a,b,c)=>{Promise.resolve().then(c.bind(c,19550))},13176:(a,b,c)=>{"use strict";c.d(b,{LoadingScreen:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call LoadingScreen() from the server but LoadingScreen is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\studio.ankun\\components\\loading-screen.tsx","LoadingScreen")},14947:(a,b,c)=>{"use strict";c.d(b,{O:()=>E,A:()=>F});var d=c(60687),e=c(43210),f=c(24934),g=c(68988),h=c(39390),i=c(55192),j=c(58869),k=c(64021),l=c(72730),m=c(30474),n=c(69804);function o({onLogin:a,onSwitchToRegister:b,onSwitchToForgot:c}){let[o,p]=(0,e.useState)(""),[q,r]=(0,e.useState)(""),[s,t]=(0,e.useState)(!1),[u,v]=(0,e.useState)(""),[w,x]=(0,e.useState)("Xin ch\xe0o"),[y,z]=(0,e.useState)(0),[A,B]=(0,e.useState)(""),[C,D]=(0,e.useState)(""),[E,F]=(0,e.useState)(""),[G]=(0,e.useState)({appName:process.env.COMPANY_NAME,logoUrl:process.env.COMPANY_LOGO});(0,e.useMemo)(()=>["Xin ch\xe0o","こんにちは","Hola","Bonjour","Hello","Hajimemashite","Guten Tag","Ciao","Namaste","Zdravstvuyte","안녕하세요","你好","مرحبا","Salam"],[]),(0,e.useCallback)(a=>{if(a.length>=3){let b=a.substring(0,3).toLowerCase();return"ank"===b||"kun"===b?"An Kun":"adm"===b?"Người quản l\xfd":"ngh"===b||"art"===b?"Nghệ sĩ":"Nghệ sĩ mới"}return""},[]);let H=async b=>{b.preventDefault();let c=I(o),d=J(q);if(!c||!d)return void v("Vui l\xf2ng sửa c\xe1c lỗi được hiển thị.");t(!0),v("");try{(0,n.Pv)("form","login-form",{username:o,attempt:"started"});let b=await a(o,q);console.log("[Copilot Debug] API login result:",b),b.success?(0,n.u1)("password","success",{username:o,role:A||"user"}):(v(b.message??"Đăng nhập thất bại"),(0,n.u1)("password","failed",{username:o,error:b.message||"Unknown error"}))}catch(a){console.error("[Copilot Debug] Login error:",a),v("Đ\xe3 xảy ra lỗi kh\xf4ng mong muốn"),(0,n.u1)("password","error",{username:o,error:a instanceof Error?a.message:"Unknown error"})}finally{t(!1)}},I=a=>a.length<3?(D("Username must be at least 3 characters"),!1):a.length>20?(D("Username must be less than 20 characters"),!1):(D(""),!0),J=a=>a.length<6?(F("Password must be at least 6 characters"),!1):(F(""),!0),K="transition-all duration-300 bg-transparent border-gray-600 hover:border-gray-400 focus:border-primary focus:ring-primary/20";return(0,d.jsx)("div",{className:"flex min-h-[100dvh] flex-col items-center justify-center p-4 pt-24 relative overflow-hidden",children:(0,d.jsxs)(i.Zp,{className:"w-full max-w-md relative z-40 border border-white/10 shadow-2xl bg-background/5 backdrop-blur-2xl hover:bg-background/10 transition-all duration-500 before:absolute before:inset-0 before:bg-gradient-to-b before:from-white/5 before:to-white/0 before:rounded-xl",children:[(0,d.jsxs)(i.aR,{className:"text-center relative z-10",children:[(0,d.jsxs)("div",{className:"relative w-20 h-20 mx-auto mb-2",children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 to-purple-600/20 rounded-full blur-lg"}),(0,d.jsx)(m.default,{src:process.env.COMPANY_LOGO||"/logo.png",alt:process.env.COMPANY_NAME||"Digital Music Distribution",fill:!0,className:"object-cover rounded-full p-1 bg-background/10 backdrop-blur-xl border border-white/20 hover:border-white/40 transition-all duration-300 hover:scale-105",priority:!0})]}),(0,d.jsx)("p",{className:"text-muted-foreground text-sm animate-fade-in",children:A||`Welcome back to ${process.env.COMPANY_NAME}`}),(0,d.jsx)("h2",{className:"text-2xl font-bold bg-clip-text text-transparent  bg-gradient-to-r from-indigo-500 to-pink-500 select-none",children:w})]}),(0,d.jsx)(i.Wu,{children:(0,d.jsxs)("form",{onSubmit:H,className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2 group/username",children:[(0,d.jsx)(h.J,{htmlFor:"username",className:"text-sm font-medium inline-block transition-transform duration-300 group-focus-within/username:translate-x-2",children:"Username"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(g.p,{id:"username",type:"text",value:o,onChange:a=>{p(a.target.value),I(a.target.value)},className:`pl-10 bg-background/30 border-white/10 focus:border-primary/50
                    placeholder:text-muted-foreground/50 ${K}
                    focus:bg-background/40 focus:ring-2 focus:ring-offset-0
                    ${C?"border-destructive/50 focus:border-destructive":""}`,placeholder:"Enter your username","aria-invalid":!!C,"aria-describedby":C?"username-error":void 0,disabled:s}),(0,d.jsx)(j.A,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground/50 transition-transform duration-300 group-focus-within/username:scale-110 group-focus-within/username:text-primary/70"})]}),C&&(0,d.jsxs)("div",{id:"username-error",className:"text-xs text-destructive mt-1 ml-1 animate-fade-in flex items-center gap-1",children:[(0,d.jsx)("i",{className:"fas fa-exclamation-circle"}),C]})]}),(0,d.jsxs)("div",{className:"space-y-2 group/password",children:[(0,d.jsx)(h.J,{htmlFor:"password",className:"text-sm font-medium inline-block transition-transform duration-300 group-focus-within/password:translate-x-2",children:"Password"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(g.p,{id:"password",type:"password",value:q,onChange:a=>{r(a.target.value),J(a.target.value)},className:`pl-10 bg-background/30 border-white/10 focus:border-primary/50
                    placeholder:text-muted-foreground/50 ${K}
                    focus:bg-background/40 focus:ring-2 focus:ring-offset-0
                    ${E?"border-destructive/50 focus:border-destructive":""}`,placeholder:"Enter your password","aria-invalid":!!E,"aria-describedby":E?"password-error":void 0,autoComplete:"current-password",disabled:s}),(0,d.jsx)(k.A,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground/50 transition-transform duration-300 group-focus-within/password:scale-110 group-focus-within/password:text-primary/70"})]}),E&&(0,d.jsxs)("div",{id:"password-error",className:"text-xs text-destructive mt-1 ml-1 animate-fade-in flex items-center gap-1",children:[(0,d.jsx)("i",{className:"fas fa-exclamation-circle"}),E]})]}),u&&(0,d.jsxs)("div",{className:"p-3 rounded-lg bg-destructive/10 border border-destructive/20 text-destructive text-sm animate-fade-in flex items-center gap-2",children:[(0,d.jsx)("i",{className:"fas fa-exclamation-triangle"}),(0,d.jsx)("span",{className:"flex-1",children:u}),(0,d.jsx)("button",{type:"button",onClick:()=>v(""),className:"text-destructive/70 hover:text-destructive transition-colors","aria-label":"Dismiss error",children:(0,d.jsx)("i",{className:"fas fa-times"})})]}),(0,d.jsx)(f.$,{type:"submit",className:"w-full relative overflow-hidden group login-button transition-all duration-500 bg-gradient-to-r from-primary via-purple-600 to-primary hover:scale-[1.02] hover:shadow-xl hover:shadow-primary/20 active:scale-[0.98]",disabled:s,variant:"default",children:s?(0,d.jsx)(l.A,{className:"h-5 w-5 animate-spin"}):(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("span",{className:"relative z-10",children:"Login"})})}),(0,d.jsxs)("div",{className:"flex flex-col space-y-3 text-center text-sm",children:[(0,d.jsxs)(f.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>{(0,n.Pv)("button","forgot-password",{source:"login-view"}),c()},className:"h-9 text-muted-foreground hover:text-primary hover:bg-primary/10  transition-all duration-300 border border-transparent hover:border-primary/20 backdrop-blur-sm group relative overflow-hidden",children:[(0,d.jsxs)("span",{className:"relative z-10 flex items-center gap-2",children:[(0,d.jsx)("i",{className:"fas fa-key text-xs"}),"Forgot password?"]}),(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/0 via-primary/5 to-primary/0  translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-500"})]}),(0,d.jsxs)(f.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{(0,n.Pv)("button","switch-to-register",{source:"login-view"}),b()},className:"h-10 bg-gradient-to-r from-primary/10 to-purple-600/10  border-primary/30 hover:border-primary/50 text-foreground hover:text-primary hover:bg-gradient-to-r hover:from-primary/20 hover:to-purple-600/20 transition-all duration-300 backdrop-blur-sm group relative overflow-hidden hover:shadow-lg hover:shadow-primary/20",children:[(0,d.jsxs)("span",{className:"relative z-10 flex items-center gap-2",children:[(0,d.jsx)("i",{className:"fas fa-user-plus text-xs"}),"Don't have an account? ",(0,d.jsx)("strong",{children:"Register"})]}),(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/0 via-primary/10 to-primary/0  translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"})]})]})]})})]})})}c(17360);var p=c(41550),q=c(99891);function r({onRegister:a,onSwitchToLogin:b}){let[c,o]=(0,e.useState)(""),[r,s]=(0,e.useState)(""),[t,u]=(0,e.useState)(""),[v,w]=(0,e.useState)(""),[x,y]=(0,e.useState)(!1),[z,A]=(0,e.useState)(""),[B,C]=(0,e.useState)(""),[D,E]=(0,e.useState)(!1),[F,G]=(0,e.useState)({username:"",email:"",password:"",confirmPassword:""}),H=(0,e.useCallback)(()=>{let a={username:"",email:"",password:"",confirmPassword:""},b=!0;return c.length<3&&(a.username="Username phải c\xf3 \xedt nhất 3 k\xfd tự",b=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||(a.email="Email kh\xf4ng hợp lệ",b=!1),t.length<6&&(a.password="Password phải c\xf3 \xedt nhất 6 k\xfd tự",b=!1),t!==v&&(a.confirmPassword="Mật khẩu kh\xf4ng khớp",b=!1),G(a),b},[c,r,t,v]),I=async b=>{if(b.preventDefault(),A(""),C(""),H()){if(!D)return void A("Bạn phải đồng \xfd với điều khoản sử dụng");y(!0),(0,n.Pv)("form","register-form",{username:c,email_domain:r.split("@")[1]});try{let b=await a(c,r,t);console.log("[Copilot Debug] API register result:",b),b.success?((0,n.cV)("email","success",{username:c,email_domain:r.split("@")[1]}),C("Đăng k\xfd th\xe0nh c\xf4ng! Bạn c\xf3 thể đăng nhập ngay b\xe2y giờ."),o(""),s(""),u(""),w(""),E(!1)):((0,n.cV)("email","failed",{username:c,email_domain:r.split("@")[1],error:b.message}),A(b.message||"Đăng k\xfd thất bại, vui l\xf2ng thử lại"))}catch(a){console.error("[Copilot Debug] Register error:",a),(0,n.cV)("email","error",{username:c,email_domain:r.split("@")[1],error:a instanceof Error?a.message:String(a)}),A("Đ\xe3 xảy ra lỗi khi đăng k\xfd. Vui l\xf2ng thử lại sau.")}finally{y(!1)}}};return(0,d.jsx)("div",{className:"flex min-h-[100dvh] flex-col items-center justify-center p-4 relative overflow-hidden",children:(0,d.jsxs)(i.Zp,{className:"w-full max-w-md relative z-10 border-0 shadow-2xl  bg-background/60 backdrop-blur-xl hover:bg-background/70 transition-all duration-300 before:absolute before:inset-0 before:bg-gradient-to-b before:from-white/10 before:to-white/5 before:rounded-xl",children:[(0,d.jsxs)(i.aR,{className:"text-center space-y-2",children:[(0,d.jsx)("div",{className:"relative w-20 h-20 mx-auto mb-2",children:(0,d.jsx)(m.default,{src:"/face.png",alt:"Logo",fill:!0,className:"object-cover rounded-full p-1 bg-background/40 backdrop-blur-sm",priority:!0})}),(0,d.jsx)("h2",{className:"text-2xl font-bold bg-clip-text text-transparent  bg-gradient-to-r from-indigo-500 to-pink-500",children:"Tạo t\xe0i khoản mới"}),(0,d.jsx)("p",{className:"text-muted-foreground text-sm",children:"Tham gia cộng đồng AKs Studio"})]}),(0,d.jsx)(i.Wu,{children:(0,d.jsxs)("form",{onSubmit:I,className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(h.J,{htmlFor:"username",className:"text-sm font-medium",children:"Username"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(g.p,{id:"username",type:"text",value:c,onChange:a=>o(a.target.value),className:"pl-10 bg-background/40 border-muted-foreground/20 focus:border-primary/50",placeholder:"Choose a username",disabled:x}),(0,d.jsx)(j.A,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground/70"})]}),F.username&&(0,d.jsx)("p",{className:"text-destructive text-sm mt-1",children:F.username})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(h.J,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(g.p,{id:"email",type:"email",value:r,onChange:a=>s(a.target.value),className:"pl-10 bg-background/40 border-muted-foreground/20 focus:border-primary/50",placeholder:"Enter your email",disabled:x}),(0,d.jsx)(p.A,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground/70"})]}),F.email&&(0,d.jsx)("p",{className:"text-destructive text-sm mt-1",children:F.email})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(h.J,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(g.p,{id:"password",type:"password",value:t,onChange:a=>u(a.target.value),className:"pl-10 bg-background/40 border-muted-foreground/20 focus:border-primary/50",placeholder:"Choose a password",disabled:x}),(0,d.jsx)(k.A,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground/70"})]}),F.password&&(0,d.jsx)("p",{className:"text-destructive text-sm mt-1",children:F.password})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(h.J,{htmlFor:"confirmPassword",className:"text-sm font-medium",children:"Confirm Password"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(g.p,{id:"confirmPassword",type:"password",value:v,onChange:a=>w(a.target.value),className:"pl-10 bg-background/40 border-muted-foreground/20 focus:border-primary/50",placeholder:"Confirm your password",disabled:x}),(0,d.jsx)(q.A,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground/70"})]}),F.confirmPassword&&(0,d.jsx)("p",{className:"text-destructive text-sm mt-1",children:F.confirmPassword})]}),(0,d.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,d.jsx)("input",{type:"checkbox",checked:D,onChange:a=>E(a.target.checked),className:"rounded border-muted-foreground/20"}),(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:"T\xf4i đồng \xfd với c\xe1c điều khoản sử dụng"})]}),z&&(0,d.jsx)("div",{className:"p-3 rounded-lg bg-destructive/10 border border-destructive/20 text-destructive text-sm",children:z}),B&&(0,d.jsx)("div",{className:"p-3 rounded-lg bg-green-500/10 border border-green-500/20 text-green-500 text-sm",children:B}),(0,d.jsx)(f.$,{type:"submit",className:"w-full relative overflow-hidden group",disabled:x,children:x?(0,d.jsx)(l.A,{className:"h-5 w-5 animate-spin"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"relative z-10",children:"Register"}),(0,d.jsx)("span",{className:"absolute inset-0 bg-gradient-to-r from-primary/0 via-primary/20 to-primary/0  translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"})]})}),(0,d.jsxs)(f.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{(0,n.Pv)("button","switch-to-login",{from:"register"}),b()},className:"h-10 bg-gradient-to-r from-blue-500/10 to-indigo-600/10  border-blue-500/30 hover:border-blue-500/50 text-foreground hover:text-blue-500 hover:bg-gradient-to-r hover:from-blue-500/20 hover:to-indigo-600/20 transition-all duration-300 backdrop-blur-sm group relative overflow-hidden hover:shadow-lg hover:shadow-blue-500/20",children:[(0,d.jsxs)("span",{className:"relative z-10 flex items-center gap-2",children:[(0,d.jsx)("i",{className:"fas fa-sign-in-alt text-xs"}),"Already have an account? ",(0,d.jsx)("strong",{children:"Login"})]}),(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/0 via-blue-500/10 to-blue-500/0  translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"})]})]})})]})})}let s=["dQw4w9WgXcQ","kJQP7kiw5Fk","fJ9rUzIMcZQ","9bZkp7q19f0","hTWKbfoikeg","YQHsXMglC9A","CevxZvSJLk8","JGwWNGJdvx8","RgKAFK5djSk","OPf0YbXqDm0"];function t(){let[a,b]=(0,e.useState)({type:"gradient",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",videoUrl:"",imageUrl:"",opacity:.3,randomVideo:!0,videoList:s}),[c,f]=(0,e.useState)(""),[g,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)(""),[k,l]=(0,e.useState)(""),[m,n]=(0,e.useState)(null),[o,p]=(0,e.useState)(!1),[q,r]=(0,e.useState)(null),[t,u]=(0,e.useState)({gradient:"",animation:"",font:""}),[v,w]=(0,e.useState)({gradient:"",animation:"",font:""});return(0,d.jsxs)("div",{className:"fixed inset-0 -z-10",children:["video"===a.type&&c&&(0,d.jsx)("iframe",{src:`https://www.youtube.com/embed/${c}?autoplay=1&mute=1&controls=0&loop=1&playlist=${c}&showinfo=0&rel=0&iv_load_policy=3&modestbranding=1&playsinline=1&enablejsapi=1&origin=${window.location.origin}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",className:"absolute inset-0 w-full h-full object-cover pointer-events-none select-none",style:{opacity:a.opacity}}),"gradient"===a.type&&(0,d.jsx)("div",{className:"absolute inset-0 transition-opacity duration-1000",style:{background:a.gradient,opacity:a.opacity}}),"image"===a.type&&a.imageUrl&&(0,d.jsx)("div",{className:"absolute inset-0 bg-center bg-cover transition-opacity duration-1000",style:{backgroundImage:`url(${a.imageUrl})`,opacity:a.opacity}}),(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-transparent to-black/40"})]})}var u=c(8819);let v={type:"gradient",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",videoUrl:"",imageUrl:"",opacity:.3,randomVideo:!0,videoList:["dQw4w9WgXcQ","kJQP7kiw5Fk","fJ9rUzIMcZQ","9bZkp7q19f0","hTWKbfoikeg","YQHsXMglC9A","CevxZvSJLk8","JGwWNGJdvx8","RgKAFK5djSk","OPf0YbXqDm0"],enableSound:!1},w=["dQw4w9WgXcQ","kJQP7kiw5Fk","fJ9rUzIMcZQ","9bZkp7q19f0","hTWKbfoikeg","YQHsXMglC9A","CevxZvSJLk8","JGwWNGJdvx8","RgKAFK5djSk","OPf0YbXqDm0"];function x({onClose:a}={}){let[b,c]=(0,e.useState)(v),[g,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)(""),[k,l]=(0,e.useState)("0.5"),[n,o]=(0,e.useState)(b.imageUrl||"");return(0,d.jsx)("div",{className:"fixed top-16 right-4 z-50",children:(0,d.jsxs)("div",{className:"bg-gray-900/95 backdrop-blur-md border border-gray-700 rounded-lg p-6 w-80 max-h-[80vh] overflow-y-auto",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-white",children:"T\xf9y chỉnh nền"}),(0,d.jsx)("button",{className:"text-gray-400 hover:text-white transition-colors",onClick:()=>h(!g),children:g?"Đơn giản":"N\xe2ng cao"})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("label",{htmlFor:"opacity",className:"block text-sm font-medium text-gray-200",children:["Độ mờ nền",(0,d.jsxs)("span",{className:"text-xs text-gray-400 ml-2",children:["\xa0(",Math.round(100*Number(k)),"%)"]})]}),(0,d.jsx)("input",{id:"opacity",type:"range",min:"0",max:"1",step:"0.1",value:k,onChange:a=>{let b=a.target.value;l(b),c(a=>({...a,opacity:parseFloat(b)}))},className:"w-full"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{htmlFor:"backgroundType",className:"block text-sm font-medium text-gray-200",children:"Loại nền"}),(0,d.jsxs)("select",{id:"backgroundType",value:b.type,onChange:a=>{let b=a.target.value;c(a=>({...a,type:b}))},className:"w-full p-2 bg-gray-800 border border-gray-600 rounded text-gray-200 text-sm",children:[(0,d.jsx)("option",{value:"gradient",children:"Nền gradient"}),(0,d.jsx)("option",{value:"video",children:"Video nền"}),(0,d.jsx)("option",{value:"image",children:"Ảnh nền"})]})]}),"gradient"===b.type&&(0,d.jsxs)("div",{className:"space-y-4 bg-black/30 backdrop-blur-xl rounded-2xl border border-white/10 shadow-2xl p-6",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{htmlFor:"gradient",className:"block text-sm font-medium text-gray-200",children:"Chọn gradient"}),(0,d.jsxs)("select",{id:"gradient",value:b.gradient,onChange:a=>{c(b=>({...b,gradient:a.target.value}))},className:"w-full p-2 bg-gray-800 border border-gray-600 rounded text-gray-200 text-sm",children:[(0,d.jsx)("option",{value:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",children:"T\xedm - Xanh"}),(0,d.jsx)("option",{value:"linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%)",children:"Hồng - Cam"}),(0,d.jsx)("option",{value:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",children:"Xanh - Hồng nhạt"}),(0,d.jsx)("option",{value:"linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%)",children:"Xanh l\xe1 - Xanh dương"}),(0,d.jsx)("option",{value:"linear-gradient(135deg, #f6d365 0%, #fda085 100%)",children:"V\xe0ng - Cam"}),(0,d.jsx)("option",{value:"linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%)",children:"Xanh l\xe1 nhạt"}),(0,d.jsx)("option",{value:"linear-gradient(135deg, #5ee7df 0%, #b490ca 100%)",children:"Xanh ngọc - T\xedm"}),(0,d.jsx)("option",{value:"linear-gradient(135deg, #c471f5 0%, #fa71cd 100%)",children:"T\xedm - Hồng"}),(0,d.jsx)("option",{value:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",children:"Xanh dương - Xanh ngọc"})]})]}),(0,d.jsxs)("div",{className:"mt-4",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-200 mb-2",children:"Xem trước:"}),(0,d.jsx)("div",{className:"w-full h-32 rounded-lg border border-gray-700",style:{background:b.gradient}})]})]}),"video"===b.type&&(0,d.jsxs)("div",{className:"space-y-4 bg-black/30 backdrop-blur-xl rounded-2xl border border-white/10 shadow-2xl p-6",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("input",{id:"randomVideo",type:"checkbox",checked:b.randomVideo,onChange:a=>{var b;return b=a.target.checked,void c(a=>({...a,randomVideo:b,videoList:b?w:[]}))},className:"rounded border-gray-600"}),(0,d.jsx)("label",{htmlFor:"randomVideo",className:"text-sm text-gray-300",children:"Video ngẫu nhi\xean"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("input",{id:"enableSound",type:"checkbox",checked:b.enableSound,onChange:a=>{var b;return b=a.target.checked,void c(a=>({...a,enableSound:b}))},className:"rounded border-gray-600"}),(0,d.jsx)("label",{htmlFor:"enableSound",className:"text-sm text-gray-300",children:"Bật \xe2m thanh"})]})]}),g&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{htmlFor:"youtubeUrl",className:"block text-sm font-medium text-gray-200",children:"YouTube Video ID hoặc URL"}),(0,d.jsx)("input",{id:"youtubeUrl",type:"text",value:i,onChange:a=>j(a.target.value),placeholder:"V\xed dụ: dQw4w9WgXcQ",className:"w-full p-2 bg-gray-800 border border-gray-600 rounded text-gray-200 text-sm"}),(0,d.jsx)(f.$,{onClick:()=>(a=>{let b=/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/.exec(a),d=b?b[1]:a;d&&(j(d),c(a=>({...a,type:"video",videoUrl:d,randomVideo:!1})))})(i),className:"w-full mt-2",size:"sm",children:"\xc1p dụng video"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{htmlFor:"videoList",className:"block text-sm font-medium text-gray-200",children:"Danh s\xe1ch video ngẫu nhi\xean"}),(0,d.jsx)("div",{className:"max-h-32 overflow-y-auto space-y-1",children:b.videoList.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,d.jsxs)("span",{className:"text-gray-400",children:[b+1,"."]}),(0,d.jsx)("code",{className:"text-xs bg-gray-800 px-1.5 py-0.5 rounded flex-1",children:a}),(0,d.jsx)("button",{onClick:()=>{c(b=>({...b,videoList:b.videoList.filter(b=>b!==a)}))},className:"text-red-400 hover:text-red-300 p-1",title:"X\xf3a video n\xe0y",children:"\xd7"})]},a))})]})]})]}),"image"===b.type&&(0,d.jsxs)("div",{className:"space-y-4 bg-black/30 backdrop-blur-xl rounded-2xl border border-white/10 shadow-2xl p-6",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-200",children:"URL ảnh nền"}),(0,d.jsx)("input",{id:"imageUrl",type:"text",value:b.imageUrl,onChange:a=>{let b=a.target.value;c(a=>({...a,imageUrl:b})),o(b)},placeholder:"https://example.com/image.jpg",className:"w-full p-2 bg-gray-800 border border-gray-600 rounded text-gray-200 text-sm"}),(0,d.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Nhập URL của ảnh nền. Ảnh sẽ được căn giữa v\xe0 tự động co d\xe3n để phủ to\xe0n m\xe0n h\xecnh."})]}),b.imageUrl&&(0,d.jsxs)("div",{className:"mt-4",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-200 mb-2",children:"Xem trước:"}),(0,d.jsx)("div",{className:"relative w-full h-32",children:(0,d.jsx)(m.default,{src:n||'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24"><path fill="%23666" d="M21 5v6.59l-3-3.01-4 4.01-4-4-4 4-3-3.01V5h18zm-3 6.42l3 3.01V19H3v-5.58l3 2.99 4-4 4 4 4-4 3 3.01z"/></svg>',alt:"Background preview",className:"rounded-lg border border-gray-700",fill:!0,style:{objectFit:"cover"},onError:()=>{o('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24"><path fill="%23666" d="M21 5v6.59l-3-3.01-4 4.01-4-4-4 4-3-3.01V5h18zm-3 6.42l3 3.01V19H3v-5.58l3 2.99 4-4 4 4 4-4 3 3.01z"/></svg>')}})})]})]}),(0,d.jsx)("div",{className:"pt-4",children:(0,d.jsxs)(f.$,{onClick:()=>{try{let a={...b,opacity:parseFloat(k),videoUrl:i||b.videoUrl};localStorage.setItem("backgroundSettings_v2",JSON.stringify(a)),c(a),window.dispatchEvent(new CustomEvent("backgroundUpdate",{detail:a}))}catch(a){console.error("Failed to save background settings:",a)}},className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:[(0,d.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Lưu c\xe0i đặt"]})})]})]})})}var y=c(84027),z=c(88920),A=c(92576);let B=({children:a,showLogin:b,showSettings:c,setShowSettings:e})=>(0,d.jsxs)("div",{className:"relative min-h-screen w-full flex flex-col items-center overflow-hidden",children:[(0,d.jsx)(t,{}),(0,d.jsxs)("div",{className:"w-full h-16 flex items-center justify-between px-6 backdrop-blur-2xl bg-black/10 border-b border-white/10 z-50 sticky top-0 transition-all duration-300 hover:bg-black/20",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-white/20 shadow-lg hover:border-white/40 transition-all duration-300  hover:shadow-primary/20 group relative",children:[(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-purple-600/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,d.jsx)(m.default,{src:"/face.png",alt:"Logo",width:32,height:32,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",priority:!0})]}),(0,d.jsx)("span",{className:"font-semibold text-foreground/90 bg-gradient-to-r from-white to-white/80 bg-clip-text hover:text-transparent transition-all duration-300",children:"An Kun Studio"})]}),(0,d.jsxs)(f.$,{variant:"ghost",size:"sm",className:"text-foreground/70 hover:text-foreground transition-all duration-300 gap-2 group bg-white/5 hover:bg-white/10 hover:shadow-lg hover:shadow-primary/10",onClick:()=>e(!c),children:[(0,d.jsxs)("span",{className:"text-sm relative",children:["Background",(0,d.jsx)("span",{className:"absolute inset-0 bg-gradient-to-r from-primary/0 via-primary/30 to-primary/0  opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),(0,d.jsx)(y.A,{className:"h-4 w-4 group-hover:rotate-90 group-hover:text-primary transition-all duration-300"})]})]}),(0,d.jsx)(z.N,{children:c&&(0,d.jsx)(A.P.div,{initial:{opacity:0,height:0,y:-10},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:-10},transition:{type:"spring",stiffness:300,damping:30,mass:.8},className:"absolute top-16 right-0 z-50 w-full max-w-sm overflow-hidden origin-top",children:(0,d.jsx)("div",{className:"p-4",children:(0,d.jsx)(x,{onClose:()=>e(!1)})})})}),(0,d.jsx)("div",{className:"flex-1 flex items-center justify-center w-full px-4 py-8",children:(0,d.jsxs)("div",{className:"relative w-full max-w-md",children:[(0,d.jsx)("div",{className:"absolute -top-24 left-1/2 transform -translate-x-1/2 w-20 h-20",children:(0,d.jsx)("div",{className:"w-full h-full rounded-full backdrop-blur-sm border border-white/20 shadow-[0_8px_32px_rgba(0,0,0,0.2)] transition-all duration-300",children:(0,d.jsx)(m.default,{src:"/public/media.webp",alt:"An Kun Studio Logo Media",width:100,height:100,className:"w-full h-full object-cover rounded-full",priority:!0})})}),(0,d.jsx)(A.P.div,{className:"w-full backdrop-blur-md rounded-2xl shadow-[0_8px_32px_rgba(0,0,0,0.2)] p-8 border border-white/20",layout:!0,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:(0,d.jsx)(z.N,{mode:"wait",children:(0,d.jsx)(A.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:a},b?"login":"register")})})]})})]});function C({onLoginSuccess:a,onLoginCancel:b,onRegisterSuccess:c,showLogin:f,showRegister:g,onSwitchToRegister:h,onSwitchToLogin:i}){let[j,k]=(0,e.useState)(!1),l=async(b,c)=>{try{let d=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:b,password:c})}),e=await d.json();if(d.ok&&e.success&&e.data)return a(e.data),{success:!0};return{success:!1,message:e.message??"Đăng nhập thất bại"}}catch(a){return console.error("Login error:",a),{success:!1,message:"Đ\xe3 xảy ra lỗi kh\xf4ng mong muốn"}}},m=async(a,b,d)=>{try{let e=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,email:b,password:d})}),f=await e.json();if(e.ok&&f.success&&f.data)return c(f.data),{success:!0};return{success:!1,message:f.message??"Đăng k\xfd thất bại"}}catch(a){return console.error("Register error:",a),{success:!1,message:"Đ\xe3 xảy ra lỗi kh\xf4ng mong muốn"}}};return f?(0,d.jsx)(B,{showLogin:f,showSettings:j,setShowSettings:k,children:(0,d.jsx)(o,{onLogin:l,onSwitchToRegister:h,onSwitchToForgot:b})}):g?(0,d.jsx)(B,{showLogin:f,showSettings:j,setShowSettings:k,children:(0,d.jsx)(r,{onRegister:m,onSwitchToLogin:i})}):null}let D=(0,e.createContext)(void 0);function E({children:a}){let[b,c]=(0,e.useState)(null),[f,g]=(0,e.useState)(!0),[h,i]=(0,e.useState)(!1),[j,k]=(0,e.useState)(!1),l=(0,e.useCallback)(async(a,b)=>{try{g(!0);let d=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:b})}),e=await d.json();if(console.log("DEBUG [AuthProvider]: API Response Data:",e),d.ok&&e.data)return c(e.data),localStorage.setItem("currentUser",JSON.stringify(e.user)),i(!1),!0;return!1}catch(a){return console.error("❌ AuthProvider: Login error:",a),!1}finally{g(!1)}},[]),m=(0,e.useCallback)(()=>{c(null),localStorage.removeItem("currentUser"),i(!0)},[]),n=(0,e.useCallback)(()=>{i(!0),k(!1)},[]),o=(0,e.useCallback)(()=>{k(!0),i(!1)},[]),p=(0,e.useMemo)(()=>({user:b,login:l,logout:m,loading:f,showLoginModal:n,showRegisterModal:o}),[b,l,m,f,n,o]);return f?(0,d.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-gray-900/95 to-black/95 backdrop-blur-sm",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"w-16 h-16 border-4 border-white/30 border-t-white rounded-full animate-spin mx-auto mb-4"}),(0,d.jsx)("div",{className:"text-white text-xl font-medium",children:"Đang x\xe1c thực..."}),(0,d.jsx)("div",{className:"text-white/70 text-sm mt-2",children:"AKs Studio Digital Music"})]})}):(0,d.jsx)(D.Provider,{value:p,children:!b&&(h||j)?(0,d.jsx)(C,{onLoginSuccess:a=>{c(a),i(!1),k(!1)},onLoginCancel:()=>i(!1),onRegisterSuccess:a=>{c(a),k(!1)},onRegisterCancel:()=>k(!1),showLogin:h,showRegister:j,onSwitchToRegister:()=>{i(!1),k(!0)},onSwitchToLogin:()=>{k(!1),i(!0)}}):a})}function F(){let a=(0,e.useContext)(D);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a}},15616:(a,b,c)=>{"use strict";c.d(b,{T:()=>g});var d=c(60687),e=c(43210),f=c(96241);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("textarea",{className:(0,f.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:c,...b}));g.displayName="Textarea"},17011:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,16444,23)),Promise.resolve().then(c.t.bind(c,16042,23)),Promise.resolve().then(c.t.bind(c,49477,23)),Promise.resolve().then(c.t.bind(c,29345,23)),Promise.resolve().then(c.t.bind(c,12089,23)),Promise.resolve().then(c.t.bind(c,46577,23)),Promise.resolve().then(c.t.bind(c,31307,23)),Promise.resolve().then(c.t.bind(c,14817,23))},17360:()=>{},19550:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>j});var d=c(60687),e=c(24934),f=c(19947),g=c(78122),h=c(37897),i=c(30474);function j({error:a,reset:b}){return(0,d.jsx)("html",{lang:"vi",children:(0,d.jsxs)("body",{className:"bg-gradient-to-br from-gray-900 via-gray-950 to-purple-950 text-white min-h-screen flex items-center justify-center relative",children:[(0,d.jsxs)("div",{className:"absolute top-8 left-1/2 -translate-x-1/2 flex flex-col items-center",children:[(0,d.jsx)(i.default,{src:"/face.png",alt:"AKs Studio",width:56,height:56,className:"rounded-full border-2 border-purple-500 shadow-lg"}),(0,d.jsx)("span",{className:"mt-2 text-lg font-bold tracking-wide text-purple-300",children:"AKs Studio"})]}),(0,d.jsxs)("div",{className:"text-center max-w-md mx-auto p-6 bg-black/60 rounded-xl shadow-2xl border border-gray-800 backdrop-blur-md",children:[(0,d.jsx)(f.A,{className:"h-20 w-20 text-red-500 mx-auto mb-6 animate-bounce"}),(0,d.jsx)("h1",{className:"text-4xl font-bold text-red-400 mb-4",children:"Đ\xe3 xảy ra lỗi nghi\xeam trọng"}),(0,d.jsx)("p",{className:"text-gray-300 mb-6",children:"Một lỗi kh\xf4ng thể phục hồi đ\xe3 xảy ra. Vui l\xf2ng thử lại hoặc quay về trang chủ."}),a.digest&&(0,d.jsx)("div",{className:"bg-gray-800/50 rounded p-3 mb-4",children:(0,d.jsxs)("p",{className:"text-xs text-gray-400",children:["M\xe3 lỗi: ",a.digest]})}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)(e.$,{onClick:b,className:"w-full bg-red-600 hover:bg-red-700",children:[(0,d.jsx)(g.A,{className:"mr-2 h-5 w-5"}),"Thử lại"]}),(0,d.jsxs)(e.$,{onClick:()=>window.location.href="/",variant:"outline",className:"w-full",children:[(0,d.jsx)(h.A,{className:"mr-2 h-5 w-5"}),"Về trang chủ"]})]}),(0,d.jsxs)("div",{className:"mt-6 text-xs text-gray-500",children:[(0,d.jsxs)("p",{children:["AKs Studio \xa9 ",new Date().getFullYear()," – Digital Music Distribution"]}),(0,d.jsx)("p",{className:"mt-1",children:"Phi\xean bản: v2.0.0"})]})]})]})})}},22308:(a,b,c)=>{"use strict";c.d(b,{RootLayoutClient:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call RootLayoutClient() from the server but RootLayoutClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\studio.ankun\\components\\root-layout-client.tsx","RootLayoutClient")},24934:(a,b,c)=>{"use strict";c.d(b,{$:()=>j});var d=c(60687),e=c(43210),f=c(8730),g=c(24224),h=c(96241);let i=(0,g.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=e.forwardRef(({className:a,variant:b,size:c,asChild:e=!1,...g},j)=>{let k=e?f.DX:"button";return(0,d.jsx)(k,{className:(0,h.cn)(i({variant:b,size:c,className:a})),ref:j,...g})});j.displayName="Button"},38682:(a,b,c)=>{Promise.resolve().then(c.bind(c,6839)),Promise.resolve().then(c.t.bind(c,85814,23))},39097:(a,b,c)=>{Promise.resolve().then(c.bind(c,85343))},39390:(a,b,c)=>{"use strict";c.d(b,{J:()=>j});var d=c(60687),e=c(43210),f=c(78148),g=c(24224),h=c(96241);let i=(0,g.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.b,{ref:c,className:(0,h.cn)(i(),a),...b}));j.displayName=f.b.displayName},39994:(a,b,c)=>{Promise.resolve().then(c.bind(c,92606))},44026:(a,b,c)=>{Promise.resolve().then(c.bind(c,46076))},46076:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"F:\\\\studio.ankun\\\\app\\\\global-error.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\studio.ankun\\app\\global-error.tsx","default")},46234:(a,b,c)=>{"use strict";c.d(b,{v:()=>e});class d{createEntry(a,b,c,d){return{id:`${Date.now()}-${Math.random().toString(36).substring(2,11)}`,timestamp:new Date().toISOString(),level:a,message:b,data:c,userId:d?.userId,component:d?.component,action:d?.action}}debug(a,b,c){let d=this.createEntry("debug",a,b,c);this.addLog(d)}info(a,b,c){let d=this.createEntry("info",a,b,c);this.addLog(d),console.info(`[INFO] ${a}`,b)}warn(a,b,c){let d=this.createEntry("warn",a,b,c);this.addLog(d),console.warn(`[WARN] ${a}`,b)}error(a,b,c){let d=this.createEntry("error",a,b,c);this.addLog(d),console.error(`[ERROR] ${a}`,b)}addLog(a){this.logs.unshift(a),this.logs.length>this.maxLogs&&(this.logs=this.logs.slice(0,this.maxLogs))}getLogs(){return this.logs}clearLogs(){this.logs=[]}exportLogs(){return JSON.stringify(this.getLogs(),null,2)}filterLogs(a,b,c){return this.getLogs().filter(d=>(!a||d.level===a)&&(!b||d.component===b)&&(!c||!!d.message.toLowerCase().includes(c.toLowerCase())))}debugToConsole(){return"Console debugging only available in browser"}getConsoleStyle(a){switch(a){case"debug":return"background: #607d8b; color: white; padding: 2px 6px; border-radius: 2px;";case"info":return"background: #2196f3; color: white; padding: 2px 6px; border-radius: 2px;";case"warn":return"background: #ff9800; color: black; padding: 2px 6px; border-radius: 2px;";case"error":return"background: #f44336; color: white; padding: 2px 6px; border-radius: 2px;";default:return"color: inherit"}}constructor(){this.logs=[],this.maxLogs=1e3}}let e=new d},46818:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>q});var d=c(37413),e=c(4536),f=c.n(e),g=c(61120),h=c(70403),i=c(50662),j=c(75986),k=c(8974);let l=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=g.forwardRef(({className:a,variant:b,size:c,asChild:e=!1,...f},g)=>{let i=e?h.DX:"button";return(0,d.jsx)(i,{className:function(...a){return(0,k.QP)((0,j.$)(a))}(l({variant:b,size:c,className:a})),ref:g,...f})});m.displayName="Button";var n=c(75575),o=c(20819),p=c(305);function q(){return(0,d.jsxs)("div",{className:"min-h-screen bg-gray-900 relative flex items-center justify-center",children:[(0,d.jsx)(p.DynamicBackground,{}),(0,d.jsxs)("div",{className:"relative z-10 text-center text-white max-w-md mx-auto p-6",children:[(0,d.jsx)("div",{className:"flex justify-center mb-6",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(n.A,{className:"h-20 w-20 text-purple-400"}),(0,d.jsx)("div",{className:"absolute -top-2 -right-2 bg-purple-600 text-white text-xs px-2 py-1 rounded-full",children:"404"})]})}),(0,d.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Kh\xf4ng t\xecm thấy trang"}),(0,d.jsx)("p",{className:"text-gray-300 mb-6",children:"Trang bạn đang t\xecm kiếm kh\xf4ng tồn tại hoặc đ\xe3 bị di chuyển."}),(0,d.jsx)("div",{className:"space-y-3",children:(0,d.jsx)(m,{asChild:!0,className:"w-full bg-purple-600 hover:bg-purple-700",children:(0,d.jsxs)(f(),{href:"/",children:[(0,d.jsx)(o.A,{className:"mr-2 h-5 w-5"}),"Trở về trang chủ"]})})})]})]})}},50610:(a,b,c)=>{Promise.resolve().then(c.bind(c,13176))},52608:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"F:\\\\studio.ankun\\\\app\\\\error.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\studio.ankun\\app\\error.tsx","default")},54216:(a,b,c)=>{Promise.resolve().then(c.bind(c,2586))},55192:(a,b,c)=>{"use strict";c.d(b,{BT:()=>j,Wu:()=>k,ZB:()=>i,Zp:()=>g,aR:()=>h,wL:()=>l});var d=c(60687),e=c(43210),f=c(96241);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...b}));g.displayName="Card";let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex flex-col space-y-1.5 p-6",a),...b}));h.displayName="CardHeader";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("h3",{ref:c,className:(0,f.cn)("text-2xl font-semibold leading-none tracking-tight",a),...b}));i.displayName="CardTitle";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("p",{ref:c,className:(0,f.cn)("text-sm text-muted-foreground",a),...b}));j.displayName="CardDescription";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("p-6 pt-0",a),...b}));k.displayName="CardContent";let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{ref:c,className:(0,f.cn)("flex items-center p-6 pt-0",a),...b}));l.displayName="CardFooter"},58014:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i,metadata:()=>h});var d=c(37413),e=c(2882),f=c.n(e),g=c(22308);c(82704),c(81310);let h={title:process.env.COMPANY_NAME,description:process.env.COMPANY_DESCRIPTION};function i({children:a}){return(0,d.jsxs)("html",{lang:"vi",suppressHydrationWarning:!0,children:[(0,d.jsx)("head",{children:(0,d.jsx)("link",{rel:"icon",href:process.env.COMPANY_LOGOICO})}),(0,d.jsx)(g.RootLayoutClient,{className:f().className,children:a})]})}},61037:(a,b,c)=>{"use strict";c.d(b,{a:()=>e});var d=c(43210);function e(){let[a,b]=d.useState(null);return d.useEffect(()=>{let a=()=>{b(window.innerWidth<768)};a(),window.addEventListener("resize",a);let c=window.matchMedia("(max-width: 767px)");return c.addEventListener("change",a),()=>{window.removeEventListener("resize",a),c.removeEventListener("change",a)}},[]),null!==a&&a}},68988:(a,b,c)=>{"use strict";c.d(b,{p:()=>g});var d=c(60687),e=c(43210),f=c(96241);let g=e.forwardRef(({className:a,type:b,...c},e)=>(0,d.jsx)("input",{type:b,className:(0,f.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));g.displayName="Input"},69327:(a,b,c)=>{"use strict";c.d(b,{F:()=>h});var d=c(60687),e=c(43210),f=c(68123),g=c(96241);let h=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.bL,{ref:e,className:(0,g.cn)("relative overflow-hidden",a),...c,children:[(0,d.jsx)(f.LM,{className:"h-full w-full rounded-[inherit]",children:b}),(0,d.jsx)(i,{}),(0,d.jsx)(f.OK,{})]}));h.displayName=f.bL.displayName;let i=e.forwardRef(({className:a,orientation:b="vertical",...c},e)=>(0,d.jsx)(f.VM,{ref:e,orientation:b,className:(0,g.cn)("flex touch-none select-none transition-colors","vertical"===b&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===b&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...c,children:(0,d.jsx)(f.lr,{className:"relative flex-1 rounded-full bg-border"})}));i.displayName=f.VM.displayName},69804:(a,b,c)=>{"use strict";async function d(a){try{let b=await fetch("/api/activity-log",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...a,details:{...a.details,url:window.location.href,userAgent:navigator.userAgent}})});if(!b.ok){let a=`API Error: ${b.status} ${b.statusText}`,c=await b.text();try{a=JSON.parse(c).error||a}catch{a=c||a}throw Error(a)}return await b.json()}catch(a){return{success:!1,error:a instanceof Error?a.message:"Unknown client-side error"}}}function e(a,b,c){return d({action:"login_attempt",entityType:"auth",status:b,description:`User '${c.username}' login attempt via ${a} was ${b}.`,details:c})}function f(a,b,c){return d({action:"registration_attempt",entityType:"auth",status:b,description:`User '${c.username}' registration attempt via ${a} was ${b}.`,details:c})}function g(a,b,c){return d({action:"ui_interaction",entityType:"ui_element",entityId:b,description:`User interacted with ${a} '${b}'.`,details:c})}function h(a,b,c,e){return d({action:`${b}_submission`,entityType:"submission",entityId:a,status:c,description:`Submission '${a}' activity: ${b} ${c}.`,details:e})}c.d(b,{Pv:()=>g,cV:()=>f,kF:()=>h,u1:()=>e})},75474:(a,b,c)=>{Promise.resolve().then(c.bind(c,305)),Promise.resolve().then(c.t.bind(c,4536,23))},77259:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,86346,23)),Promise.resolve().then(c.t.bind(c,27924,23)),Promise.resolve().then(c.t.bind(c,40099,23)),Promise.resolve().then(c.t.bind(c,38243,23)),Promise.resolve().then(c.t.bind(c,28827,23)),Promise.resolve().then(c.t.bind(c,62763,23)),Promise.resolve().then(c.t.bind(c,97173,23)),Promise.resolve().then(c.bind(c,25587))},81310:()=>{},82704:()=>{},85343:(a,b,c)=>{"use strict";c.d(b,{RootLayoutClient:()=>B});var d=c(60687),e=c(43210),f=c(14947),g=c(10218);function h({children:a,...b}){return(0,d.jsx)(g.N,{...b,children:a})}var i=c(61037);function j({children:a}){let b=(0,i.a)();return(0,d.jsx)("main",{className:`relative z-10 ${b?"pt-[7rem]":"pt-[6rem]"} min-h-screen bg-background text-foreground transition-colors duration-300 overflow-auto`,children:a})}var k=c(6839),l=c(92576),m=c(88920),n=c(56085),o=c(24934),p=c(11860),q=c(72730),r=c(27900),s=c(55192),t=c(69327),u=c(15616),v=c(92606);let w=0,x=(a="msg")=>(w++,`${a}_${w}`),y=()=>new Date(1e3*Math.floor(new Date().getTime()/1e3)).toISOString();function z({isOpen:a,onClose:b}){let[c,f]=(0,e.useState)([{id:x("welcome"),role:"assistant",content:"Xin ch\xe0o! T\xf4i l\xe0 trợ l\xfd AI của An Kun Studio. T\xf4i c\xf3 thể trả lời c\xe1c c\xe2u hỏi li\xean quan đến An Kun Studio, dịch vụ \xe2m nhạc v\xe0 ph\xe2n phối nhạc số. Bạn cần gi\xfap g\xec?",timestamp:y()}]),[g,h]=(0,e.useState)(""),[i,j]=(0,e.useState)(!1),[k,w]=(0,e.useState)(0),[z,A]=(0,e.useState)(!0),B=(0,e.useRef)(null),C=(0,e.useRef)(null),D=async a=>{if(a.preventDefault(),""===g.trim()||i)return;let b={id:x("user"),role:"user",content:g,timestamp:y()};f(a=>[...a,b]),h(""),j(!0);try{let d=new AbortController,e=setTimeout(()=>{d.abort()},15e3),g=await fetch("/api/ai-chat",{signal:d.signal,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Request-ID":x("req")},body:JSON.stringify({messages:[...c,b].map(a=>({role:a.role,content:a.content}))})});clearTimeout(e);let h=g.headers.get("content-type");if(!h?.includes("application/json"))throw Error("INVALID_RESPONSE");if(!g.ok){if(await g.json().catch(()=>null),(g.status>=500||0===g.status)&&k<2){w(a=>a+1);let b=1e3*Math.pow(2,k);await new Promise(a=>setTimeout(a,b)),D(a);return}if(401===g.status)throw Error("AUTH_ERROR");if(400===g.status)throw Error("REQUEST_ERROR");if(402===g.status)throw Error("QUOTA_EXCEEDED");else if(429===g.status)throw Error("RATE_LIMIT");else throw Error("API_ERROR")}let i=await g.json();if(i.isError)throw Error("RESPONSE_ERROR");let j={id:x("ai"),role:"assistant",content:i.response??"Xin lỗi, t\xf4i kh\xf4ng thể xử l\xfd y\xeau cầu n\xe0y. Vui l\xf2ng thử lại sau.",timestamp:y()};f(a=>[...a,j]),w(0)}catch(d){let a="Xin lỗi! Hiện tại AI Assistant đang gặp trục trặc. Vui l\xf2ng thử lại sau v\xe0i ph\xfat.",b="\n\nBạn c\xf3 thể thử: \n1. Đặt c\xe2u hỏi ngắn gọn hơn\n2. Chia nhỏ c\xe2u hỏi th\xe0nh nhiều phần\n3. Chờ một l\xfac rồi thử lại";if(d instanceof Error){let c=d.message||"UNKNOWN_ERROR";switch(console.warn("AI Chat error type:",c),c){case"AUTH_ERROR":a="Xin lỗi! C\xf3 vấn đề về x\xe1c thực. Vui l\xf2ng li\xean hệ Admin qua:\n• Email: admin@ankunstudio.com\n• Hoặc Facebook page của ch\xfang t\xf4i";break;case"REQUEST_ERROR":a="Y\xeau cầu kh\xf4ng hợp lệ. Vui l\xf2ng thử lại sau.";break;case"QUOTA_EXCEEDED":a="Quota AI đ\xe3 hết. Vui l\xf2ng li\xean hệ admin để được hỗ trợ.";break;case"RATE_LIMIT":a="Bạn đang gửi y\xeau cầu qu\xe1 nhanh. Vui l\xf2ng thử lại sau.";break;case"RESPONSE_ERROR":a="Rất tiếc! AI kh\xf4ng thể xử l\xfd y\xeau cầu n\xe0y."+b;break;case"INVALID_RESPONSE":a="Định dạng phản hồi kh\xf4ng hợp lệ. Vui l\xf2ng b\xe1o c\xe1o lỗi n\xe0y cho admin.";break;case"ABORTED":a="Kết nối bị gi\xe1n đoạn! Vui l\xf2ng kiểm tra mạng v\xe0 thử lại.";break;default:a+=b}}let c={id:x("error"),role:"assistant",content:a,timestamp:y()};f(a=>[...a,c]),d instanceof Error&&!d.message.includes("API_ERROR")&&w(0)}finally{j(!1)}};function E({message:a,index:b}){let c="user"===a.role;return(0,d.jsx)(l.P.div,{className:`flex ${c?"justify-end":"justify-start"} mb-4`,initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1,transition:{delay:.1*b,duration:.4,ease:[.4,0,.2,1]}},children:(0,d.jsx)("div",{className:`flex items-start gap-2 max-w-[80%] ${c?"flex-row-reverse":""}`,children:(0,d.jsxs)(l.P.div,{className:`p-4 rounded-2xl backdrop-blur-lg border
                            ${c?"bg-gradient-to-br from-purple-600/90 to-purple-700/90 border-purple-500/30 text-white shadow-[0_4px_20px_rgba(168,85,247,0.2)]":"bg-gradient-to-br from-white/15 to-white/5 border-white/20 text-white/90 shadow-[0_4px_20px_rgba(255,255,255,0.1)]"} 
                            hover:shadow-2xl hover:scale-[1.02] hover:-translate-y-0.5 transition-all duration-300
                        `,whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:400,damping:20},children:[(0,d.jsx)("p",{className:"text-sm leading-relaxed",children:a.content}),(0,d.jsx)("div",{className:`text-xs mt-2 ${c?"text-purple-200/80":"text-white/60"}`,children:(a=>{let b=new Date(a),c=b.getHours().toString().padStart(2,"0"),d=b.getMinutes().toString().padStart(2,"0");return`${c}:${d}`})(a.timestamp)})]})})})}return a?z?(0,d.jsx)("div",{className:"fixed inset-0 z-50",children:(0,d.jsx)(v.LoadingScreen,{title:"AI Assistant",subtitle:"Đang khởi động trợ l\xfd AI...",duration:2e3,onComplete:()=>A(!1)})}):(0,d.jsx)("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-900/40 via-blue-900/30 to-black/30 backdrop-blur-[12px] z-50 flex items-center justify-center p-4",children:(0,d.jsx)(m.N,{children:(0,d.jsx)(l.P.div,{className:"w-full max-w-2xl",variants:{hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",damping:30,stiffness:300,mass:.5}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2,ease:"easeOut"}}},initial:"hidden",animate:"visible",exit:"exit",children:(0,d.jsxs)(s.Zp,{className:"shadow-[0_8px_32px_rgba(0,0,0,0.2)] border border-white/10 bg-gradient-to-br from-white/15 via-white/10 to-white/5 backdrop-blur-xl overflow-hidden",children:[(0,d.jsxs)(s.aR,{className:"border-b border-white/10 bg-gradient-to-r from-white/10 via-white/5 to-transparent p-4 flex flex-row justify-between items-center",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(l.P.div,{whileHover:{scale:1.1,rotate:180},transition:{type:"spring",stiffness:300,damping:10},children:(0,d.jsx)(n.A,{className:"h-5 w-5 text-purple-400 filter drop-shadow-[0_0_8px_rgba(168,85,247,0.5)]"})}),(0,d.jsx)("h3",{className:"font-medium text-white text-shadow-sm",children:"AI Assistant"})]}),(0,d.jsx)(o.$,{variant:"ghost",size:"icon",className:"rounded-full text-white/80 hover:text-white hover:bg-white/10 transition-all duration-300 hover:shadow-[0_0_15px_rgba(255,255,255,0.1)]",onClick:b,children:(0,d.jsx)(p.A,{className:"h-4 w-4"})})]}),(0,d.jsx)(s.Wu,{className:"p-0",children:(0,d.jsx)(t.F,{className:"h-[400px] p-4 scrollbar-thin scrollbar-track-white/5 scrollbar-thumb-white/20",children:(0,d.jsxs)("div",{className:"space-y-4",children:[c.map((a,b)=>(0,d.jsx)(E,{message:a,index:b},a.id)),(0,d.jsx)("div",{ref:B})]})})}),(0,d.jsx)(s.wL,{className:"border-t border-white/10 bg-gradient-to-r from-white/10 via-white/5 to-transparent p-4",children:(0,d.jsxs)("form",{onSubmit:D,className:"flex gap-2 w-full",children:[(0,d.jsx)(u.T,{ref:C,value:g,onChange:a=>h(a.target.value),placeholder:"Nhập tin nhắn...",className:"min-h-[44px] max-h-[120px] bg-white/10 border-white/20 text-white/90 placeholder:text-white/50 resize-none rounded-2xl backdrop-blur-md focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all duration-300 overflow-y-auto"}),(0,d.jsx)(o.$,{type:"submit",size:"icon",disabled:i||""===g.trim(),className:`rounded-full h-11 w-11 bg-gradient-to-br from-purple-500 to-purple-700 hover:from-purple-600 hover:to-purple-800 disabled:from-purple-800 disabled:to-purple-900 shadow-lg hover:shadow-purple-500/20 transition-all duration-300
                                        ${i?"animate-pulse":""}`,children:i?(0,d.jsx)(q.A,{className:"h-4 w-4 animate-spin"}):(0,d.jsx)(r.A,{className:"h-4 w-4"})})]})})]})})})}):null}function A(){let[a,b]=(0,e.useState)(!1);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.P.div,{className:"fixed bottom-6 right-6 z-40",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.3},children:(0,d.jsx)(o.$,{onClick:()=>b(!0),className:"w-14 h-14 rounded-full bg-gradient-to-r from-purple-600 to-blue-500 shadow-lg hover:shadow-purple-600/20 hover:from-purple-700 hover:to-blue-600 flex items-center justify-center",size:"icon",children:(0,d.jsx)(l.P.div,{animate:{rotate:[0,20,-20,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,repeatType:"loop",ease:"easeInOut",times:[0,.2,.8,1]},children:(0,d.jsx)(n.A,{className:"h-6 w-6 text-white"})})})}),(0,d.jsx)(m.N,{children:a&&(0,d.jsx)(z,{isOpen:a,onClose:()=>b(!1)})})]})}function B({children:a,className:b}){let[c,g]=(0,e.useState)(!0);return(0,d.jsx)("body",{className:b,suppressHydrationWarning:!0,children:c?(0,d.jsx)(v.LoadingScreen,{title:"An Kun Studio",subtitle:"Đang tải trang...",duration:3e3,logoUrl:"\\loading.webm",isAnimation:!0,onComplete:()=>g(!1)}):(0,d.jsx)(h,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:(0,d.jsxs)(f.O,{children:[(0,d.jsx)(k.DynamicBackground,{}),(0,d.jsx)(j,{children:a}),(0,d.jsx)(A,{})]})})})}},90664:(a,b,c)=>{Promise.resolve().then(c.bind(c,52608))},92606:(a,b,c)=>{"use strict";c.d(b,{LoadingScreen:()=>f});var d=c(60687),e=c(43210);function f({onComplete:a,title:b="An Kun Studio",subtitle:c="Đang chuyển hướng ..."}){let[f,g]=(0,e.useState)(0),[h,i]=(0,e.useState)(!0),j=(0,e.useRef)(null),k=(0,e.useRef)(null);(0,e.useRef)(null);let l=(0,e.useCallback)(()=>{k.current=setTimeout(()=>{i(!1),a&&a()},500)},[a]);return((0,e.useCallback)(()=>{j.current=setInterval(()=>{g(a=>{let b=a+(10*Math.random()+2);return b>=100?(j.current&&clearInterval(j.current),l(),100):b})},150)},[l]),h)?(0,d.jsxs)("div",{className:`fixed top-0 left-0 w-full h-full bg-gradient-to-br from-gray-950 via-black to-gray-900 
                     flex flex-col items-center justify-center z-[10000] font-sans
                     ${!h?"opacity-0 transition-opacity duration-500":""}`,children:[(0,d.jsxs)("div",{className:"text-center max-w-[400px]",children:[(0,d.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-red-400 to-pink-400 bg-clip-text text-transparent mb-4 animate-fadeInUp",children:b}),(0,d.jsx)("p",{className:"text-lg text-gray-300 mb-8 animate-fadeInUp",children:c}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("div",{className:"w-[300px] h-2 bg-gray-700 rounded-full overflow-hidden mx-auto mb-2",children:(0,d.jsx)("div",{className:"h-full bg-gradient-to-r from-red-500 via-pink-500 to-orange-500 rounded-full transition-all duration-300",style:{width:`${f}%`}})}),(0,d.jsxs)("div",{className:"text-sm text-gray-400 animate-fadeInUp",children:[Math.round(f),"%"]})]}),(0,d.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,d.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce",style:{animationDelay:"0s"}}),(0,d.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),(0,d.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})]}),(0,d.jsxs)("div",{className:"absolute bottom-4 text-center text-xs text-gray-500",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("i",{className:"fas fa-info-circle mr-1"})," ",process.env.COMPANY_NAME]}),(0,d.jsxs)("p",{className:"mt-1",children:[(0,d.jsx)("i",{className:"fas fa-copyright mr-1"})," ",process.env.COMPANY_NAME," 2025"]})]})]}):null}c(17360);let g=`
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fadeInUp {
  animation: fadeInUp 1s ease-out forwards;
}
`;if("undefined"!=typeof document){let a=document.createElement("style");a.textContent=g,document.head.appendChild(a)}},96241:(a,b,c)=>{"use strict";c.d(b,{Wl:()=>j,XN:()=>g,cn:()=>f,qY:()=>i,ww:()=>h});var d=c(49384),e=c(82348);function f(...a){return(0,e.QP)((0,d.$)(a))}function g(a){let b=[];return"audio/wav"!==a.type&&b.push("Chỉ chấp nhận file WAV 24-bit, 2 k\xeanh, 192kHz"),a.size>0x6400000&&b.push("File qu\xe1 lớn (tối đa 100MB)"),{valid:0===b.length,errors:b}}function h(){let a=new Date;return a.setDate(a.getDate()+7),a.toISOString().split("T")[0]}function i(a){switch(a.toLowerCase()){case"pending":case"đ\xe3 nhận, đang chờ duyệt":return"bg-yellow-500";case"approved":case"đ\xe3 duyệt, đang chờ ph\xe1t h\xe0nh!":return"bg-green-500";case"rejected":case"đ\xe3 duyệt, từ chối ph\xe1t h\xe0nh":return"bg-red-500";case"processing":case"đang xử l\xfd":return"bg-blue-500";case"published":case"đ\xe3 ph\xe1t h\xe0nh, đang chờ ra mắt":case"ho\xe0n th\xe0nh ph\xe1t h\xe0nh!":return"bg-purple-500";case"draft":return"bg-gray-500";default:return"bg-gray-400"}}async function j(a){let b=[];return"image/jpeg"!==a.type&&"image/jpg"!==a.type&&b.push("Chỉ chấp nhận file ảnh JPG"),a.size>0xa00000&&b.push("File qu\xe1 lớn (tối đa 10MB)"),new Promise(c=>{let d=URL.createObjectURL(a),e=new Image,f=a=>{URL.revokeObjectURL(d),c(a)};e.onload=()=>{(4e3!==e.width||4e3!==e.height)&&b.push("K\xedch thước phải l\xe0 4000x4000px"),f({valid:0===b.length,errors:b})},e.onerror=()=>{b.push("File ảnh kh\xf4ng hợp lệ"),f({valid:!1,errors:b})},e.src=d})}},99766:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>f});var d=c(37413),e=c(13176);function f(){return(0,d.jsx)(e.LoadingScreen,{title:"An Kun Studio",subtitle:"Ch\xe0o mừng bạn đến với An Kun Studio",duration:3e3,logoUrl:process.env.LOGO})}}};